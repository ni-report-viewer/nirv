"use strict";(self["webpackChunknirv"]=self["webpackChunknirv"]||[]).push([[983],{4776:function(t,n,e){e.r(n),e.d(n,{default:function(){return rt}});var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",{staticClass:"px-0 m-3",attrs:{fluid:""}},[t.store.participantMetrics?e("b-container",{staticClass:"px-0",attrs:{fluid:""}},[e("TheSidebar"),"study"===t.store.currentParticipant?e("ReportGroup"):e("ReportParticipant")],1):e("TheSpinner")],1)},i=[],o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-sidebar",{attrs:{id:"sidebar-backdrop",title:"Study overview","backdrop-variant":"dark",backdrop:"",lazy:"",shadow:"",visible:t.showSidebar}},[e("TheExplainer",{attrs:{"explainer-text":t.sidebarExplainerText}}),e("b-nav",{staticClass:"w-100",attrs:{vertical:"",pills:""}},[e("b-nav-item",{staticClass:"mx-1",attrs:{active:"study"===t.store.currentParticipant},on:{click:function(n){return t.store.selectParticipant("study")}}},[t._v(" "+t._s(t.store.studyId)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.store.sidebarFilter,expression:"store.sidebarFilter"}],staticClass:"m-1",attrs:{placeholder:"filter participants"},domProps:{value:t.store.sidebarFilter},on:{input:function(n){n.target.composing||t.$set(t.store,"sidebarFilter",n.target.value)}}}),t._l(t.store.filteredParticipants,(function(n){return e("b-nav-item",{key:n,staticClass:"mx-1",attrs:{active:n===t.store.currentParticipant},on:{click:function(e){return t.store.selectParticipant(n)}}},[t.store.participantRatings[n].reviewed?e("b-icon",{staticClass:"mr-2",attrs:{"align-self":"end",icon:"check-circle-fill",scale:"0.9",variant:"success"}}):e("b-icon",{staticClass:"mr-2",attrs:{icon:"circle",scale:"0.5",variant:"secondary"}}),t._v(" "+t._s(n)+" ")],1)}))],2)],1)},u=[],a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.collapseId&&t.questionId?e("b-container",{staticClass:"text-right"},[e("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.collapseId,expression:"collapseId"}],staticClass:"question-mark when-open",attrs:{id:t.closeId,icon:"x-circle",variant:"primary","aria-hidden":"true"}}),e("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.collapseId,expression:"collapseId"}],staticClass:"question-mark when-closed",attrs:{id:t.questionId,icon:"question-circle",variant:"primary","aria-hidden":"true"}}),e("b-collapse",{staticClass:"mb-2 text-left",attrs:{id:t.collapseId}},[e("b-card",[e("p",{staticClass:"card-text"},[t._v(t._s(t.explainerText))])])],1),e("b-tooltip",{attrs:{target:t.questionId,triggers:"hover"}},[t._v("learn more about this component")]),e("b-tooltip",{attrs:{target:t.closeId,triggers:"hover"}},[t._v("close the explainer")])],1):t._e()},c=[],f={name:"TheExplainer",data(){return{collapseId:null,questionId:null,closeId:null}},props:{explainerText:{type:String,default:"Here is a helpful description of this component!"}},mounted(){this.collapseId="collapse"+this._uid,this.questionId="question"+this._uid,this.closeId="close"+this._uid}},s=f,l=e(1001),h=(0,l.Z)(s,a,c,!1,null,"05b8cba8",null),d=h.exports,p=e(7833),g={name:"TheSidebar",components:{TheExplainer:d},setup(){const t=(0,p.n)(),n=!0,e="Select a participant below to see their report. Or select the study ID at the top to see a group summary. You can filter the participant list using the text input. You can close this sidebar by clicking on the 'x' in the top right or by simply clicking outside of the sidebar.";return{showSidebar:n,sidebarExplainerText:e,store:t}}},v=g,b=(0,l.Z)(v,o,u,!1,null,null,null),y=b.exports,m=e(8966),_=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",{staticClass:"px-0"},[e("TheTopbar",{attrs:{sidebarOn:"",isGroupReport:""}}),t.store.participantMetrics?e("b-container",{staticClass:"px-0 mx-0"},[e("TheExplainer",{attrs:{"explainer-text":t.explainerText.metrics}}),e("b-form-group",{staticClass:"text-left",attrs:{label:"Select scatterplot metrics"}},[e("b-form-checkbox-group",{attrs:{id:"checkbox-group-scatter",options:t.store.metricOptions,name:"scatter-metrics"},model:{value:t.scatterMetrics,callback:function(n){t.scatterMetrics=n},expression:"scatterMetrics"}})],1),e("ScatterplotMatrix",{attrs:{dataProp:t.groupReport.participants,metricsProp:t.scatterMetrics},on:{updateBrushedSubjects:t.updateBrushedParticipants,updateSelectedSubject:t.updateSelectedParticipant}}),e("b-form-group",{staticClass:"text-left",attrs:{label:"Select swarm plot metrics"}},[e("b-form-checkbox-group",{attrs:{id:"checkbox-group-swarm",options:t.store.metricOptions,name:"swarm-metrics"},model:{value:t.swarmMetrics,callback:function(n){t.swarmMetrics=n},expression:"swarmMetrics"}})],1),t.groupReport.participants.length>100?e("div",t._l(t.swarmMetrics,(function(n){return e("SwarmPlot",{key:n,attrs:{data:t.groupReport.participants,metric:n},on:{updateBrushedSubjects:t.updateBrushedParticipants,updateSelectedSubject:t.updateSelectedParticipant}})})),1):e("div",t._l(t.swarmMetrics,(function(n){return e("ViolinPlot",{key:n,attrs:{data:t.groupReport.participants,metric:n},on:{updateBrushedSubjects:t.updateBrushedParticipants,updateSelectedSubject:t.updateSelectedParticipant}})})),1),e("b-card",{staticClass:"text-left p-0 mb-5 mt-2",attrs:{footer:"This list scrolls left/right. Click on a participant ID to go to their report."},scopedSlots:t._u([{key:"header",fn:function(){return[e("b-row",{staticClass:"d-flex align-items-center"},[e("b-col",{staticClass:"text-left",attrs:{cols:"7"}},[e("h5",{staticClass:"m-0"},[t._v(" Selected subjects: "+t._s(t.store.brushedParticipants.length)+" ")])]),e("b-col",{staticClass:"text-right",attrs:{cols:"5"}},[e("b-button",{staticClass:"m-0",attrs:{id:"clipboard-button",variant:"outline-primary"},on:{click:function(n){return t.copyBrushedSubjectsToClipboard()}}},[e("b-icon",{staticClass:"p m-0",attrs:{icon:"clipboard","aria-hidden":"true"}})],1),e("b-tooltip",{attrs:{target:"clipboard-button",triggers:"hover"}},[t._v("copy subject list to clipboard")])],1)],1)]},proxy:!0}],null,!1,178338894)},[e("b-card-text",[e("b-nav",{staticClass:"pb-0 text-left brushed-subject-nav",attrs:{vertical:""}},t._l(t.store.brushedParticipants,(function(n){return e("b-nav-item",{key:n,on:{click:function(e){return t.updateSelectedParticipant(n)}}},[t._v(t._s(n))])})),1)],1)],1)],1):e("TheSpinner")],1)},x=[],w=(e(6699),e(5706)),M=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"scatterdiv"}},[e("svg",{ref:"chart",staticClass:"scatterplot-matrix",attrs:{id:"scattersvg"}})])},k=[];const S=e(9634);var T={name:"ScatterplotMatrix",props:{dataProp:{type:Array},metricsProp:{type:Array}},data(){return{margin:{top:10,right:10,bottom:10,left:20},maxWidth:650,width:null,padding:20,radius:4,brushedSubjects:null,metrics:[],data:[],mounted:!1}},computed:{height(){return this.metrics.length?this.width:0},size(){return(this.width-(this.columns.length+1)*this.padding)/this.columns.length+this.padding},columns(){const t=this;return Object.keys(this.data[0]).filter((n=>t.metrics.includes(n)&&"number"===typeof t.data[0][n]))},yAxis(){const t=S.axisLeft().ticks(6).tickSize(-this.size*this.columns.length),n=this;return e=>e.selectAll("g").data(this.y).join("g").attr("transform",((t,e)=>`translate(0,${e*n.size})`)).each((function(n){return S.select(this).call(t.scale(n))})).call((t=>t.select(".domain").remove())).call((t=>t.selectAll(".tick line").attr("stroke","#ddd")))},xAxis(){const t=S.axisBottom().ticks(6).tickSize(this.size*this.columns.length),n=this;return e=>e.selectAll("g").data(this.x).join("g").attr("transform",((t,e)=>`translate(${e*n.size},0)`)).each((function(n){return S.select(this).call(t.scale(n))})).call((t=>t.select(".domain").remove())).call((t=>t.selectAll(".tick line").attr("stroke","#ddd")))},x(){const t=this.padding+this.margin.left+this.margin.right;return this.columns.map((n=>S.scaleLinear().domain(S.extent(this.data,(t=>t[n]))).rangeRound([t/2,this.size-t/2])))},y(){const t=this.padding+this.margin.top+this.margin.top,n=this;return this.x.map((e=>e.copy().range([n.size-t/2,t/2])))}},watch:{brushedSubjects:{deep:!0,handler:function(){this.$emit("updateBrushedSubjects",{metric:"scatterplotMatrix",brushed:this.brushedSubjects})}},metricsProp:{deep:!0,immediate:!0,handler:function(){this.metricsProp&&(this.metrics=this.metricsProp,this.mounted&&this.createChart())}},dataProp:{deep:!0,immediate:!0,handler:function(){this.dataProp&&(this.data=this.dataProp)}}},mounted(){this.width=Math.min(this.$refs.chart.clientWidth,this.maxWidth),this.brushedSubjects=null,this.createChart(),this.mounted=!0},methods:{createChart(){S.selection.prototype.moveToFront=function(){return this.each((function(){this.parentNode.appendChild(this)}))},S.selection.prototype.moveToBack=function(){return this.each((function(){var t=this.parentNode.firstChild;t&&this.parentNode.insertBefore(this,t)}))},S.select("#scatterdiv").append("div").attr("id","scattertooltip").attr("style","position: absolute; background-color: white; display: none; padding: 2px; border: 1px solid black; border-radius: 5px;"),S.selectAll("#scattersvg > *").remove();const t=S.select("#scattersvg").attr("width",this.width).attr("height",this.height).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");t.append("style").text(`circle.hidden { fill: #000; fill-opacity: 1; r: ${this.radius/3}; }`),t.append("g").call(this.xAxis),t.append("g").call(this.yAxis);const n=this,e=t.append("g").selectAll("g").data(S.cross(S.range(this.columns.length),S.range(this.columns.length))).join("g").attr("transform",(([t,e])=>`translate(${t*n.size},${e*n.size})`));e.append("rect").attr("fill","none").attr("stroke","#aaa").attr("x",this.padding/2+.5).attr("y",this.padding/2+.5).attr("width",this.size-this.padding).attr("height",this.size-this.padding),e.each((function([t,e]){S.select(this).selectAll("circle").data(n.data.filter((r=>!isNaN(r[n.columns[t]])&&!isNaN(r[n.columns[e]])))).join("circle").attr("cx",(e=>n.x[t](e[n.columns[t]]))).attr("cy",(t=>n.y[e](t[n.columns[e]])))})),e.call(this.brush);const r=e.selectAll("circle").attr("r",this.radius).attr("fill-opacity",.7).attr("fill","blue").style("cursor","pointer").on("mouseover",(t=>{S.select(S.event.currentTarget).transition().duration(100).attr("r",2*n.radius),S.select("#scattertooltip").transition().duration(200).style("display","initial").text(t.participant_session_id)})).on("mouseout",(()=>{S.select(S.event.currentTarget).transition().duration(100).attr("r",n.radius),S.select("#scattertooltip").style("display","none")})).on("mousemove",(()=>{S.select("#scattertooltip").style("left",S.event.pageX+10+"px").style("top",S.event.pageY+10+"px")})).on("click",(t=>{n.$emit("updateSelectedSubject",t.participant_session_id)}));return r.moveToFront(),t.append("g").style("font","bold 10px sans-serif").style("pointer-events","none").selectAll("text").data(this.columns).join("text").attr("transform",((t,e)=>`translate(${e*n.size},${e*n.size})`)).attr("x",this.padding).attr("y",this.padding).attr("dy",".71em").attr("font-size","1.5em").text((t=>t)),t.node()},brush(t){const n=t.selectAll("circle"),e=this,r=S.brush().extent([[this.padding/2,this.padding/2],[this.size-this.padding/2,this.size-this.padding/2]]).on("start",o).on("brush",u).on("end",a);let i;function o(){i!==this&&(S.select(i).call(r.move,null),i=this)}function u([t,r]){if(null===S.event.selection)return;const[[i,o],[u,a]]=S.event.selection;n.classed("hidden",(n=>i>e.x[t](n[e.columns[t]])||u<e.x[t](n[e.columns[t]])||o>e.y[r](n[e.columns[r]])||a<e.y[r](n[e.columns[r]]))),e.brushedSubjects=e.data.filter((n=>e.x[t](n[e.columns[t]])>=i&&e.x[t](n[e.columns[t]])<=u&&e.y[r](n[e.columns[r]])>=o&&e.y[r](n[e.columns[r]])<=a)).map((t=>t.participant_session_id))}function a(){null===S.event.selection&&(n.classed("hidden",!1),e.brushedSubjects=null)}t.call(r)},handleResize(){this.width=Math.min(this.$refs.chart.clientWidth,this.$refs.chart.clientHeight);const t=S.select("#scattersvg").attr("width",this.width-this.margin.left-this.margin.right);this.x.forEach((t=>t.range([0,this.width-this.margin.left-this.margin.right])));const n=this;t.selectAll("rect").attr("x",(function(t){return n.x(t.i)})).attr("width",this.x.bandwidth())}}},N=T,A=(0,l.Z)(N,M,k,!1,null,"1fb309f8",null),C=A.exports,E=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-button-toolbar",{staticClass:"sticky-top ml-2"},[e("b-button-group",[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-backdrop",modifiers:{"sidebar-backdrop":!0}}],staticClass:"mb-2 header-button",attrs:{id:"sidebar-button",variant:"outline-primary"}},[e("b-icon",{attrs:{icon:"layout-sidebar","aria-hidden":"true"}})],1),e("b-button",{staticClass:"mb-2 header-button",attrs:{id:"refresh-report",variant:"outline-primary"},on:{click:t.refreshReport}},[e("b-icon",{attrs:{icon:"arrow-clockwise","aria-hidden":"true"}})],1),e("b-button",{staticClass:"mb-2 header-button",attrs:{id:"download-button",variant:"outline-primary"},on:{click:t.downloadReport}},[e("b-icon",{attrs:{icon:"download","aria-hidden":"true"}})],1),t.isGroupReport?t._e():e("b-button",{staticClass:"mb-2 header-button",attrs:{id:"stats-button",variant:"outline-primary"}},[e("b-icon",{attrs:{icon:"bar-chart","aria-hidden":"true"}})],1),t.isGroupReport?t._e():e("b-popover",{attrs:{target:"stats-button",placement:"bottom",triggers:"click"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.subjectId))]},proxy:!0}],null,!1,3138654337)},[t._v(" Here are distributions of some key QC metrics ")]),t.isGroupReport?t._e():e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.ratingmodal",modifiers:{ratingmodal:!0}}],staticClass:"mb-2 header-button",attrs:{id:"rating-button",variant:"outline-primary"}},[e("b-iconstack",[e("b-icon",{attrs:{stacked:"",icon:"check-circle",scale:"0.75","shift-v":"6","shift-h":"-6","aria-hidden":"true"}}),e("b-icon",{attrs:{stacked:"",icon:"slash",scale:"1.5","aria-hidden":"true"}}),e("b-icon",{attrs:{stacked:"",icon:"x-circle",scale:"0.75","shift-v":"-6","shift-h":"6","aria-hidden":"true"}})],1)],1),t.isGroupReport?t._e():e("b-modal",{ref:"ratingmodal",attrs:{id:"ratingmodal",title:t.subjectId},on:{ok:t.onModalOk,hidden:t.handleHidden}},[e("div",{staticClass:"mb-2"},[t._v("Rate this subject:")]),t.store.participantRatings[t.store.currentParticipant]?e("b-form",{ref:"form",on:{submit:function(n){return n.stopPropagation(),n.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("b-form-group",{attrs:{id:"input-group-overall","label-for":"overall-rating",description:"Rate the overall image quality.","invalid-feedback":"rating required",state:null!=t.store.participantRatings[t.store.currentParticipant].rating}},[e("b-form-radio-group",{attrs:{id:"overall-rating",options:t.ratingOptions,"button-variant":"outline-primary",size:"md",buttons:""},model:{value:t.store.participantRatings[t.store.currentParticipant].rating,callback:function(n){t.$set(t.store.participantRatings[t.store.currentParticipant],"rating",n)},expression:"\n              store.participantRatings[store.currentParticipant].rating\n            "}})],1)],1):t._e()],1),e("b-button",{staticClass:"mb-2 header-button",attrs:{id:"next-subject-button",variant:"outline-primary"},on:{click:t.store.nextParticipant}},[e("b-icon",{attrs:{icon:"arrow-right-circle","aria-hidden":"true"}})],1),e("b-dropdown",{staticClass:"mb-2 header-button",attrs:{variant:"outline-primary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("b-icon",{attrs:{icon:"three-dots",id:"more-button","aria-hidden":"true"}})]},proxy:!0}])},[e("b-dropdown-item-button",{attrs:{id:"download-csv",variant:"outline-primary"},on:{click:function(n){return t.store.downloadRatings()}}},[e("b-iconstack",{staticClass:"mr-3",attrs:{"aria-hidden":"true"}},[e("b-icon",{attrs:{stacked:"",icon:"download","shift-h":"-10",variant:"outline-primary"}}),e("b-icon",{attrs:{stacked:"",icon:"list-check","shift-h":"7",variant:"outline-primary"}})],1),t._v(" download ratings csv ")],1),e("b-dropdown-item-button",{directives:[{name:"b-modal",rawName:"v-b-modal.csv-upload-modal",modifiers:{"csv-upload-modal":!0}}],attrs:{id:"upload-csv",variant:"outline-primary"}},[e("b-iconstack",{staticClass:"mr-3",attrs:{"aria-hidden":"true"}},[e("b-icon",{attrs:{stacked:"",icon:"upload","shift-h":"-10",variant:"outline-primary"}}),e("b-icon",{attrs:{stacked:"",icon:"list-check","shift-h":"7",variant:"outline-primary"}})],1),t._v(" upload ratings csv ")],1),e("b-dropdown-item-button",{attrs:{id:"file-issue",variant:"outline-primary",onclick:"window.open('https://github.com/ni-report-viewer/nirv/issues/new','_blank')"}},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"bug","aria-hidden":"true"}}),t._v(" file bug report ")],1)],1)],1),e("b-modal",{ref:"csv-upload-modal",attrs:{id:"csv-upload-modal",title:"Upload a ratings csv file"},on:{ok:t.onCsvUploadOk}},[e("b-form-group",{staticClass:"mt-5 text-left",attrs:{label:"Choose a previously downloaded ratings.csv file."}},[e("b-form-file",{attrs:{state:Boolean(t.ratingsCsvFile),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.ratingsCsvFile,callback:function(n){t.ratingsCsvFile=n},expression:"ratingsCsvFile"}})],1)],1),e("b-tooltip",{attrs:{target:"sidebar-button",triggers:"hover"}},[t._v("toggle sidebar")]),e("b-tooltip",{attrs:{target:"download-button",triggers:"hover"}},[t._v("download this report html file")]),t.isGroupReport?t._e():e("b-tooltip",{attrs:{target:"stats-button",triggers:"hover"}},[t._v("show QC summary stats")]),t.isGroupReport?t._e():e("b-tooltip",{attrs:{target:"rating-button",triggers:"hover"}},[t._v("rate this subject")]),e("b-tooltip",{attrs:{target:"next-subject-button",triggers:"hover"}},[t._v("view the next subject")]),e("b-tooltip",{attrs:{target:"more-button",triggers:"hover"}},[t._v("more options")])],1)},P=[],R=(e(44),e(5108)),z={name:"TheTopBar",props:{report:{type:Object},isGroupReport:{type:Boolean,default:!1}},setup(t){const n=(0,p.n)(),e=(0,w.iH)(),r=()=>{n.readRatingsCsv(e)},i=t.report?.subject_id||"loading...",o=[{text:"Definitely Fail",value:"-2"},{text:"Probably Fail",value:"-1"},{text:"Not Sure",value:"0"},{text:"Probably Pass",value:"1"},{text:"Definitely Pass",value:"2"}],u=()=>{R.log("Download is not yet implemented!")},a=()=>{document.getElementById("report-iframe").contentWindow.location.reload()},c=()=>null!=n.participantRatings[n.currentParticipant].rating,f=()=>{c()||n.resetPartialRating()},s=()=>{c()&&(n.participantRatings[n.currentParticipant].whenRated=(new Date).toString(),n.participantRatings[n.currentParticipant].reviewed=!0,(0,w.Y3)().then((()=>{h.value.hide()})))},l=t=>{t.preventDefault(),s()},h=(0,w.iH)(null);return{store:n,ratingsCsvFile:e,onCsvUploadOk:r,ratingOptions:o,subjectId:i,handleHidden:f,handleSubmit:s,ratingmodal:h,downloadReport:u,refreshReport:a,onModalOk:l}}},q=z,D=(0,l.Z)(q,E,P,!1,null,"c5522aee",null),I=D.exports,U=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:t.divId}},[e("h6",{staticClass:"m-0 p-0 text-left"},[t._v(t._s(t.metric))]),e("svg",{ref:"chart",staticClass:"violin-plot",attrs:{id:t.svgId}})])},L=[];const B=e(9634);var O={name:"violinPlot",props:{data:{type:Array},metric:{type:String}},data(){return{margin:{top:10,right:10,bottom:20,left:10},width:null,height:250,radius:5,brushedSubjects:null,hoveredSubject:null,brushObject:null,histogram:null,bins:null,maxNum:null,yNum:null}},computed:{boxHeight(){return this.height/6},center(){return this.height/2-this.margin.bottom},padding(){return.1*this.radius},svgId(){return"violinsvg-"+this.metric},divId(){return"violindiv-"+this.metric},tooltipId(){return"tooltip-"+this.metric},x(){return B.scaleLinear().domain(B.extent(this.data,(t=>t[this.metric]))).range([this.margin.left,this.width-this.margin.right])},dodgedData(){return this.dodge(this.data,2*this.radius+this.padding)},boxPlotInfo(){const t=this.data.map((t=>t[this.metric])).sort(B.ascending),n=B.quantile(t,.25),e=B.quantile(t,.5),r=B.quantile(t,.75),i=r-n;return{q1:n,median:e,q3:r,interQuantileRange:i,min:n-1.5*i,max:n+1.5*i}}},watch:{brushedSubjects:{deep:!0,handler:function(){this.$emit("updateBrushedSubjects",{metric:this.metric,brushed:this.brushedSubjects})}}},mounted(){this.width=this.$refs.chart.clientWidth,this.brushedSubjects=null;let t=this.getHighestPoint();while(t<this.margin.top)this.radius=this.radius-.1,this.radius<3&&(this.radius=5,this.height=this.height+50),t=this.getHighestPoint();this.createChart()},methods:{getHighestPoint(){return this.height-this.boxHeight-this.margin.bottom-this.margin.top-this.radius-this.padding-Math.max(...this.dodgedData.map((t=>t.y)))},dodge(t,n){const e=n**2,r=t.map((t=>({x:this.x(t[this.metric]),data:t}))).sort(((t,n)=>t.x-n.x)),i=.001;let o=null,u=null;function a(t,n){let r=o;while(r){if(e-i>(r.x-t)**2+(r.y-n)**2)return!0;r=r.next}return!1}for(const c of r){while(o&&o.x<c.x-e)o=o.next;if(a(c.x,c.y=0)){let t=o;c.y=1/0;do{let n=t.y+Math.sqrt(e-(t.x-c.x)**2);n<c.y&&!a(c.x,n)&&(c.y=n),t=t.next}while(t)}c.next=null,null===o?o=u=c:u=u.next=c}return r},createChart(){B.select("#"+this.divId).append("div").attr("id",this.tooltipId).attr("style","position: absolute; background-color: white; display: none; padding: 2px; border: 1px solid black; border-radius: 5px;");var t=B.select("#"+this.svgId).attr("viewBox",[0,0,this.width,this.height]);t.append("style").text(`circle.hidden { fill: #000; fill-opacity: 1; r: ${this.radius/2}; }`);const n=this,e=this.x,r=t=>t.attr("transform",`translate(0,${n.height-n.margin.bottom})`).call(B.axisBottom(e).tickSizeOuter(0));t.append("g").call(r);const i=B.brushX().extent([[this.margin.left,this.margin.top],[this.width-this.margin.right,this.height-this.margin.bottom]]).on("brush",o).on("end",u);function o(){if(null===B.event.selection)return;const t=B.selectAll("#"+n.svgId+" circle"),[e,r]=B.event.selection;t.classed("hidden",(t=>e>t.x||r<t.x)),n.brushedSubjects=n.data.filter((t=>n.x(t[n.metric])>=e&&n.x(t[n.metric])<=r)).map((t=>t.participant_session_id))}function u(){if(null!==B.event.selection)return;const t=B.selectAll("#"+n.svgId+" circle");t.classed("hidden",!1),n.brushedSubjects=null}t.call(i);const a=B.scaleSequential().interpolator(B.interpolateCool).domain(e.domain());t.append("g").selectAll("circle").data(this.dodgedData).join("circle").attr("cx",(t=>t.x)).attr("cy",(t=>n.height-n.boxHeight-n.margin.bottom-n.margin.top-n.radius-n.padding-t.y)).attr("r",this.radius).style("fill",(t=>a(t.data[n.metric]))).style("cursor","pointer").attr("stroke","white").on("mouseover",(t=>{n.hoveredSubject=t.data.participant_session_id,B.select(B.event.currentTarget).transition().duration(100).attr("r",1.5*n.radius),B.select("#"+this.tooltipId).transition().duration(200).style("display","initial").text(t.data.participant_session_id)})).on("mouseout",(()=>{n.hoveredSubject=null,B.select(B.event.currentTarget).transition().duration(100).attr("r",n.radius),B.select("#"+this.tooltipId).style("display","none")})).on("mousemove",(()=>{B.select("#"+this.tooltipId).style("left",B.event.pageX+10+"px").style("top",B.event.pageY+10+"px")})).on("click",(t=>{n.$emit("updateSelectedSubject",t.data.participant_session_id)})),t.append("line").attr("x1",e(this.boxPlotInfo.min)).attr("x2",e(this.boxPlotInfo.max)).attr("y1",this.height-this.margin.bottom-this.padding-this.radius-this.boxHeight/2).attr("y2",this.height-this.margin.bottom-this.padding-this.radius-this.boxHeight/2).attr("stroke","black").attr("stroke-width",2),t.append("rect").attr("y",this.height-this.margin.bottom-this.boxHeight-this.padding-this.radius).attr("x",e(this.boxPlotInfo.q1)).attr("width",e(this.boxPlotInfo.q3)-e(this.boxPlotInfo.q1)).attr("height",this.boxHeight).attr("stroke","none").style("fill","grey"),t.selectAll("toto").data([this.boxPlotInfo.min,this.boxPlotInfo.median,this.boxPlotInfo.max]).enter().append("line").attr("y1",this.height-this.margin.bottom-this.boxHeight-this.padding-this.radius).attr("y2",this.height-this.margin.bottom-this.padding-this.radius).attr("x1",(function(t){return e(t)})).attr("x2",(function(t){return e(t)})).attr("stroke","black").attr("stroke-width",2)}}},j=O,F=(0,l.Z)(j,U,L,!1,null,"1927d316",null),Y=F.exports,H={name:"ReportGroup",components:{TheExplainer:d,ScatterplotMatrix:C,TheSpinner:m.Z,TheTopbar:I,SwarmPlot:Y,ViolinPlot:Y},setup(){const t=(0,p.n)(),n=(0,w.iH)([]),e=(0,w.iH)([]),r=n=>{t.selectParticipant(n)},i={participants:t.participantMetrics},o={metrics:"TODO: explainer text for metrics"},u=t.metricOptions.reduce(((t,n)=>({...t,[n]:null})),{});u.scatterplotMatrix=null;const a=()=>{navigator.clipboard.writeText(t.brushedParticipants.join())},c=n=>{u[n.metric]=n.brushed;const e=Object.values(u).filter((t=>null!==t));t.brushedParticipants=e.length?e.reduce(((t,n)=>t.filter((t=>n.includes(t)))),t.participantMetrics.map((t=>t.participant_session_id))):[]};return{store:t,groupReport:i,updateSelectedParticipant:r,updateBrushedParticipants:c,scatterMetrics:n,swarmMetrics:e,explainerText:o,copyBrushedSubjectsToClipboard:a}}},G=H,X=(0,l.Z)(G,_,x,!1,null,"b2228fe0",null),V=X.exports,$=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",{staticClass:"px-0 d-flex flex-column"},[e("TheTopbar"),t.store.currentHtml?e("b-container",{staticClass:"px-0 mx-0 d-flex flex-column flex-grow-1"},[e("h1",[t._v(t._s(t.store.currentParticipant))]),e("b-container",{staticClass:"d-flex flex-column flex-grow-1 w-100 px-0 mx-0",attrs:{fluid:"lg"}},[e("iframe",{staticClass:"w-100 flex-grow-1 px-0 mx-0",staticStyle:{height:"70vh"},attrs:{id:"report-iframe",srcdoc:t.store.currentHtml,fetchpriority:"high"}})])],1):e("TheSpinner")],1)},Z=[],W={name:"ReportParticipant",components:{TheTopbar:I,TheSpinner:m.Z},setup(){const t=(0,p.n)(),n=async()=>await t.currentParticipantHtml();return{store:t,currentParticipantHtml:n}}},Q=W,K=(0,l.Z)(Q,$,Z,!1,null,"5218ae0e",null),J=K.exports,tt={name:"ReportView",components:{ReportGroup:V,ReportParticipant:J,TheSpinner:m.Z,TheSidebar:y},setup(){const t=(0,p.n)(),n=t.participantRatings[t.selectedParticipant];return{store:t,selectedRating:n}}},nt=tt,et=(0,l.Z)(nt,r,i,!1,null,"146672fa",null),rt=et.exports},9634:function(t,n,e){e.r(n),e.d(n,{FormatSpecifier:function(){return Es},active:function(){return Po},arc:function(){return Ck},area:function(){return Dk},areaRadial:function(){return Hk},ascending:function(){return i},autoType:function(){return Nc},axisBottom:function(){return ft},axisLeft:function(){return st},axisRight:function(){return ct},axisTop:function(){return at},bisect:function(){return s},bisectLeft:function(){return f},bisectRight:function(){return c},bisector:function(){return o},blob:function(){return _f},brush:function(){return uu},brushSelection:function(){return ru},brushX:function(){return iu},brushY:function(){return ou},buffer:function(){return wf},chord:function(){return gu},clientPoint:function(){return xr},cluster:function(){return hv},color:function(){return qe},contourDensity:function(){return Ga},contours:function(){return Ba},create:function(){return ek},creator:function(){return In},cross:function(){return d},csv:function(){return Nf},csvFormat:function(){return pc},csvFormatBody:function(){return gc},csvFormatRow:function(){return bc},csvFormatRows:function(){return vc},csvFormatValue:function(){return yc},csvParse:function(){return hc},csvParseRows:function(){return dc},cubehelix:function(){return Sa},curveBasis:function(){return SS},curveBasisClosed:function(){return NS},curveBasisOpen:function(){return CS},curveBundle:function(){return PS},curveCardinal:function(){return qS},curveCardinalClosed:function(){return IS},curveCardinalOpen:function(){return LS},curveCatmullRom:function(){return jS},curveCatmullRomClosed:function(){return YS},curveCatmullRomOpen:function(){return GS},curveLinear:function(){return Pk},curveLinearClosed:function(){return VS},curveMonotoneX:function(){return nT},curveMonotoneY:function(){return eT},curveNatural:function(){return oT},curveStep:function(){return aT},curveStepAfter:function(){return fT},curveStepBefore:function(){return cT},customEvent:function(){return ne},descending:function(){return p},deviation:function(){return b},dispatch:function(){return bt},drag:function(){return Ka},dragDisable:function(){return de},dragEnable:function(){return pe},dsv:function(){return Tf},dsvFormat:function(){return sc},easeBack:function(){return hf},easeBackIn:function(){return sf},easeBackInOut:function(){return hf},easeBackOut:function(){return lf},easeBounce:function(){return af},easeBounceIn:function(){return uf},easeBounceInOut:function(){return cf},easeBounceOut:function(){return af},easeCircle:function(){return $c},easeCircleIn:function(){return Xc},easeCircleInOut:function(){return $c},easeCircleOut:function(){return Vc},easeCubic:function(){return To},easeCubicIn:function(){return ko},easeCubicInOut:function(){return To},easeCubicOut:function(){return So},easeElastic:function(){return bf},easeElasticIn:function(){return vf},easeElasticInOut:function(){return yf},easeElasticOut:function(){return bf},easeExp:function(){return Gc},easeExpIn:function(){return Yc},easeExpInOut:function(){return Gc},easeExpOut:function(){return Hc},easeLinear:function(){return Cc},easePoly:function(){return Ic},easePolyIn:function(){return qc},easePolyInOut:function(){return Ic},easePolyOut:function(){return Dc},easeQuad:function(){return Rc},easeQuadIn:function(){return Ec},easeQuadInOut:function(){return Rc},easeQuadOut:function(){return Pc},easeSin:function(){return jc},easeSinIn:function(){return Bc},easeSinInOut:function(){return jc},easeSinOut:function(){return Oc},entries:function(){return Xu},event:function(){return Vn},extent:function(){return y},forceCenter:function(){return If},forceCollide:function(){return fs},forceLink:function(){return hs},forceManyBody:function(){return ys},forceRadial:function(){return ms},forceSimulation:function(){return bs},forceX:function(){return _s},forceY:function(){return xs},format:function(){return Us},formatDefaultLocale:function(){return Fs},formatLocale:function(){return js},formatPrefix:function(){return Ls},formatSpecifier:function(){return Cs},geoAlbers:function(){return xg},geoAlbersUsa:function(){return Mg},geoArea:function(){return Ll},geoAzimuthalEqualArea:function(){return Ng},geoAzimuthalEqualAreaRaw:function(){return Tg},geoAzimuthalEquidistant:function(){return Cg},geoAzimuthalEquidistantRaw:function(){return Ag},geoBounds:function(){return Eh},geoCentroid:function(){return Fh},geoCircle:function(){return Jh},geoClipAntimeridian:function(){return ld},geoClipCircle:function(){return gd},geoClipExtent:function(){return _d},geoClipRectangle:function(){return md},geoConicConformal:function(){return Dg},geoConicConformalRaw:function(){return qg},geoConicEqualArea:function(){return _g},geoConicEqualAreaRaw:function(){return mg},geoConicEquidistant:function(){return Bg},geoConicEquidistantRaw:function(){return Lg},geoContains:function(){return Fd},geoDistance:function(){return zd},geoEqualEarth:function(){return Vg},geoEqualEarthRaw:function(){return Xg},geoEquirectangular:function(){return Ug},geoEquirectangularRaw:function(){return Ig},geoGnomonic:function(){return Zg},geoGnomonicRaw:function(){return $g},geoGraticule:function(){return Gd},geoGraticule10:function(){return Xd},geoIdentity:function(){return Wg},geoInterpolate:function(){return Vd},geoLength:function(){return Ed},geoMercator:function(){return Pg},geoMercatorRaw:function(){return Eg},geoNaturalEarth1:function(){return Kg},geoNaturalEarth1Raw:function(){return Qg},geoOrthographic:function(){return tv},geoOrthographicRaw:function(){return Jg},geoPath:function(){return Qp},geoProjection:function(){return gg},geoProjectionMutator:function(){return vg},geoRotation:function(){return Wh},geoStereographic:function(){return ev},geoStereographicRaw:function(){return nv},geoStream:function(){return Sl},geoTransform:function(){return Kp},geoTransverseMercator:function(){return iv},geoTransverseMercatorRaw:function(){return rv},gray:function(){return ia},hcl:function(){return da},hierarchy:function(){return Tv},histogram:function(){return R},hsl:function(){return Ge},html:function(){return qf},image:function(){return Cf},interpolate:function(){return mr},interpolateArray:function(){return fr},interpolateBasis:function(){return Ze},interpolateBasisClosed:function(){return We},interpolateBlues:function(){return CM},interpolateBrBG:function(){return jw},interpolateBuGn:function(){return oM},interpolateBuPu:function(){return aM},interpolateCividis:function(){return OM},interpolateCool:function(){return YM},interpolateCubehelix:function(){return Zb},interpolateCubehelixDefault:function(){return jM},interpolateCubehelixLong:function(){return Wb},interpolateDate:function(){return lr},interpolateDiscrete:function(){return Eb},interpolateGnBu:function(){return fM},interpolateGreens:function(){return PM},interpolateGreys:function(){return zM},interpolateHcl:function(){return Xb},interpolateHclLong:function(){return Vb},interpolateHsl:function(){return Fb},interpolateHslLong:function(){return Yb},interpolateHue:function(){return Pb},interpolateInferno:function(){return tk},interpolateLab:function(){return Hb},interpolateMagma:function(){return JM},interpolateNumber:function(){return hr},interpolateNumberArray:function(){return ar},interpolateObject:function(){return dr},interpolateOrRd:function(){return lM},interpolateOranges:function(){return BM},interpolatePRGn:function(){return Yw},interpolatePiYG:function(){return Gw},interpolatePlasma:function(){return nk},interpolatePuBu:function(){return gM},interpolatePuBuGn:function(){return dM},interpolatePuOr:function(){return Vw},interpolatePuRd:function(){return bM},interpolatePurples:function(){return DM},interpolateRainbow:function(){return GM},interpolateRdBu:function(){return Zw},interpolateRdGy:function(){return Qw},interpolateRdPu:function(){return mM},interpolateRdYlBu:function(){return Jw},interpolateRdYlGn:function(){return nM},interpolateReds:function(){return UM},interpolateRgb:function(){return rr},interpolateRgbBasis:function(){return or},interpolateRgbBasisClosed:function(){return ur},interpolateRound:function(){return Rb},interpolateSinebow:function(){return ZM},interpolateSpectral:function(){return rM},interpolateString:function(){return yr},interpolateTransformCss:function(){return bi},interpolateTransformSvg:function(){return yi},interpolateTurbo:function(){return WM},interpolateViridis:function(){return KM},interpolateWarm:function(){return FM},interpolateYlGn:function(){return MM},interpolateYlGnBu:function(){return xM},interpolateYlOrBr:function(){return SM},interpolateYlOrRd:function(){return NM},interpolateZoom:function(){return Ob},interrupt:function(){return oi},interval:function(){return RT},isoFormat:function(){return AT},isoParse:function(){return PT},json:function(){return Pf},keys:function(){return Hu},lab:function(){return oa},lch:function(){return ha},line:function(){return qk},lineRadial:function(){return Yk},linkHorizontal:function(){return Jk},linkRadial:function(){return nS},linkVertical:function(){return tS},local:function(){return ik},map:function(){return qu},matcher:function(){return kt},max:function(){return I},mean:function(){return U},median:function(){return L},merge:function(){return B},min:function(){return O},mouse:function(){return Mr},namespace:function(){return $t},namespaces:function(){return Vt},nest:function(){return Du},now:function(){return Dr},pack:function(){return tb},packEnclose:function(){return qv},packSiblings:function(){return $v},pairs:function(){return l},partition:function(){return ub},path:function(){return ku},permute:function(){return j},pie:function(){return Lk},piecewise:function(){return Qb},pointRadial:function(){return Gk},polygonArea:function(){return Jb},polygonCentroid:function(){return ty},polygonContains:function(){return oy},polygonHull:function(){return iy},polygonLength:function(){return uy},precisionFixed:function(){return Ys},precisionPrefix:function(){return Hs},precisionRound:function(){return Gs},quadtree:function(){return rs},quantile:function(){return z},quantize:function(){return Kb},radialArea:function(){return Hk},radialLine:function(){return Yk},randomBates:function(){return hy},randomExponential:function(){return dy},randomIrwinHall:function(){return ly},randomLogNormal:function(){return sy},randomNormal:function(){return fy},randomUniform:function(){return cy},range:function(){return k},rgb:function(){return Le},ribbon:function(){return Eu},scaleBand:function(){return xy},scaleDiverging:function(){return Mw},scaleDivergingLog:function(){return kw},scaleDivergingPow:function(){return Tw},scaleDivergingSqrt:function(){return Nw},scaleDivergingSymlog:function(){return Sw},scaleIdentity:function(){return Ly},scaleImplicit:function(){return my},scaleLinear:function(){return Uy},scaleLog:function(){return Zy},scaleOrdinal:function(){return _y},scalePoint:function(){return My},scalePow:function(){return im},scaleQuantile:function(){return um},scaleQuantize:function(){return am},scaleSequential:function(){return vw},scaleSequentialLog:function(){return bw},scaleSequentialPow:function(){return mw},scaleSequentialQuantile:function(){return xw},scaleSequentialSqrt:function(){return _w},scaleSequentialSymlog:function(){return yw},scaleSqrt:function(){return om},scaleSymlog:function(){return Jy},scaleThreshold:function(){return cm},scaleTime:function(){return rw},scaleUtc:function(){return dw},scan:function(){return F},schemeAccent:function(){return Ew},schemeBlues:function(){return AM},schemeBrBG:function(){return Ow},schemeBuGn:function(){return iM},schemeBuPu:function(){return uM},schemeCategory10:function(){return Cw},schemeDark2:function(){return Pw},schemeGnBu:function(){return cM},schemeGreens:function(){return EM},schemeGreys:function(){return RM},schemeOrRd:function(){return sM},schemeOranges:function(){return LM},schemePRGn:function(){return Fw},schemePaired:function(){return Rw},schemePastel1:function(){return zw},schemePastel2:function(){return qw},schemePiYG:function(){return Hw},schemePuBu:function(){return pM},schemePuBuGn:function(){return hM},schemePuOr:function(){return Xw},schemePuRd:function(){return vM},schemePurples:function(){return qM},schemeRdBu:function(){return $w},schemeRdGy:function(){return Ww},schemeRdPu:function(){return yM},schemeRdYlBu:function(){return Kw},schemeRdYlGn:function(){return tM},schemeReds:function(){return IM},schemeSet1:function(){return Dw},schemeSet2:function(){return Iw},schemeSet3:function(){return Uw},schemeSpectral:function(){return eM},schemeTableau10:function(){return Lw},schemeYlGn:function(){return wM},schemeYlGnBu:function(){return _M},schemeYlOrBr:function(){return kM},schemeYlOrRd:function(){return TM},select:function(){return se},selectAll:function(){return uk},selection:function(){return fe},selector:function(){return mt},selectorAll:function(){return wt},set:function(){return Yu},shuffle:function(){return Y},stack:function(){return dT},stackOffsetDiverging:function(){return gT},stackOffsetExpand:function(){return pT},stackOffsetNone:function(){return sT},stackOffsetSilhouette:function(){return vT},stackOffsetWiggle:function(){return bT},stackOrderAppearance:function(){return yT},stackOrderAscending:function(){return _T},stackOrderDescending:function(){return wT},stackOrderInsideOut:function(){return MT},stackOrderNone:function(){return lT},stackOrderReverse:function(){return kT},stratify:function(){return hb},style:function(){return cn},sum:function(){return H},svg:function(){return Df},symbol:function(){return xS},symbolCircle:function(){return eS},symbolCross:function(){return rS},symbolDiamond:function(){return uS},symbolSquare:function(){return hS},symbolStar:function(){return lS},symbolTriangle:function(){return pS},symbolWye:function(){return mS},symbols:function(){return _S},text:function(){return kf},thresholdFreedmanDiaconis:function(){return q},thresholdScott:function(){return D},thresholdSturges:function(){return P},tickFormat:function(){return Dy},tickIncrement:function(){return C},tickStep:function(){return E},ticks:function(){return A},timeDay:function(){return Bm},timeDays:function(){return Om},timeFormat:function(){return S_},timeFormatDefaultLocale:function(){return Xx},timeFormatLocale:function(){return M_},timeFriday:function(){return Cm},timeFridays:function(){return Im},timeHour:function(){return Fm},timeHours:function(){return Ym},timeInterval:function(){return lm},timeMillisecond:function(){return Qm},timeMilliseconds:function(){return Km},timeMinute:function(){return Gm},timeMinutes:function(){return Xm},timeMonday:function(){return Sm},timeMondays:function(){return Rm},timeMonth:function(){return vm},timeMonths:function(){return bm},timeParse:function(){return T_},timeSaturday:function(){return Em},timeSaturdays:function(){return Um},timeSecond:function(){return $m},timeSeconds:function(){return Zm},timeSunday:function(){return km},timeSundays:function(){return Pm},timeThursday:function(){return Am},timeThursdays:function(){return Dm},timeTuesday:function(){return Tm},timeTuesdays:function(){return zm},timeWednesday:function(){return Nm},timeWednesdays:function(){return qm},timeWeek:function(){return km},timeWeeks:function(){return Pm},timeYear:function(){return dm},timeYears:function(){return pm},timeout:function(){return Hr},timer:function(){return Lr},timerFlush:function(){return Br},touch:function(){return wr},touches:function(){return ak},transition:function(){return xo},transpose:function(){return G},tree:function(){return xb},treemap:function(){return Tb},treemapBinary:function(){return Nb},treemapDice:function(){return ob},treemapResquarify:function(){return Cb},treemapSlice:function(){return wb},treemapSliceDice:function(){return Ab},treemapSquarify:function(){return Sb},tsv:function(){return Af},tsvFormat:function(){return wc},tsvFormatBody:function(){return Mc},tsvFormatRow:function(){return Sc},tsvFormatRows:function(){return kc},tsvFormatValue:function(){return Tc},tsvParse:function(){return _c},tsvParseRows:function(){return xc},utcDay:function(){return g_},utcDays:function(){return v_},utcFormat:function(){return N_},utcFriday:function(){return o_},utcFridays:function(){return h_},utcHour:function(){return cw},utcHours:function(){return fw},utcMillisecond:function(){return Qm},utcMilliseconds:function(){return Km},utcMinute:function(){return lw},utcMinutes:function(){return hw},utcMonday:function(){return n_},utcMondays:function(){return c_},utcMonth:function(){return ow},utcMonths:function(){return uw},utcParse:function(){return A_},utcSaturday:function(){return u_},utcSaturdays:function(){return d_},utcSecond:function(){return $m},utcSeconds:function(){return Zm},utcSunday:function(){return t_},utcSundays:function(){return a_},utcThursday:function(){return i_},utcThursdays:function(){return l_},utcTuesday:function(){return e_},utcTuesdays:function(){return f_},utcWednesday:function(){return r_},utcWednesdays:function(){return s_},utcWeek:function(){return t_},utcWeeks:function(){return a_},utcYear:function(){return y_},utcYears:function(){return m_},values:function(){return Gu},variance:function(){return v},version:function(){return r},voronoi:function(){return wN},window:function(){return en},xml:function(){return zf},zip:function(){return V},zoom:function(){return IN},zoomIdentity:function(){return TN},zoomTransform:function(){return NN}});var r="5.16.0";function i(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function o(t){return 1===t.length&&(t=u(t)),{left:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}function u(t){return function(n,e){return i(t(n),e)}}var a=o(i),c=a.right,f=a.left,s=c;function l(t,n){null==n&&(n=h);var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);while(e<r)o[e]=n(i,i=t[++e]);return o}function h(t,n){return[t,n]}function d(t,n,e){var r,i,o,u,a=t.length,c=n.length,f=new Array(a*c);for(null==e&&(e=h),r=o=0;r<a;++r)for(u=t[r],i=0;i<c;++i,++o)f[o]=e(u,n[i]);return f}function p(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function g(t){return null===t?NaN:+t}function v(t,n){var e,r,i=t.length,o=0,u=-1,a=0,c=0;if(null==n)while(++u<i)isNaN(e=g(t[u]))||(r=e-a,a+=r/++o,c+=r*(e-a));else while(++u<i)isNaN(e=g(n(t[u],u,t)))||(r=e-a,a+=r/++o,c+=r*(e-a));if(o>1)return c/(o-1)}function b(t,n){var e=v(t,n);return e?Math.sqrt(e):e}function y(t,n){var e,r,i,o=t.length,u=-1;if(null==n){while(++u<o)if(null!=(e=t[u])&&e>=e){r=i=e;while(++u<o)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}}else while(++u<o)if(null!=(e=n(t[u],u,t))&&e>=e){r=i=e;while(++u<o)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e))}return[r,i]}var m=Array.prototype,_=m.slice,x=m.map;function w(t){return function(){return t}}function M(t){return t}function k(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);while(++r<i)o[r]=t+r*e;return o}var S=Math.sqrt(50),T=Math.sqrt(10),N=Math.sqrt(2);function A(t,n,e){var r,i,o,u,a=-1;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=C(t,n,e))||!isFinite(u))return[];if(u>0){t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));while(++a<i)o[a]=(t+a)*u}else{t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));while(++a<i)o[a]=(t-a)/u}return r&&o.reverse(),o}function C(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=S?10:o>=T?5:o>=N?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=S?10:o>=T?5:o>=N?2:1)}function E(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=S?i*=10:o>=T?i*=5:o>=N&&(i*=2),n<t?-i:i}function P(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function R(){var t=M,n=y,e=P;function r(r){var i,o,u=r.length,a=new Array(u);for(i=0;i<u;++i)a[i]=t(r[i],i,r);var c=n(a),f=c[0],l=c[1],h=e(a,f,l);Array.isArray(h)||(h=E(f,l,h),h=k(Math.ceil(f/h)*h,l,h));var d=h.length;while(h[0]<=f)h.shift(),--d;while(h[d-1]>l)h.pop(),--d;var p,g=new Array(d+1);for(i=0;i<=d;++i)p=g[i]=[],p.x0=i>0?h[i-1]:f,p.x1=i<d?h[i]:l;for(i=0;i<u;++i)o=a[i],f<=o&&o<=l&&g[s(h,o,0,d)].push(r[i]);return g}return r.value=function(n){return arguments.length?(t="function"===typeof n?n:w(n),r):t},r.domain=function(t){return arguments.length?(n="function"===typeof t?t:w([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"===typeof t?t:Array.isArray(t)?w(_.call(t)):w(t),r):e},r}function z(t,n,e){if(null==e&&(e=g),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),u=+e(t[o],o,t),a=+e(t[o+1],o+1,t);return u+(a-u)*(i-o)}}function q(t,n,e){return t=x.call(t,g).sort(i),Math.ceil((e-n)/(2*(z(t,.75)-z(t,.25))*Math.pow(t.length,-1/3)))}function D(t,n,e){return Math.ceil((e-n)/(3.5*b(t)*Math.pow(t.length,-1/3)))}function I(t,n){var e,r,i=t.length,o=-1;if(null==n){while(++o<i)if(null!=(e=t[o])&&e>=e){r=e;while(++o<i)null!=(e=t[o])&&e>r&&(r=e)}}else while(++o<i)if(null!=(e=n(t[o],o,t))&&e>=e){r=e;while(++o<i)null!=(e=n(t[o],o,t))&&e>r&&(r=e)}return r}function U(t,n){var e,r=t.length,i=r,o=-1,u=0;if(null==n)while(++o<r)isNaN(e=g(t[o]))?--i:u+=e;else while(++o<r)isNaN(e=g(n(t[o],o,t)))?--i:u+=e;if(i)return u/i}function L(t,n){var e,r=t.length,o=-1,u=[];if(null==n)while(++o<r)isNaN(e=g(t[o]))||u.push(e);else while(++o<r)isNaN(e=g(n(t[o],o,t)))||u.push(e);return z(u.sort(i),.5)}function B(t){var n,e,r,i=t.length,o=-1,u=0;while(++o<i)u+=t[o].length;e=new Array(u);while(--i>=0){r=t[i],n=r.length;while(--n>=0)e[--u]=r[n]}return e}function O(t,n){var e,r,i=t.length,o=-1;if(null==n){while(++o<i)if(null!=(e=t[o])&&e>=e){r=e;while(++o<i)null!=(e=t[o])&&r>e&&(r=e)}}else while(++o<i)if(null!=(e=n(t[o],o,t))&&e>=e){r=e;while(++o<i)null!=(e=n(t[o],o,t))&&r>e&&(r=e)}return r}function j(t,n){var e=n.length,r=new Array(e);while(e--)r[e]=t[n[e]];return r}function F(t,n){if(e=t.length){var e,r,o=0,u=0,a=t[u];null==n&&(n=i);while(++o<e)(n(r=t[o],a)<0||0!==n(a,a))&&(a=r,u=o);return 0===n(a,a)?u:void 0}}function Y(t,n,e){var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);while(o)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t}function H(t,n){var e,r=t.length,i=-1,o=0;if(null==n)while(++i<r)(e=+t[i])&&(o+=e);else while(++i<r)(e=+n(t[i],i,t))&&(o+=e);return o}function G(t){if(!(i=t.length))return[];for(var n=-1,e=O(t,X),r=new Array(e);++n<e;)for(var i,o=-1,u=r[n]=new Array(i);++o<i;)u[o]=t[o][n];return r}function X(t){return t.length}function V(){return G(arguments)}var $=Array.prototype.slice;function Z(t){return t}var W=1,Q=2,K=3,J=4,tt=1e-6;function nt(t){return"translate("+(t+.5)+",0)"}function et(t){return"translate(0,"+(t+.5)+")"}function rt(t){return function(n){return+t(n)}}function it(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function ot(){return!this.__axis}function ut(t,n){var e=[],r=null,i=null,o=6,u=6,a=3,c=t===W||t===J?-1:1,f=t===J||t===Q?"x":"y",s=t===W||t===K?nt:et;function l(l){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):Z:i,p=Math.max(o,0)+a,g=n.range(),v=+g[0]+.5,b=+g[g.length-1]+.5,y=(n.bandwidth?it:rt)(n.copy()),m=l.selection?l.selection():l,_=m.selectAll(".domain").data([null]),x=m.selectAll(".tick").data(h,n).order(),w=x.exit(),M=x.enter().append("g").attr("class","tick"),k=x.select("line"),S=x.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(M),k=k.merge(M.append("line").attr("stroke","currentColor").attr(f+"2",c*o)),S=S.merge(M.append("text").attr("fill","currentColor").attr(f,c*p).attr("dy",t===W?"0em":t===K?"0.71em":"0.32em")),l!==m&&(_=_.transition(l),x=x.transition(l),k=k.transition(l),S=S.transition(l),w=w.transition(l).attr("opacity",tt).attr("transform",(function(t){return isFinite(t=y(t))?s(t):this.getAttribute("transform")})),M.attr("opacity",tt).attr("transform",(function(t){var n=this.parentNode.__axis;return s(n&&isFinite(n=n(t))?n:y(t))}))),w.remove(),_.attr("d",t===J||t==Q?u?"M"+c*u+","+v+"H0.5V"+b+"H"+c*u:"M0.5,"+v+"V"+b:u?"M"+v+","+c*u+"V0.5H"+b+"V"+c*u:"M"+v+",0.5H"+b),x.attr("opacity",1).attr("transform",(function(t){return s(y(t))})),k.attr(f+"2",c*o),S.attr(f,c*p).text(d),m.filter(ot).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Q?"start":t===J?"end":"middle"),m.each((function(){this.__axis=y}))}return l.scale=function(t){return arguments.length?(n=t,l):n},l.ticks=function(){return e=$.call(arguments),l},l.tickArguments=function(t){return arguments.length?(e=null==t?[]:$.call(t),l):e.slice()},l.tickValues=function(t){return arguments.length?(r=null==t?null:$.call(t),l):r&&r.slice()},l.tickFormat=function(t){return arguments.length?(i=t,l):i},l.tickSize=function(t){return arguments.length?(o=u=+t,l):o},l.tickSizeInner=function(t){return arguments.length?(o=+t,l):o},l.tickSizeOuter=function(t){return arguments.length?(u=+t,l):u},l.tickPadding=function(t){return arguments.length?(a=+t,l):a},l}function at(t){return ut(W,t)}function ct(t){return ut(Q,t)}function ft(t){return ut(K,t)}function st(t){return ut(J,t)}var lt={value:function(){}};function ht(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new dt(r)}function dt(t){this._=t}function pt(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function gt(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function vt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=lt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}dt.prototype=ht.prototype={constructor:dt,on:function(t,n){var e,r=this._,i=pt(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!==typeof n)throw new Error("invalid callback: "+n);while(++o<u)if(e=(t=i[o]).type)r[e]=vt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=vt(r[e],t.name,null);return this}while(++o<u)if((e=(t=i[o]).type)&&(e=gt(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new dt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,e=r.length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var bt=ht;function yt(){}function mt(t){return null==t?yt:function(){return this.querySelector(t)}}function _t(t){"function"!==typeof t&&(t=mt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,f=r[i]=new Array(c),s=0;s<c;++s)(o=a[s])&&(u=t.call(o,o.__data__,s,a))&&("__data__"in o&&(u.__data__=o.__data__),f[s]=u);return new ae(r,this._parents)}function xt(){return[]}function wt(t){return null==t?xt:function(){return this.querySelectorAll(t)}}function Mt(t){"function"!==typeof t&&(t=wt(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,f=0;f<c;++f)(u=a[f])&&(r.push(t.call(u,u.__data__,f,a)),i.push(u));return new ae(r,i)}function kt(t){return function(){return this.matches(t)}}function St(t){"function"!==typeof t&&(t=kt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],f=0;f<a;++f)(o=u[f])&&t.call(o,o.__data__,f,u)&&c.push(o);return new ae(r,this._parents)}function Tt(t){return new Array(t.length)}function Nt(){return new ae(this._enter||this._groups.map(Tt),this._parents)}function At(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Ct(t){return function(){return t}}At.prototype={constructor:At,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Et="$";function Pt(t,n,e,r,i,o){for(var u,a=0,c=n.length,f=o.length;a<f;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new At(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function Rt(t,n,e,r,i,o,u){var a,c,f,s={},l=n.length,h=o.length,d=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(d[a]=f=Et+u.call(c,c.__data__,a,n),f in s?i[a]=c:s[f]=c);for(a=0;a<h;++a)f=Et+u.call(t,o[a],a,o),(c=s[f])?(r[a]=c,c.__data__=o[a],s[f]=null):e[a]=new At(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&s[d[a]]===c&&(i[a]=c)}function zt(t,n){if(!t)return d=new Array(this.size()),f=-1,this.each((function(t){d[++f]=t})),d;var e=n?Rt:Pt,r=this._parents,i=this._groups;"function"!==typeof t&&(t=Ct(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),f=0;f<o;++f){var s=r[f],l=i[f],h=l.length,d=t.call(s,s&&s.__data__,f,r),p=d.length,g=a[f]=new Array(p),v=u[f]=new Array(p),b=c[f]=new Array(h);e(s,l,g,v,b,d,n);for(var y,m,_=0,x=0;_<p;++_)if(y=g[_]){_>=x&&(x=_+1);while(!(m=v[x])&&++x<p);y._next=m||null}}return u=new ae(u,r),u._enter=a,u._exit=c,u}function qt(){return new ae(this._exit||this._groups.map(Tt),this._parents)}function Dt(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i}function It(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,f=n[a],s=e[a],l=f.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=f[d]||s[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new ae(u,this._parents)}function Ut(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this}function Lt(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Bt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,f=i[o]=new Array(c),s=0;s<c;++s)(u=a[s])&&(f[s]=u);f.sort(n)}return new ae(i,this._parents).order()}function Bt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Ot(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function jt(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t}function Ft(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null}function Yt(){var t=0;return this.each((function(){++t})),t}function Ht(){return!this.node()}function Gt(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this}var Xt="http://www.w3.org/1999/xhtml",Vt={svg:"http://www.w3.org/2000/svg",xhtml:Xt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $t(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Vt.hasOwnProperty(n)?{space:Vt[n],local:t}:t}function Zt(t){return function(){this.removeAttribute(t)}}function Wt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qt(t,n){return function(){this.setAttribute(t,n)}}function Kt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Jt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function tn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function nn(t,n){var e=$t(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Wt:Zt:"function"===typeof n?e.local?tn:Jt:e.local?Kt:Qt)(e,n))}function en(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rn(t){return function(){this.style.removeProperty(t)}}function on(t,n,e){return function(){this.style.setProperty(t,n,e)}}function un(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function an(t,n,e){return arguments.length>1?this.each((null==n?rn:"function"===typeof n?un:on)(t,n,null==e?"":e)):cn(this.node(),t)}function cn(t,n){return t.style.getPropertyValue(n)||en(t).getComputedStyle(t,null).getPropertyValue(n)}function fn(t){return function(){delete this[t]}}function sn(t,n){return function(){this[t]=n}}function ln(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function hn(t,n){return arguments.length>1?this.each((null==n?fn:"function"===typeof n?ln:sn)(t,n)):this.node()[t]}function dn(t){return t.trim().split(/^|\s+/)}function pn(t){return t.classList||new gn(t)}function gn(t){this._node=t,this._names=dn(t.getAttribute("class")||"")}function vn(t,n){var e=pn(t),r=-1,i=n.length;while(++r<i)e.add(n[r])}function bn(t,n){var e=pn(t),r=-1,i=n.length;while(++r<i)e.remove(n[r])}function yn(t){return function(){vn(this,t)}}function mn(t){return function(){bn(this,t)}}function _n(t,n){return function(){(n.apply(this,arguments)?vn:bn)(this,t)}}function xn(t,n){var e=dn(t+"");if(arguments.length<2){var r=pn(this.node()),i=-1,o=e.length;while(++i<o)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"===typeof n?_n:n?yn:mn)(e,n))}function wn(){this.textContent=""}function Mn(t){return function(){this.textContent=t}}function kn(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Sn(t){return arguments.length?this.each(null==t?wn:("function"===typeof t?kn:Mn)(t)):this.node().textContent}function Tn(){this.innerHTML=""}function Nn(t){return function(){this.innerHTML=t}}function An(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Cn(t){return arguments.length?this.each(null==t?Tn:("function"===typeof t?An:Nn)(t)):this.node().innerHTML}function En(){this.nextSibling&&this.parentNode.appendChild(this)}function Pn(){return this.each(En)}function Rn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zn(){return this.each(Rn)}function qn(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Xt&&n.documentElement.namespaceURI===Xt?n.createElement(t):n.createElementNS(e,t)}}function Dn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function In(t){var n=$t(t);return(n.local?Dn:qn)(n)}function Un(t){var n="function"===typeof t?t:In(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))}function Ln(){return null}function Bn(t,n){var e="function"===typeof t?t:In(t),r=null==n?Ln:"function"===typeof n?n:mt(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))}function On(){var t=this.parentNode;t&&t.removeChild(this)}function jn(){return this.each(On)}function Fn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Yn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Hn(t){return this.select(t?Yn:Fn)}function Gn(t){return arguments.length?this.property("__data__",t):this.node().__data__}gn.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Xn={},Vn=null;if("undefined"!==typeof document){var $n=document.documentElement;"onmouseenter"in $n||(Xn={mouseenter:"mouseover",mouseleave:"mouseout"})}function Zn(t,n,e){return t=Wn(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Wn(t,n,e){return function(r){var i=Vn;Vn=r;try{t.call(this,this.__data__,n,e)}finally{Vn=i}}}function Qn(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Kn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Jn(t,n,e){var r=Xn.hasOwnProperty(t.type)?Zn:Wn;return function(i,o,u){var a,c=this.__on,f=r(n,o,u);if(c)for(var s=0,l=c.length;s<l;++s)if((a=c[s]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=f,a.capture=e),void(a.value=n);this.addEventListener(t.type,f,e),a={type:t.type,name:t.name,value:n,listener:f,capture:e},c?c.push(a):this.__on=[a]}}function te(t,n,e){var r,i,o=Qn(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?Jn:Kn,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,f=0,s=a.length;f<s;++f)for(r=0,c=a[f];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}function ne(t,n,e,r){var i=Vn;t.sourceEvent=Vn,Vn=t;try{return n.apply(e,r)}finally{Vn=i}}function ee(t,n,e){var r=en(t),i=r.CustomEvent;"function"===typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function re(t,n){return function(){return ee(this,t,n)}}function ie(t,n){return function(){return ee(this,t,n.apply(this,arguments))}}function oe(t,n){return this.each(("function"===typeof n?ie:re)(t,n))}var ue=[null];function ae(t,n){this._groups=t,this._parents=n}function ce(){return new ae([[document.documentElement]],ue)}ae.prototype=ce.prototype={constructor:ae,select:_t,selectAll:Mt,filter:St,data:zt,enter:Nt,exit:qt,join:Dt,merge:It,order:Ut,sort:Lt,call:Ot,nodes:jt,node:Ft,size:Yt,empty:Ht,each:Gt,attr:nn,style:an,property:hn,classed:xn,text:Sn,html:Cn,raise:Pn,lower:zn,append:Un,insert:Bn,remove:jn,clone:Hn,datum:Gn,on:te,dispatch:oe};var fe=ce;function se(t){return"string"===typeof t?new ae([[document.querySelector(t)]],[document.documentElement]):new ae([[t]],ue)}function le(){Vn.stopImmediatePropagation()}function he(){Vn.preventDefault(),Vn.stopImmediatePropagation()}function de(t){var n=t.document.documentElement,e=se(t).on("dragstart.drag",he,!0);"onselectstart"in n?e.on("selectstart.drag",he,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function pe(t,n){var e=t.document.documentElement,r=se(t).on("dragstart.drag",null);n&&(r.on("click.drag",he,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function ge(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ve(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function be(){}var ye=.7,me=1/ye,_e="\\s*([+-]?\\d+)\\s*",xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",we="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Me=/^#([0-9a-f]{3,8})$/,ke=new RegExp("^rgb\\("+[_e,_e,_e]+"\\)$"),Se=new RegExp("^rgb\\("+[we,we,we]+"\\)$"),Te=new RegExp("^rgba\\("+[_e,_e,_e,xe]+"\\)$"),Ne=new RegExp("^rgba\\("+[we,we,we,xe]+"\\)$"),Ae=new RegExp("^hsl\\("+[xe,we,we]+"\\)$"),Ce=new RegExp("^hsla\\("+[xe,we,we,xe]+"\\)$"),Ee={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pe(){return this.rgb().formatHex()}function Re(){return He(this).formatHsl()}function ze(){return this.rgb().formatRgb()}function qe(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Me.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?De(n):3===e?new Be(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Ie(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Ie(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=ke.exec(t))?new Be(n[1],n[2],n[3],1):(n=Se.exec(t))?new Be(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Te.exec(t))?Ie(n[1],n[2],n[3],n[4]):(n=Ne.exec(t))?Ie(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ae.exec(t))?Ye(n[1],n[2]/100,n[3]/100,1):(n=Ce.exec(t))?Ye(n[1],n[2]/100,n[3]/100,n[4]):Ee.hasOwnProperty(t)?De(Ee[t]):"transparent"===t?new Be(NaN,NaN,NaN,0):null}function De(t){return new Be(t>>16&255,t>>8&255,255&t,1)}function Ie(t,n,e,r){return r<=0&&(t=n=e=NaN),new Be(t,n,e,r)}function Ue(t){return t instanceof be||(t=qe(t)),t?(t=t.rgb(),new Be(t.r,t.g,t.b,t.opacity)):new Be}function Le(t,n,e,r){return 1===arguments.length?Ue(t):new Be(t,n,e,null==r?1:r)}function Be(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Oe(){return"#"+Fe(this.r)+Fe(this.g)+Fe(this.b)}function je(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Fe(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Ye(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Xe(t,n,e,r)}function He(t){if(t instanceof Xe)return new Xe(t.h,t.s,t.l,t.opacity);if(t instanceof be||(t=qe(t)),!t)return new Xe;if(t instanceof Xe)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new Xe(u,a,c,t.opacity)}function Ge(t,n,e,r){return 1===arguments.length?He(t):new Xe(t,n,e,null==r?1:r)}function Xe(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ve(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function $e(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}function Ze(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return $e((e-r/n)*n,u,i,o,a)}}function We(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return $e((e-r/n)*n,i,o,u,a)}}function Qe(t){return function(){return t}}function Ke(t,n){return function(e){return t+e*n}}function Je(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function tr(t,n){var e=n-t;return e?Ke(t,e>180||e<-180?e-360*Math.round(e/360):e):Qe(isNaN(t)?n:t)}function nr(t){return 1===(t=+t)?er:function(n,e){return e-n?Je(n,e,t):Qe(isNaN(n)?e:n)}}function er(t,n){var e=n-t;return e?Ke(t,e):Qe(isNaN(t)?n:t)}ge(be,qe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Pe,formatHex:Pe,formatHsl:Re,formatRgb:ze,toString:ze}),ge(Be,Le,ve(be,{brighter:function(t){return t=null==t?me:Math.pow(me,t),new Be(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ye:Math.pow(ye,t),new Be(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Oe,formatHex:Oe,formatRgb:je,toString:je})),ge(Xe,Ge,ve(be,{brighter:function(t){return t=null==t?me:Math.pow(me,t),new Xe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ye:Math.pow(ye,t),new Xe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Be(Ve(t>=240?t-240:t+120,i,r),Ve(t,i,r),Ve(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var rr=function t(n){var e=nr(n);function r(t,n){var r=e((t=Le(t)).r,(n=Le(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=er(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function ir(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=Le(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}var or=ir(Ze),ur=ir(We);function ar(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function cr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fr(t,n){return(cr(n)?ar:sr)(t,n)}function sr(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=mr(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}function lr(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function hr(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function dr(t,n){var e,r={},i={};for(e in null!==t&&"object"===typeof t||(t={}),null!==n&&"object"===typeof n||(n={}),n)e in t?r[e]=mr(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var pr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gr=new RegExp(pr.source,"g");function vr(t){return function(){return t}}function br(t){return function(n){return t(n)+""}}function yr(t,n){var e,r,i,o=pr.lastIndex=gr.lastIndex=0,u=-1,a=[],c=[];t+="",n+="";while((e=pr.exec(t))&&(r=gr.exec(n)))(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:hr(e,r)})),o=gr.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?br(c[0].x):vr(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})}function mr(t,n){var e,r=typeof n;return null==n||"boolean"===r?Qe(n):("number"===r?hr:"string"===r?(e=qe(n))?(n=e,rr):yr:n instanceof qe?rr:n instanceof Date?lr:cr(n)?ar:Array.isArray(n)?sr:"function"!==typeof n.valueOf&&"function"!==typeof n.toString||isNaN(n)?dr:hr)(t,n)}function _r(){var t,n=Vn;while(t=n.sourceEvent)n=t;return n}function xr(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function wr(t,n,e){arguments.length<3&&(e=n,n=_r().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return xr(t,r);return null}function Mr(t){var n=_r();return n.changedTouches&&(n=n.changedTouches[0]),xr(t,n)}var kr,Sr,Tr=0,Nr=0,Ar=0,Cr=1e3,Er=0,Pr=0,Rr=0,zr="object"===typeof performance&&performance.now?performance:Date,qr="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Dr(){return Pr||(qr(Ir),Pr=zr.now()+Rr)}function Ir(){Pr=0}function Ur(){this._call=this._time=this._next=null}function Lr(t,n,e){var r=new Ur;return r.restart(t,n,e),r}function Br(){Dr(),++Tr;var t,n=kr;while(n)(t=Pr-n._time)>=0&&n._call.call(null,t),n=n._next;--Tr}function Or(){Pr=(Er=zr.now())+Rr,Tr=Nr=0;try{Br()}finally{Tr=0,Fr(),Pr=0}}function jr(){var t=zr.now(),n=t-Er;n>Cr&&(Rr-=n,Er=t)}function Fr(){var t,n,e=kr,r=1/0;while(e)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:kr=n);Sr=t,Yr(r)}function Yr(t){if(!Tr){Nr&&(Nr=clearTimeout(Nr));var n=t-Pr;n>24?(t<1/0&&(Nr=setTimeout(Or,t-zr.now()-Rr)),Ar&&(Ar=clearInterval(Ar))):(Ar||(Er=zr.now(),Ar=setInterval(jr,Cr)),Tr=1,qr(Or))}}function Hr(t,n,e){var r=new Ur;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r}Ur.prototype=Lr.prototype={constructor:Ur,restart:function(t,n,e){if("function"!==typeof t)throw new TypeError("callback is not a function");e=(null==e?Dr():+e)+(null==n?0:+n),this._next||Sr===this||(Sr?Sr._next=this:kr=this,Sr=this),this._call=t,this._time=e,Yr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yr())}};var Gr=bt("start","end","cancel","interrupt"),Xr=[],Vr=0,$r=1,Zr=2,Wr=3,Qr=4,Kr=5,Jr=6;function ti(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};ii(t,e,{name:n,index:r,group:i,on:Gr,tween:Xr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Vr})}function ni(t,n){var e=ri(t,n);if(e.state>Vr)throw new Error("too late; already scheduled");return e}function ei(t,n){var e=ri(t,n);if(e.state>Wr)throw new Error("too late; already running");return e}function ri(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ii(t,n,e){var r,i=t.__transition;function o(t){e.state=$r,e.timer.restart(u,e.delay,e.time),e.delay<=t&&u(t-e.delay)}function u(o){var f,s,l,h;if(e.state!==$r)return c();for(f in i)if(h=i[f],h.name===e.name){if(h.state===Wr)return Hr(u);h.state===Qr?(h.state=Jr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<n&&(h.state=Jr,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(Hr((function(){e.state===Wr&&(e.state=Qr,e.timer.restart(a,e.delay,e.time),a(o))})),e.state=Zr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Zr){for(e.state=Wr,r=new Array(l=e.tween.length),f=0,s=-1;f<l;++f)(h=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function a(n){var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(c),e.state=Kr,1),o=-1,u=r.length;while(++o<u)r[o].call(t,i);e.state===Kr&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){for(var r in e.state=Jr,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Lr(o,0,e.time)}function oi(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>Zr&&e.state<Kr,e.state=Jr,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}}function ui(t){return this.each((function(){oi(this,t)}))}var ai,ci,fi,si,li=180/Math.PI,hi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function di(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*li,skewX:Math.atan(c)*li,scaleX:u,scaleY:a}}function pi(t){return"none"===t?hi:(ai||(ai=document.createElement("DIV"),ci=document.documentElement,fi=document.defaultView),ai.style.transform=t,t=fi.getComputedStyle(ci.appendChild(ai),null).getPropertyValue("transform"),ci.removeChild(ai),t=t.slice(7,-1).split(","),di(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function gi(t){return null==t?hi:(si||(si=document.createElementNS("http://www.w3.org/2000/svg","g")),si.setAttribute("transform",t),(t=si.transform.baseVal.consolidate())?(t=t.matrix,di(t.a,t.b,t.c,t.d,t.e,t.f)):hi)}function vi(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:hr(t,i)},{i:c-2,x:hr(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}function u(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:hr(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}function a(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:hr(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}function c(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:hr(t,e)},{i:a-2,x:hr(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}return function(n,e){var r=[],i=[];return n=t(n),e=t(e),o(n.translateX,n.translateY,e.translateX,e.translateY,r,i),u(n.rotate,e.rotate,r,i),a(n.skewX,e.skewX,r,i),c(n.scaleX,n.scaleY,e.scaleX,e.scaleY,r,i),n=e=null,function(t){var n,e=-1,o=i.length;while(++e<o)r[(n=i[e]).i]=n.x(t);return r.join("")}}}var bi=vi(pi,"px, ","px)","deg)"),yi=vi(gi,", ",")",")");function mi(t,n){var e,r;return function(){var i=ei(this,t),o=i.tween;if(o!==e){r=e=o;for(var u=0,a=r.length;u<a;++u)if(r[u].name===n){r=r.slice(),r.splice(u,1);break}}i.tween=r}}function _i(t,n,e){var r,i;if("function"!==typeof e)throw new Error;return function(){var o=ei(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,f=i.length;c<f;++c)if(i[c].name===n){i[c]=a;break}c===f&&i.push(a)}o.tween=i}}function xi(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=ri(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?mi:_i)(e,t,n))}function wi(t,n,e){var r=t._id;return t.each((function(){var t=ei(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return ri(t,r).value[n]}}function Mi(t,n){var e;return("number"===typeof n?hr:n instanceof qe?rr:(e=qe(n))?(n=e,rr):yr)(t,n)}function ki(t){return function(){this.removeAttribute(t)}}function Si(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ti(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}}function Ni(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}function Ai(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return u=this.getAttribute(t),a=c+"",u===a?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttribute(t)}}function Ci(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return u=this.getAttributeNS(t.space,t.local),a=c+"",u===a?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttributeNS(t.space,t.local)}}function Ei(t,n){var e=$t(t),r="transform"===e?yi:Mi;return this.attrTween(t,"function"===typeof n?(e.local?Ci:Ai)(e,r,wi(this,"attr."+t,n)):null==n?(e.local?Si:ki)(e):(e.local?Ni:Ti)(e,r,n))}function Pi(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Ri(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function zi(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Ri(t,i)),e}return i._value=n,i}function qi(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Pi(t,i)),e}return i._value=n,i}function Di(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!==typeof n)throw new Error;var r=$t(t);return this.tween(e,(r.local?zi:qi)(r,n))}function Ii(t,n){return function(){ni(this,t).delay=+n.apply(this,arguments)}}function Ui(t,n){return n=+n,function(){ni(this,t).delay=n}}function Li(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?Ii:Ui)(n,t)):ri(this.node(),n).delay}function Bi(t,n){return function(){ei(this,t).duration=+n.apply(this,arguments)}}function Oi(t,n){return n=+n,function(){ei(this,t).duration=n}}function ji(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?Bi:Oi)(n,t)):ri(this.node(),n).duration}function Fi(t,n){if("function"!==typeof n)throw new Error;return function(){ei(this,t).ease=n}}function Yi(t){var n=this._id;return arguments.length?this.each(Fi(n,t)):ri(this.node(),n).ease}function Hi(t){"function"!==typeof t&&(t=kt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],f=0;f<a;++f)(o=u[f])&&t.call(o,o.__data__,f,u)&&c.push(o);return new _o(r,this._parents,this._name,this._id)}function Gi(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,f=n[a],s=e[a],l=f.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=f[d]||s[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new _o(u,this._parents,this._name,this._id)}function Xi(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}function Vi(t,n,e){var r,i,o=Xi(n)?ni:ei;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}function $i(t,n){var e=this._id;return arguments.length<2?ri(this.node(),e).on.on(t):this.each(Vi(e,t,n))}function Zi(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Wi(){return this.on("end.remove",Zi(this._id))}function Qi(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=mt(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,f=r[u],s=f.length,l=o[u]=new Array(s),h=0;h<s;++h)(a=f[h])&&(c=t.call(a,a.__data__,h,f))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,ti(l[h],n,e,h,l,ri(a,e)));return new _o(o,this._parents,n,e)}function Ki(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=wt(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,f=r[a],s=f.length,l=0;l<s;++l)if(c=f[l]){for(var h,d=t.call(c,c.__data__,l,f),p=ri(c,e),g=0,v=d.length;g<v;++g)(h=d[g])&&ti(h,n,e,g,d,p);o.push(d),u.push(c)}return new _o(o,u,n,e)}var Ji=fe.prototype.constructor;function to(){return new Ji(this._groups,this._parents)}function no(t,n){var e,r,i;return function(){var o=cn(this,t),u=(this.style.removeProperty(t),cn(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}function eo(t){return function(){this.style.removeProperty(t)}}function ro(t,n,e){var r,i,o=e+"";return function(){var u=cn(this,t);return u===o?null:u===r?i:i=n(r=u,e)}}function io(t,n,e){var r,i,o;return function(){var u=cn(this,t),a=e(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=cn(this,t)),u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a))}}function oo(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var c=ei(this,t),f=c.on,s=null==c.value[u]?o||(o=eo(n)):void 0;f===e&&i===s||(r=(e=f).copy()).on(a,i=s),c.on=r}}function uo(t,n,e){var r="transform"===(t+="")?bi:Mi;return null==n?this.styleTween(t,no(t,r)).on("end.style."+t,eo(t)):"function"===typeof n?this.styleTween(t,io(t,r,wi(this,"style."+t,n))).each(oo(this._id,t)):this.styleTween(t,ro(t,r,n),e).on("end.style."+t,null)}function ao(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function co(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&ao(t,o,e)),r}return o._value=n,o}function fo(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!==typeof n)throw new Error;return this.tween(r,co(t,n,null==e?"":e))}function so(t){return function(){this.textContent=t}}function lo(t){return function(){var n=t(this);this.textContent=null==n?"":n}}function ho(t){return this.tween("text","function"===typeof t?lo(wi(this,"text",t)):so(null==t?"":t+""))}function po(t){return function(n){this.textContent=t.call(this,n)}}function go(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&po(r)),n}return r._value=t,r}function vo(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;return this.tween(n,go(t))}function bo(){for(var t=this._name,n=this._id,e=wo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,f=0;f<c;++f)if(u=a[f]){var s=ri(u,n);ti(u,t,e,f,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new _o(r,this._parents,t,e)}function yo(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,u){var a={value:u},c={value:function(){0===--i&&o()}};e.each((function(){var e=ei(this,r),i=e.on;i!==t&&(n=(t=i).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),e.on=n}))}))}var mo=0;function _o(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function xo(t){return fe().transition(t)}function wo(){return++mo}var Mo=fe.prototype;function ko(t){return t*t*t}function So(t){return--t*t*t+1}function To(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}_o.prototype=xo.prototype={constructor:_o,select:Qi,selectAll:Ki,filter:Hi,merge:Gi,selection:to,transition:bo,call:Mo.call,nodes:Mo.nodes,node:Mo.node,size:Mo.size,empty:Mo.empty,each:Mo.each,on:$i,attr:Ei,attrTween:Di,style:uo,styleTween:fo,text:ho,textTween:vo,remove:Wi,tween:xi,delay:Li,duration:ji,ease:Yi,end:yo};var No={time:null,delay:0,duration:250,ease:To};function Ao(t,n){var e;while(!(e=t.__transition)||!(e=e[n]))if(!(t=t.parentNode))return No.time=Dr(),No;return e}function Co(t){var n,e;t instanceof _o?(n=t._id,t=t._name):(n=wo(),(e=No).time=Dr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,f=0;f<c;++f)(u=a[f])&&ti(u,t,n,f,a,e||Ao(u,n));return new _o(r,this._parents,t,n)}fe.prototype.interrupt=ui,fe.prototype.transition=Co;var Eo=[null];function Po(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>$r&&e.name===n)return new _o([[t]],Eo,n,+r);return null}function Ro(t){return function(){return t}}function zo(t,n,e){this.target=t,this.type=n,this.selection=e}function qo(){Vn.stopImmediatePropagation()}function Do(){Vn.preventDefault(),Vn.stopImmediatePropagation()}var Io={name:"drag"},Uo={name:"space"},Lo={name:"handle"},Bo={name:"center"};function Oo(t){return[+t[0],+t[1]]}function jo(t){return[Oo(t[0]),Oo(t[1])]}function Fo(t){return function(n){return wr(n,Vn.touches,t)}}var Yo={name:"x",handles:["w","e"].map(Qo),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ho={name:"y",handles:["n","s"].map(Qo),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Go={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Qo),input:function(t){return null==t?null:jo(t)},output:function(t){return t}},Xo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},$o={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Zo={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Wo={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Qo(t){return{type:t}}function Ko(){return!Vn.ctrlKey&&!Vn.button}function Jo(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function tu(){return navigator.maxTouchPoints||"ontouchstart"in this}function nu(t){while(!t.__brush)if(!(t=t.parentNode))return;return t.__brush}function eu(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ru(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function iu(){return au(Yo)}function ou(){return au(Ho)}function uu(){return au(Go)}function au(t){var n,e=Jo,r=Ko,i=tu,o=!0,u=bt("start","brush","end"),a=6;function c(n){var e=n.property("__brush",g).selectAll(".overlay").data([Qo("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Xo.overlay).merge(e).each((function(){var t=nu(this).extent;se(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([Qo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Xo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Xo[t.type]})),n.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){var t=se(this),n=nu(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-a/2:n[0][0]-a/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-a/2:n[0][1]-a/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+a:a})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+a:a}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(t,n,e){var r=t.__brush.emitter;return!r||e&&r.clean?new l(t,n,e):r}function l(t,n,e){this.that=t,this.args=n,this.state=t.__brush,this.active=0,this.clean=e}function h(){if((!n||Vn.touches)&&r.apply(this,arguments)){var e,i,u,a,c,l,h,d,p,g,v,b=this,y=Vn.target.__data__.type,m="selection"===(o&&Vn.metaKey?y="overlay":y)?Io:o&&Vn.altKey?Bo:Lo,_=t===Ho?null:Zo[y],x=t===Yo?null:Wo[y],w=nu(b),M=w.extent,k=w.selection,S=M[0][0],T=M[0][1],N=M[1][0],A=M[1][1],C=0,E=0,P=_&&x&&o&&Vn.shiftKey,R=Vn.touches?Fo(Vn.changedTouches[0].identifier):Mr,z=R(b),q=z,D=s(b,arguments,!0).beforestart();"overlay"===y?(k&&(p=!0),w.selection=k=[[e=t===Ho?S:z[0],u=t===Yo?T:z[1]],[c=t===Ho?N:e,h=t===Yo?A:u]]):(e=k[0][0],u=k[0][1],c=k[1][0],h=k[1][1]),i=e,a=u,l=c,d=h;var I=se(b).attr("pointer-events","none"),U=I.selectAll(".overlay").attr("cursor",Xo[y]);if(Vn.touches)D.moved=B,D.ended=j;else{var L=se(Vn.view).on("mousemove.brush",B,!0).on("mouseup.brush",j,!0);o&&L.on("keydown.brush",F,!0).on("keyup.brush",Y,!0),de(Vn.view)}qo(),oi(b),f.call(b),D.start()}function B(){var t=R(b);!P||g||v||(Math.abs(t[0]-q[0])>Math.abs(t[1]-q[1])?v=!0:g=!0),q=t,p=!0,Do(),O()}function O(){var t;switch(C=q[0]-z[0],E=q[1]-z[1],m){case Uo:case Io:_&&(C=Math.max(S-e,Math.min(N-c,C)),i=e+C,l=c+C),x&&(E=Math.max(T-u,Math.min(A-h,E)),a=u+E,d=h+E);break;case Lo:_<0?(C=Math.max(S-e,Math.min(N-e,C)),i=e+C,l=c):_>0&&(C=Math.max(S-c,Math.min(N-c,C)),i=e,l=c+C),x<0?(E=Math.max(T-u,Math.min(A-u,E)),a=u+E,d=h):x>0&&(E=Math.max(T-h,Math.min(A-h,E)),a=u,d=h+E);break;case Bo:_&&(i=Math.max(S,Math.min(N,e-C*_)),l=Math.max(S,Math.min(N,c+C*_))),x&&(a=Math.max(T,Math.min(A,u-E*x)),d=Math.max(T,Math.min(A,h+E*x)));break}l<i&&(_*=-1,t=e,e=c,c=t,t=i,i=l,l=t,y in Vo&&U.attr("cursor",Xo[y=Vo[y]])),d<a&&(x*=-1,t=u,u=h,h=t,t=a,a=d,d=t,y in $o&&U.attr("cursor",Xo[y=$o[y]])),w.selection&&(k=w.selection),g&&(i=k[0][0],l=k[1][0]),v&&(a=k[0][1],d=k[1][1]),k[0][0]===i&&k[0][1]===a&&k[1][0]===l&&k[1][1]===d||(w.selection=[[i,a],[l,d]],f.call(b),D.brush())}function j(){if(qo(),Vn.touches){if(Vn.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else pe(Vn.view,p),L.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);I.attr("pointer-events","all"),U.attr("cursor",Xo.overlay),w.selection&&(k=w.selection),eu(k)&&(w.selection=null,f.call(b)),D.end()}function F(){switch(Vn.keyCode){case 16:P=_&&x;break;case 18:m===Lo&&(_&&(c=l-C*_,e=i+C*_),x&&(h=d-E*x,u=a+E*x),m=Bo,O());break;case 32:m!==Lo&&m!==Bo||(_<0?c=l-C:_>0&&(e=i-C),x<0?h=d-E:x>0&&(u=a-E),m=Uo,U.attr("cursor",Xo.selection),O());break;default:return}Do()}function Y(){switch(Vn.keyCode){case 16:P&&(g=v=P=!1,O());break;case 18:m===Bo&&(_<0?c=l:_>0&&(e=i),x<0?h=d:x>0&&(u=a),m=Lo,O());break;case 32:m===Uo&&(Vn.altKey?(_&&(c=l-C*_,e=i+C*_),x&&(h=d-E*x,u=a+E*x),m=Bo):(_<0?c=l:_>0&&(e=i),x<0?h=d:x>0&&(u=a),m=Lo),U.attr("cursor",Xo[y]),O());break;default:return}Do()}}function d(){s(this,arguments).moved()}function p(){s(this,arguments).ended()}function g(){var n=this.__brush||{selection:null};return n.extent=jo(e.apply(this,arguments)),n.dim=t,n}return c.move=function(n,e){n.selection?n.on("start.brush",(function(){s(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){s(this,arguments).end()})).tween("brush",(function(){var n=this,r=n.__brush,i=s(n,arguments),o=r.selection,u=t.input("function"===typeof e?e.apply(this,arguments):e,r.extent),a=mr(o,u);function c(t){r.selection=1===t&&null===u?null:a(t),f.call(n),i.brush()}return null!==o&&null!==u?c:c(1)})):n.each((function(){var n=this,r=arguments,i=n.__brush,o=t.input("function"===typeof e?e.apply(n,r):e,i.extent),u=s(n,r).beforestart();oi(n),i.selection=null===o?null:o,f.call(n),u.start().brush().end()}))},c.clear=function(t){c.move(t,null)},l.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){ne(new zo(c,n,t.output(this.state.selection)),u.apply,u,[n,this.that,this.args])}},c.extent=function(t){return arguments.length?(e="function"===typeof t?t:Ro(jo(t)),c):e},c.filter=function(t){return arguments.length?(r="function"===typeof t?t:Ro(!!t),c):r},c.touchable=function(t){return arguments.length?(i="function"===typeof t?t:Ro(!!t),c):i},c.handleSize=function(t){return arguments.length?(a=+t,c):a},c.keyModifiers=function(t){return arguments.length?(o=!!t,c):o},c.on=function(){var t=u.on.apply(u,arguments);return t===u?c:t},c}var cu=Math.cos,fu=Math.sin,su=Math.PI,lu=su/2,hu=2*su,du=Math.max;function pu(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}function gu(){var t=0,n=null,e=null,r=null;function i(i){var o,u,a,c,f,s,l=i.length,h=[],d=k(l),p=[],g=[],v=g.groups=new Array(l),b=new Array(l*l);o=0,f=-1;while(++f<l){u=0,s=-1;while(++s<l)u+=i[f][s];h.push(u),p.push(k(l)),o+=u}n&&d.sort((function(t,e){return n(h[t],h[e])})),e&&p.forEach((function(t,n){t.sort((function(t,r){return e(i[n][t],i[n][r])}))})),o=du(0,hu-t*l)/o,c=o?t:hu/l,u=0,f=-1;while(++f<l){a=u,s=-1;while(++s<l){var y=d[f],m=p[y][s],_=i[y][m],x=u,w=u+=_*o;b[m*l+y]={index:y,subindex:m,startAngle:x,endAngle:w,value:_}}v[y]={index:y,startAngle:a,endAngle:u,value:h[y]},u+=c}f=-1;while(++f<l){s=f-1;while(++s<l){var M=b[s*l+f],S=b[f*l+s];(M.value||S.value)&&g.push(M.value<S.value?{source:S,target:M}:{source:M,target:S})}}return r?g.sort(r):g}return i.padAngle=function(n){return arguments.length?(t=du(0,n),i):t},i.sortGroups=function(t){return arguments.length?(n=t,i):n},i.sortSubgroups=function(t){return arguments.length?(e=t,i):e},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=pu(t))._=t,i):r&&r._},i}var vu=Array.prototype.slice;function bu(t){return function(){return t}}var yu=Math.PI,mu=2*yu,_u=1e-6,xu=mu-_u;function wu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Mu(){return new wu}wu.prototype=Mu.prototype={constructor:wu,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,f=o-t,s=u-n,l=f*f+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>_u)if(Math.abs(s*a-c*f)>_u&&i){var h=e-o,d=r-u,p=a*a+c*c,g=h*h+d*d,v=Math.sqrt(p),b=Math.sqrt(l),y=i*Math.tan((yu-Math.acos((p+l-g)/(2*v*b)))/2),m=y/b,_=y/v;Math.abs(m-1)>_u&&(this._+="L"+(t+m*f)+","+(n+m*s)),this._+="A"+i+","+i+",0,0,"+ +(s*h>f*d)+","+(this._x1=t+_*a)+","+(this._y1=n+_*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,e=+e,o=!!o;var u=e*Math.cos(r),a=e*Math.sin(r),c=t+u,f=n+a,s=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+f:(Math.abs(this._x1-c)>_u||Math.abs(this._y1-f)>_u)&&(this._+="L"+c+","+f),e&&(l<0&&(l=l%mu+mu),l>xu?this._+="A"+e+","+e+",0,1,"+s+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+s+","+(this._x1=c)+","+(this._y1=f):l>_u&&(this._+="A"+e+","+e+",0,"+ +(l>=yu)+","+s+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var ku=Mu;function Su(t){return t.source}function Tu(t){return t.target}function Nu(t){return t.radius}function Au(t){return t.startAngle}function Cu(t){return t.endAngle}function Eu(){var t=Su,n=Tu,e=Nu,r=Au,i=Cu,o=null;function u(){var u,a=vu.call(arguments),c=t.apply(this,a),f=n.apply(this,a),s=+e.apply(this,(a[0]=c,a)),l=r.apply(this,a)-lu,h=i.apply(this,a)-lu,d=s*cu(l),p=s*fu(l),g=+e.apply(this,(a[0]=f,a)),v=r.apply(this,a)-lu,b=i.apply(this,a)-lu;if(o||(o=u=ku()),o.moveTo(d,p),o.arc(0,0,s,l,h),l===v&&h===b||(o.quadraticCurveTo(0,0,g*cu(v),g*fu(v)),o.arc(0,0,g,v,b)),o.quadraticCurveTo(0,0,d,p),o.closePath(),u)return o=null,u+""||null}return u.radius=function(t){return arguments.length?(e="function"===typeof t?t:bu(+t),u):e},u.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:bu(+t),u):r},u.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:bu(+t),u):i},u.source=function(n){return arguments.length?(t=n,u):t},u.target=function(t){return arguments.length?(n=t,u):n},u.context=function(t){return arguments.length?(o=null==t?null:t,u):o},u}var Pu="$";function Ru(){}function zu(t,n){var e=new Ru;if(t instanceof Ru)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)while(++i<o)e.set(i,t[i]);else while(++i<o)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}Ru.prototype=zu.prototype={constructor:Ru,has:function(t){return Pu+t in this},get:function(t){return this[Pu+t]},set:function(t,n){return this[Pu+t]=n,this},remove:function(t){var n=Pu+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Pu&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Pu&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Pu&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Pu&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Pu&&++t;return t},empty:function(){for(var t in this)if(t[0]===Pu)return!1;return!0},each:function(t){for(var n in this)n[0]===Pu&&t(this[n],n.slice(1),this)}};var qu=zu;function Du(){var t,n,e,r=[],i=[];function o(e,i,u,a){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;var c,f,s,l=-1,h=e.length,d=r[i++],p=qu(),g=u();while(++l<h)(s=p.get(c=d(f=e[l])+""))?s.push(f):p.set(c,[f]);return p.each((function(t,n){a(g,n,o(t,i,u,a))})),g}function u(t,e){if(++e>r.length)return t;var o,a=i[e-1];return null!=n&&e>=r.length?o=t.entries():(o=[],t.each((function(t,n){o.push({key:n,values:u(t,e)})}))),null!=a?o.sort((function(t,n){return a(t.key,n.key)})):o}return e={object:function(t){return o(t,0,Iu,Uu)},map:function(t){return o(t,0,Lu,Bu)},entries:function(t){return u(o(t,0,Lu,Bu),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}}function Iu(){return{}}function Uu(t,n,e){t[n]=e}function Lu(){return qu()}function Bu(t,n,e){t.set(n,e)}function Ou(){}var ju=qu.prototype;function Fu(t,n){var e=new Ou;if(t instanceof Ou)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)while(++r<i)e.add(t[r]);else while(++r<i)e.add(n(t[r],r,t))}return e}Ou.prototype=Fu.prototype={constructor:Ou,has:ju.has,add:function(t){return t+="",this[Pu+t]=t,this},remove:ju.remove,clear:ju.clear,values:ju.keys,size:ju.size,empty:ju.empty,each:ju.each};var Yu=Fu;function Hu(t){var n=[];for(var e in t)n.push(e);return n}function Gu(t){var n=[];for(var e in t)n.push(t[e]);return n}function Xu(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n}var Vu=Math.PI/180,$u=180/Math.PI,Zu=18,Wu=.96422,Qu=1,Ku=.82521,Ju=4/29,ta=6/29,na=3*ta*ta,ea=ta*ta*ta;function ra(t){if(t instanceof ua)return new ua(t.l,t.a,t.b,t.opacity);if(t instanceof pa)return ga(t);t instanceof Be||(t=Ue(t));var n,e,r=sa(t.r),i=sa(t.g),o=sa(t.b),u=aa((.2225045*r+.7168786*i+.0606169*o)/Qu);return r===i&&i===o?n=e=u:(n=aa((.4360747*r+.3850649*i+.1430804*o)/Wu),e=aa((.0139322*r+.0971045*i+.7141733*o)/Ku)),new ua(116*u-16,500*(n-u),200*(u-e),t.opacity)}function ia(t,n){return new ua(t,0,0,null==n?1:n)}function oa(t,n,e,r){return 1===arguments.length?ra(t):new ua(t,n,e,null==r?1:r)}function ua(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function aa(t){return t>ea?Math.pow(t,1/3):t/na+Ju}function ca(t){return t>ta?t*t*t:na*(t-Ju)}function fa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function sa(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function la(t){if(t instanceof pa)return new pa(t.h,t.c,t.l,t.opacity);if(t instanceof ua||(t=ra(t)),0===t.a&&0===t.b)return new pa(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*$u;return new pa(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ha(t,n,e,r){return 1===arguments.length?la(t):new pa(e,n,t,null==r?1:r)}function da(t,n,e,r){return 1===arguments.length?la(t):new pa(t,n,e,null==r?1:r)}function pa(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function ga(t){if(isNaN(t.h))return new ua(t.l,0,0,t.opacity);var n=t.h*Vu;return new ua(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}ge(ua,oa,ve(be,{brighter:function(t){return new ua(this.l+Zu*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ua(this.l-Zu*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=Wu*ca(n),t=Qu*ca(t),e=Ku*ca(e),new Be(fa(3.1338561*n-1.6168667*t-.4906146*e),fa(-.9787684*n+1.9161415*t+.033454*e),fa(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),ge(pa,da,ve(be,{brighter:function(t){return new pa(this.h,this.c,this.l+Zu*(null==t?1:t),this.opacity)},darker:function(t){return new pa(this.h,this.c,this.l-Zu*(null==t?1:t),this.opacity)},rgb:function(){return ga(this).rgb()}}));var va=-.14861,ba=1.78277,ya=-.29227,ma=-.90649,_a=1.97294,xa=_a*ma,wa=_a*ba,Ma=ba*ya-ma*va;function ka(t){if(t instanceof Ta)return new Ta(t.h,t.s,t.l,t.opacity);t instanceof Be||(t=Ue(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Ma*r+xa*n-wa*e)/(Ma+xa-wa),o=r-i,u=(_a*(e-i)-ya*o)/ma,a=Math.sqrt(u*u+o*o)/(_a*i*(1-i)),c=a?Math.atan2(u,o)*$u-120:NaN;return new Ta(c<0?c+360:c,a,i,t.opacity)}function Sa(t,n,e,r){return 1===arguments.length?ka(t):new Ta(t,n,e,null==r?1:r)}function Ta(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ge(Ta,Sa,ve(be,{brighter:function(t){return t=null==t?me:Math.pow(me,t),new Ta(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ye:Math.pow(ye,t),new Ta(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Vu,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Be(255*(n+e*(va*r+ba*i)),255*(n+e*(ya*r+ma*i)),255*(n+e*(_a*r)),this.opacity)}}));var Na=Array.prototype,Aa=Na.slice;function Ca(t,n){return t-n}function Ea(t){var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];while(++n<e)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}function Pa(t){return function(){return t}}function Ra(t,n){var e,r=-1,i=n.length;while(++r<i)if(e=za(t,n[r]))return e;return 0}function za(t,n){for(var e=n[0],r=n[1],i=-1,o=0,u=t.length,a=u-1;o<u;a=o++){var c=t[o],f=c[0],s=c[1],l=t[a],h=l[0],d=l[1];if(qa(c,l,n))return 0;s>r!==d>r&&e<(h-f)*(r-s)/(d-s)+f&&(i=-i)}return i}function qa(t,n,e){var r;return Da(t,n,e)&&Ia(t[r=+(t[0]===n[0])],e[r],n[r])}function Da(t,n,e){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])}function Ia(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}function Ua(){}var La=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ba(){var t=1,n=1,e=P,r=c;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(Ca);else{var r=y(t),i=r[0],u=r[1];n=E(i,u,n),n=k(Math.floor(i/n)*n,Math.floor(u/n)*n,n)}return n.map((function(n){return o(t,n)}))}function o(t,n){var e=[],i=[];return u(t,n,(function(o){r(o,t,n),Ea(o)>0?e.push([o]):i.push(o)})),i.forEach((function(t){for(var n,r=0,i=e.length;r<i;++r)if(-1!==Ra((n=e[r])[0],t))return void n.push(t)})),{type:"MultiPolygon",value:n,coordinates:e}}function u(e,r,i){var o,u,c,f,s,l,h=new Array,d=new Array;o=u=-1,f=e[0]>=r,La[f<<1].forEach(p);while(++o<t-1)c=f,f=e[o+1]>=r,La[c|f<<1].forEach(p);La[f<<0].forEach(p);while(++u<n-1){o=-1,f=e[u*t+t]>=r,s=e[u*t]>=r,La[f<<1|s<<2].forEach(p);while(++o<t-1)c=f,f=e[u*t+t+o+1]>=r,l=s,s=e[u*t+o+1]>=r,La[c|f<<1|s<<2|l<<3].forEach(p);La[f|s<<3].forEach(p)}o=-1,s=e[u*t]>=r,La[s<<2].forEach(p);while(++o<t-1)l=s,s=e[u*t+o+1]>=r,La[s<<2|l<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+o,t[0][1]+u],c=[t[1][0]+o,t[1][1]+u],f=a(r),s=a(c);(n=d[f])?(e=h[s])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(c),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(c),d[n.end=s]=n):(n=h[s])?(e=d[f])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(c),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=f]=n):h[f]=d[s]={start:f,end:s,ring:[r,c]}}La[s<<3].forEach(p)}function a(n){return 2*n[0]+n[1]*(t+1)*4}function c(e,r,i){e.forEach((function(e){var o,u=e[0],a=e[1],c=0|u,f=0|a,s=r[f*t+c];u>0&&u<t&&c===u&&(o=r[f*t+c-1],e[0]=u+(i-o)/(s-o)-.5),a>0&&a<n&&f===a&&(o=r[(f-1)*t+c],e[1]=a+(i-o)/(s-o)-.5)}))}return i.contour=o,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),o=Math.ceil(e[1]);if(!(r>0)||!(o>0))throw new Error("invalid size");return t=r,n=o,i},i.thresholds=function(t){return arguments.length?(e="function"===typeof t?t:Array.isArray(t)?Pa(Aa.call(t)):Pa(t),i):e},i.smooth=function(t){return arguments.length?(r=t?c:Ua,i):r===c},i}function Oa(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),u=0;u<i;++u)for(var a=0,c=0;a<r+e;++a)a<r&&(c+=t.data[a+u*r]),a>=e&&(a>=o&&(c-=t.data[a-o+u*r]),n.data[a-e+u*r]=c/Math.min(a+1,r-1+o-a,o))}function ja(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),u=0;u<r;++u)for(var a=0,c=0;a<i+e;++a)a<i&&(c+=t.data[u+a*r]),a>=e&&(a>=o&&(c-=t.data[u+(a-o)*r]),n.data[u+(a-e)*r]=c/Math.min(a+1,i-1+o-a,o))}function Fa(t){return t[0]}function Ya(t){return t[1]}function Ha(){return 1}function Ga(){var t=Fa,n=Ya,e=Ha,r=960,i=500,o=20,u=2,a=3*o,c=r+2*a>>u,f=i+2*a>>u,s=Pa(20);function l(r){var i=new Float32Array(c*f),l=new Float32Array(c*f);r.forEach((function(r,o,s){var l=+t(r,o,s)+a>>u,h=+n(r,o,s)+a>>u,d=+e(r,o,s);l>=0&&l<c&&h>=0&&h<f&&(i[l+h*c]+=d)})),Oa({width:c,height:f,data:i},{width:c,height:f,data:l},o>>u),ja({width:c,height:f,data:l},{width:c,height:f,data:i},o>>u),Oa({width:c,height:f,data:i},{width:c,height:f,data:l},o>>u),ja({width:c,height:f,data:l},{width:c,height:f,data:i},o>>u),Oa({width:c,height:f,data:i},{width:c,height:f,data:l},o>>u),ja({width:c,height:f,data:l},{width:c,height:f,data:i},o>>u);var d=s(i);if(!Array.isArray(d)){var p=I(i);d=E(0,p,d),d=k(0,Math.floor(p/d)*d,d),d.shift()}return Ba().thresholds(d).size([c,f])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*u),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,u)-a,t[1]=t[1]*Math.pow(2,u)-a}function v(){return a=3*o,c=r+2*a>>u,f=i+2*a>>u,l}return l.x=function(n){return arguments.length?(t="function"===typeof n?n:Pa(+n),l):t},l.y=function(t){return arguments.length?(n="function"===typeof t?t:Pa(+t),l):n},l.weight=function(t){return arguments.length?(e="function"===typeof t?t:Pa(+t),l):e},l.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0)&&!(n>=0))throw new Error("invalid size");return r=n,i=e,v()},l.cellSize=function(t){if(!arguments.length)return 1<<u;if(!((t=+t)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(t)/Math.LN2),v()},l.thresholds=function(t){return arguments.length?(s="function"===typeof t?t:Array.isArray(t)?Pa(Aa.call(t)):Pa(t),l):s},l.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),v()},l}function Xa(t){return function(){return t}}function Va(t,n,e,r,i,o,u,a,c,f){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=f}function $a(){return!Vn.ctrlKey&&!Vn.button}function Za(){return this.parentNode}function Wa(t){return null==t?{x:Vn.x,y:Vn.y}:t}function Qa(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ka(){var t,n,e,r,i=$a,o=Za,u=Wa,a=Qa,c={},f=bt("start","drag","end"),s=0,l=0;function h(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",v).on("touchmove.drag",b).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var u=m("mouse",o.apply(this,arguments),Mr,this,arguments);u&&(se(Vn.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),de(Vn.view),le(),e=!1,t=Vn.clientX,n=Vn.clientY,u("start"))}}function p(){if(he(),!e){var r=Vn.clientX-t,i=Vn.clientY-n;e=r*r+i*i>l}c.mouse("drag")}function g(){se(Vn.view).on("mousemove.drag mouseup.drag",null),pe(Vn.view,e),he(),c.mouse("end")}function v(){if(i.apply(this,arguments)){var t,n,e=Vn.changedTouches,r=o.apply(this,arguments),u=e.length;for(t=0;t<u;++t)(n=m(e[t].identifier,r,wr,this,arguments))&&(le(),n("start"))}}function b(){var t,n,e=Vn.changedTouches,r=e.length;for(t=0;t<r;++t)(n=c[e[t].identifier])&&(he(),n("drag"))}function y(){var t,n,e=Vn.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=c[e[t].identifier])&&(le(),n("end"))}function m(t,n,e,r,i){var o,a,l,d=e(n,t),p=f.copy();if(ne(new Va(h,"beforestart",o,t,s,d[0],d[1],0,0,p),(function(){return null!=(Vn.subject=o=u.apply(r,i))&&(a=o.x-d[0]||0,l=o.y-d[1]||0,!0)})))return function u(f){var g,v=d;switch(f){case"start":c[t]=u,g=s++;break;case"end":delete c[t],--s;case"drag":d=e(n,t),g=s;break}ne(new Va(h,f,o,t,g,d[0]+a,d[1]+l,d[0]-v[0],d[1]-v[1],p),p.apply,p,[f,r,i])}}return h.filter=function(t){return arguments.length?(i="function"===typeof t?t:Xa(!!t),h):i},h.container=function(t){return arguments.length?(o="function"===typeof t?t:Xa(t),h):o},h.subject=function(t){return arguments.length?(u="function"===typeof t?t:Xa(t),h):u},h.touchable=function(t){return arguments.length?(a="function"===typeof t?t:Xa(!!t),h):a},h.on=function(){var t=f.on.apply(f,arguments);return t===f?h:t},h.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,h):Math.sqrt(l)},h}Va.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ja={},tc={},nc=34,ec=10,rc=13;function ic(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function oc(t,n){var e=ic(t);return function(r,i){return n(e(r),i,t)}}function uc(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function ac(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function cc(t){return t<0?"-"+ac(-t,6):t>9999?"+"+ac(t,6):ac(t,4)}function fc(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":cc(t.getUTCFullYear(),4)+"-"+ac(t.getUTCMonth()+1,2)+"-"+ac(t.getUTCDate(),2)+(i?"T"+ac(n,2)+":"+ac(e,2)+":"+ac(r,2)+"."+ac(i,3)+"Z":r?"T"+ac(n,2)+":"+ac(e,2)+":"+ac(r,2)+"Z":e||n?"T"+ac(n,2)+":"+ac(e,2)+"Z":"")}function sc(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var e,r,o=i(t,(function(t,i){if(e)return e(t,i-1);r=t,e=n?oc(t,n):ic(t)}));return o.columns=r||[],o}function i(t,n){var r,i=[],o=t.length,u=0,a=0,c=o<=0,f=!1;function s(){if(c)return tc;if(f)return f=!1,Ja;var n,r,i=u;if(t.charCodeAt(i)===nc){while(u++<o&&t.charCodeAt(u)!==nc||t.charCodeAt(++u)===nc);return(n=u)>=o?c=!0:(r=t.charCodeAt(u++))===ec?f=!0:r===rc&&(f=!0,t.charCodeAt(u)===ec&&++u),t.slice(i+1,n-1).replace(/""/g,'"')}while(u<o){if((r=t.charCodeAt(n=u++))===ec)f=!0;else if(r===rc)f=!0,t.charCodeAt(u)===ec&&++u;else if(r!==e)continue;return t.slice(i,n)}return c=!0,t.slice(i,o)}t.charCodeAt(o-1)===ec&&--o,t.charCodeAt(o-1)===rc&&--o;while((r=s())!==tc){var l=[];while(r!==Ja&&r!==tc)l.push(r),r=s();n&&null==(l=n(l,a++))||i.push(l)}return i}function o(n,e){return n.map((function(n){return e.map((function(t){return s(n[t])})).join(t)}))}function u(n,e){return null==e&&(e=uc(n)),[e.map(s).join(t)].concat(o(n,e)).join("\n")}function a(t,n){return null==n&&(n=uc(t)),o(t,n).join("\n")}function c(t){return t.map(f).join("\n")}function f(n){return n.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?fc(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:u,formatBody:a,formatRows:c,formatRow:f,formatValue:s}}var lc=sc(","),hc=lc.parse,dc=lc.parseRows,pc=lc.format,gc=lc.formatBody,vc=lc.formatRows,bc=lc.formatRow,yc=lc.formatValue,mc=sc("\t"),_c=mc.parse,xc=mc.parseRows,wc=mc.format,Mc=mc.formatBody,kc=mc.formatRows,Sc=mc.formatRow,Tc=mc.formatValue;function Nc(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Ac&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t}var Ac=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Cc(t){return+t}function Ec(t){return t*t}function Pc(t){return t*(2-t)}function Rc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var zc=3,qc=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(zc),Dc=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(zc),Ic=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(zc),Uc=Math.PI,Lc=Uc/2;function Bc(t){return 1===+t?1:1-Math.cos(t*Lc)}function Oc(t){return Math.sin(t*Lc)}function jc(t){return(1-Math.cos(Uc*t))/2}function Fc(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Yc(t){return Fc(1-+t)}function Hc(t){return 1-Fc(t)}function Gc(t){return((t*=2)<=1?Fc(1-t):2-Fc(t-1))/2}function Xc(t){return 1-Math.sqrt(1-t*t)}function Vc(t){return Math.sqrt(1- --t*t)}function $c(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Zc=4/11,Wc=6/11,Qc=8/11,Kc=3/4,Jc=9/11,tf=10/11,nf=15/16,ef=21/22,rf=63/64,of=1/Zc/Zc;function uf(t){return 1-af(1-t)}function af(t){return(t=+t)<Zc?of*t*t:t<Qc?of*(t-=Wc)*t+Kc:t<tf?of*(t-=Jc)*t+nf:of*(t-=ef)*t+rf}function cf(t){return((t*=2)<=1?1-af(1-t):af(t-1)+1)/2}var ff=1.70158,sf=function t(n){function e(t){return(t=+t)*t*(n*(t-1)+t)}return n=+n,e.overshoot=t,e}(ff),lf=function t(n){function e(t){return--t*t*((t+1)*n+t)+1}return n=+n,e.overshoot=t,e}(ff),hf=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(ff),df=2*Math.PI,pf=1,gf=.3,vf=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=df);function i(t){return n*Fc(- --t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*df)},i.period=function(e){return t(n,e)},i}(pf,gf),bf=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=df);function i(t){return 1-n*Fc(t=+t)*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*df)},i.period=function(e){return t(n,e)},i}(pf,gf),yf=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=df);function i(t){return((t=2*t-1)<0?n*Fc(-t)*Math.sin((r-t)/e):2-n*Fc(t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*df)},i.period=function(e){return t(n,e)},i}(pf,gf);function mf(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function _f(t,n){return fetch(t,n).then(mf)}function xf(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function wf(t,n){return fetch(t,n).then(xf)}function Mf(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function kf(t,n){return fetch(t,n).then(Mf)}function Sf(t){return function(n,e,r){return 2===arguments.length&&"function"===typeof e&&(r=e,e=void 0),kf(n,e).then((function(n){return t(n,r)}))}}function Tf(t,n,e,r){3===arguments.length&&"function"===typeof e&&(r=e,e=void 0);var i=sc(t);return kf(n,e).then((function(t){return i.parse(t,r)}))}var Nf=Sf(hc),Af=Sf(_c);function Cf(t,n){return new Promise((function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t}))}function Ef(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Pf(t,n){return fetch(t,n).then(Ef)}function Rf(t){return function(n,e){return kf(n,e).then((function(n){return(new DOMParser).parseFromString(n,t)}))}}var zf=Rf("application/xml"),qf=Rf("text/html"),Df=Rf("image/svg+xml");function If(t,n){var e;function r(){var r,i,o=e.length,u=0,a=0;for(r=0;r<o;++r)i=e[r],u+=i.x,a+=i.y;for(u=u/o-t,a=a/o-n,r=0;r<o;++r)i=e[r],i.x-=u,i.y-=a}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r}function Uf(t){return function(){return t}}function Lf(){return 1e-6*(Math.random()-.5)}function Bf(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Of(this.cover(n,e),n,e,t)}function Of(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,c,f,s,l,h,d=t._root,p={data:r},g=t._x0,v=t._y0,b=t._x1,y=t._y1;if(!d)return t._root=p,t;while(d.length)if((f=n>=(o=(g+b)/2))?g=o:b=o,(s=e>=(u=(v+y)/2))?v=u:y=u,i=d,!(d=d[l=s<<1|f]))return i[l]=p,t;if(a=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===a&&e===c)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(f=n>=(o=(g+b)/2))?g=o:b=o,(s=e>=(u=(v+y)/2))?v=u:y=u}while((l=s<<1|f)===(h=(c>=u)<<1|a>=o));return i[h]=d,i[l]=p,t}function jf(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),c=1/0,f=1/0,s=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<c&&(c=r),r>s&&(s=r),i<f&&(f=i),i>l&&(l=i));if(c>s||f>l)return this;for(this.cover(c,f).cover(s,l),e=0;e<o;++e)Of(this,u[e],a[e],t[e]);return this}function Ff(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{var u,a,c=i-e,f=this._root;while(e>t||t>=i||r>n||n>=o)switch(a=(n<r)<<1|t<e,u=new Array(4),u[a]=f,f=u,c*=2,a){case 0:i=e+c,o=r+c;break;case 1:e=i-c,o=r+c;break;case 2:i=e+c,r=o-c;break;case 3:e=i-c,r=o-c;break}this._root&&this._root.length&&(this._root=f)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this}function Yf(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t}function Hf(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Gf(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Xf(t,n,e){var r,i,o,u,a,c,f,s=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;g&&p.push(new Gf(g,s,l,h,d)),null==e?e=1/0:(s=t-e,l=n-e,h=t+e,d=n+e,e*=e);while(c=p.pop())if(!(!(g=c.node)||(i=c.x0)>h||(o=c.y0)>d||(u=c.x1)<s||(a=c.y1)<l))if(g.length){var v=(i+u)/2,b=(o+a)/2;p.push(new Gf(g[3],v,b,u,a),new Gf(g[2],i,b,v,a),new Gf(g[1],v,o,u,b),new Gf(g[0],i,o,v,b)),(f=(n>=b)<<1|t>=v)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-f],p[p.length-1-f]=c)}else{var y=t-+this._x.call(null,g.data),m=n-+this._y.call(null,g.data),_=y*y+m*m;if(_<e){var x=Math.sqrt(e=_);s=t-x,l=n-x,h=t+x,d=n+x,r=g.data}}return r}function Vf(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,c,f,s,l,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,b=this._y1;if(!d)return this;if(d.length)while(1){if((f=o>=(a=(p+v)/2))?p=a:v=a,(s=u>=(c=(g+b)/2))?g=c:b=c,n=d,!(d=d[l=s<<1|f]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}while(d.data!==t)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)}function $f(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function Zf(){return this._root}function Wf(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t}function Qf(t){var n,e,r,i,o,u,a=[],c=this._root;c&&a.push(new Gf(c,this._x0,this._y0,this._x1,this._y1));while(n=a.pop())if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&c.length){var f=(r+o)/2,s=(i+u)/2;(e=c[3])&&a.push(new Gf(e,f,s,o,u)),(e=c[2])&&a.push(new Gf(e,r,s,f,u)),(e=c[1])&&a.push(new Gf(e,f,i,o,s)),(e=c[0])&&a.push(new Gf(e,r,i,f,s))}return this}function Kf(t){var n,e=[],r=[];this._root&&e.push(new Gf(this._root,this._x0,this._y0,this._x1,this._y1));while(n=e.pop()){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,c=n.x1,f=n.y1,s=(u+c)/2,l=(a+f)/2;(o=i[0])&&e.push(new Gf(o,u,a,s,l)),(o=i[1])&&e.push(new Gf(o,s,a,c,l)),(o=i[2])&&e.push(new Gf(o,u,l,s,f)),(o=i[3])&&e.push(new Gf(o,s,l,c,f))}r.push(n)}while(n=r.pop())t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function Jf(t){return t[0]}function ts(t){return arguments.length?(this._x=t,this):this._x}function ns(t){return t[1]}function es(t){return arguments.length?(this._y=t,this):this._y}function rs(t,n,e){var r=new is(null==n?Jf:n,null==e?ns:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function is(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function os(t){var n={data:t.data},e=n;while(t=t.next)e=e.next={data:t.data};return n}var us=rs.prototype=is.prototype;function as(t){return t.x+t.vx}function cs(t){return t.y+t.vy}function fs(t){var n,e,r=1,i=1;function o(){for(var t,o,a,c,f,s,l,h=n.length,d=0;d<i;++d)for(o=rs(n,as,cs).visitAfter(u),t=0;t<h;++t)a=n[t],s=e[a.index],l=s*s,c=a.x+a.vx,f=a.y+a.vy,o.visit(p);function p(t,n,e,i,o){var u=t.data,h=t.r,d=s+h;if(!u)return n>c+d||i<c-d||e>f+d||o<f-d;if(u.index>a.index){var p=c-u.x-u.vx,g=f-u.y-u.vy,v=p*p+g*g;v<d*d&&(0===p&&(p=Lf(),v+=p*p),0===g&&(g=Lf(),v+=g*g),v=(d-(v=Math.sqrt(v)))/v*r,a.vx+=(p*=v)*(d=(h*=h)/(l+h)),a.vy+=(g*=v)*d,u.vx-=p*(d=1-d),u.vy-=g*d)}}}function u(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function a(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!==typeof t&&(t=Uf(null==t?1:+t)),o.initialize=function(t){n=t,a()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(n){return arguments.length?(t="function"===typeof n?n:Uf(+n),a(),o):t},o}function ss(t){return t.index}function ls(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function hs(t){var n,e,r,i,o,u=ss,a=s,c=Uf(30),f=1;function s(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function l(r){for(var i=0,u=t.length;i<f;++i)for(var a,c,s,l,h,d,p,g=0;g<u;++g)a=t[g],c=a.source,s=a.target,l=s.x+s.vx-c.x-c.vx||Lf(),h=s.y+s.vy-c.y-c.vy||Lf(),d=Math.sqrt(l*l+h*h),d=(d-e[g])/d*r*n[g],l*=d,h*=d,s.vx-=l*(p=o[g]),s.vy-=h*p,c.vx+=l*(p=1-p),c.vy+=h*p}function h(){if(r){var a,c,f=r.length,s=t.length,l=qu(r,u);for(a=0,i=new Array(f);a<s;++a)c=t[a],c.index=a,"object"!==typeof c.source&&(c.source=ls(l,c.source)),"object"!==typeof c.target&&(c.target=ls(l,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(a=0,o=new Array(s);a<s;++a)c=t[a],o[a]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);n=new Array(s),d(),e=new Array(s),p()}}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+a(t[e],e,t)}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}return null==t&&(t=[]),l.initialize=function(t){r=t,h()},l.links=function(n){return arguments.length?(t=n,h(),l):t},l.id=function(t){return arguments.length?(u=t,l):u},l.iterations=function(t){return arguments.length?(f=+t,l):f},l.strength=function(t){return arguments.length?(a="function"===typeof t?t:Uf(+t),d(),l):a},l.distance=function(t){return arguments.length?(c="function"===typeof t?t:Uf(+t),p(),l):c},l}function ds(t){return t.x}function ps(t){return t.y}us.copy=function(){var t,n,e=new is(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=os(r),e;t=[{source:r,target:e._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=os(n));return e},us.add=Bf,us.addAll=jf,us.cover=Ff,us.data=Yf,us.extent=Hf,us.find=Xf,us.remove=Vf,us.removeAll=$f,us.root=Zf,us.size=Wf,us.visit=Qf,us.visitAfter=Kf,us.x=ts,us.y=es;var gs=10,vs=Math.PI*(3-Math.sqrt(5));function bs(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,u=.6,a=qu(),c=Lr(s),f=bt("tick","end");function s(){l(),f.call("tick",n),e<r&&(c.stop(),f.call("end",n))}function l(r){var c,f,s=t.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(e+=(o-e)*i,a.each((function(t){t(e)})),c=0;c<s;++c)f=t[c],null==f.fx?f.x+=f.vx*=u:(f.x=f.fx,f.vx=0),null==f.fy?f.y+=f.vy*=u:(f.y=f.fy,f.vy=0);return n}function h(){for(var n,e=0,r=t.length;e<r;++e){if(n=t[e],n.index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=gs*Math.sqrt(e),o=e*vs;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:l,restart:function(){return c.restart(s),n},stop:function(){return c.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),a.each(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(u=1-t,n):1-u},force:function(t,e){return arguments.length>1?(null==e?a.remove(t):a.set(t,d(e)),n):a.get(t)},find:function(n,e,r){var i,o,u,a,c,f=0,s=t.length;for(null==r?r=1/0:r*=r,f=0;f<s;++f)a=t[f],i=n-a.x,o=e-a.y,u=i*i+o*o,u<r&&(c=a,r=u);return c},on:function(t,e){return arguments.length>1?(f.on(t,e),n):f.on(t)}}}function ys(){var t,n,e,r,i=Uf(-30),o=1,u=1/0,a=.81;function c(r){var i,o=t.length,u=rs(t,ds,ps).visitAfter(s);for(e=r,i=0;i<o;++i)n=t[i],u.visit(l)}function f(){if(t){var n,e,o=t.length;for(r=new Array(o),n=0;n<o;++n)e=t[n],r[e.index]=+i(e,n,t)}}function s(t){var n,e,i,o,u,a=0,c=0;if(t.length){for(i=o=u=0;u<4;++u)(n=t[u])&&(e=Math.abs(n.value))&&(a+=n.value,c+=e,i+=e*n.x,o+=e*n.y);t.x=i/c,t.y=o/c}else{n=t,n.x=n.data.x,n.y=n.data.y;do{a+=r[n.data.index]}while(n=n.next)}t.value=a}function l(t,i,c,f){if(!t.value)return!0;var s=t.x-n.x,l=t.y-n.y,h=f-i,d=s*s+l*l;if(h*h/a<d)return d<u&&(0===s&&(s=Lf(),d+=s*s),0===l&&(l=Lf(),d+=l*l),d<o&&(d=Math.sqrt(o*d)),n.vx+=s*t.value*e/d,n.vy+=l*t.value*e/d),!0;if(!(t.length||d>=u)){(t.data!==n||t.next)&&(0===s&&(s=Lf(),d+=s*s),0===l&&(l=Lf(),d+=l*l),d<o&&(d=Math.sqrt(o*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=s*h,n.vy+=l*h)}while(t=t.next)}}return c.initialize=function(n){t=n,f()},c.strength=function(t){return arguments.length?(i="function"===typeof t?t:Uf(+t),f(),c):i},c.distanceMin=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.distanceMax=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c.theta=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c}function ms(t,n,e){var r,i,o,u=Uf(.1);function a(t){for(var u=0,a=r.length;u<a;++u){var c=r[u],f=c.x-n||1e-6,s=c.y-e||1e-6,l=Math.sqrt(f*f+s*s),h=(o[u]-l)*i[u]*t/l;c.vx+=f*h,c.vy+=s*h}}function c(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+u(r[n],n,r)}}return"function"!==typeof t&&(t=Uf(+t)),null==n&&(n=0),null==e&&(e=0),a.initialize=function(t){r=t,c()},a.strength=function(t){return arguments.length?(u="function"===typeof t?t:Uf(+t),c(),a):u},a.radius=function(n){return arguments.length?(t="function"===typeof n?n:Uf(+n),c(),a):t},a.x=function(t){return arguments.length?(n=+t,a):n},a.y=function(t){return arguments.length?(e=+t,a):e},a}function _s(t){var n,e,r,i=Uf(.1);function o(t){for(var i,o=0,u=n.length;o<u;++o)i=n[o],i.vx+=(r[o]-i.x)*e[o]*t}function u(){if(n){var o,u=n.length;for(e=new Array(u),r=new Array(u),o=0;o<u;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!==typeof t&&(t=Uf(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:Uf(+t),u(),o):i},o.x=function(n){return arguments.length?(t="function"===typeof n?n:Uf(+n),u(),o):t},o}function xs(t){var n,e,r,i=Uf(.1);function o(t){for(var i,o=0,u=n.length;o<u;++o)i=n[o],i.vy+=(r[o]-i.y)*e[o]*t}function u(){if(n){var o,u=n.length;for(e=new Array(u),r=new Array(u),o=0;o<u;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!==typeof t&&(t=Uf(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:Uf(+t),u(),o):i},o.y=function(n){return arguments.length?(t="function"===typeof n?n:Uf(+n),u(),o):t},o}function ws(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ms(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function ks(t){return t=Ms(Math.abs(t)),t?t[1]:NaN}function Ss(t,n){return function(e,r){var i=e.length,o=[],u=0,a=t[0],c=0;while(i>0&&a>0){if(c+a+1>r&&(a=Math.max(1,r-c)),o.push(e.substring(i-=a,i+a)),(c+=a+1)>r)break;a=t[u=(u+1)%t.length]}return o.reverse().join(n)}}function Ts(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}var Ns,As=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cs(t){if(!(n=As.exec(t)))throw new Error("invalid format: "+t);var n;return new Es({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Es(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ps(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(n+1):t}function Rs(t,n){var e=Ms(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Ns=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ms(t,Math.max(0,n+o-1))[0]}function zs(t,n){var e=Ms(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Cs.prototype=Es.prototype,Es.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var qs={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:ws,e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return zs(100*t,n)},r:zs,s:Rs,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ds(t){return t}var Is,Us,Ls,Bs=Array.prototype.map,Os=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function js(t){var n=void 0===t.grouping||void 0===t.thousands?Ds:Ss(Bs.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?Ds:Ts(Bs.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",a=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){t=Cs(t);var f=t.fill,s=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,v=t.precision,b=t.trim,y=t.type;"n"===y?(g=!0,y="g"):qs[y]||(void 0===v&&(v=12),b=!0,y="g"),(d||"0"===f&&"="===s)&&(d=!0,f="0",s="=");var m="$"===h?e:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===h?r:/[%p]/.test(y)?u:"",x=qs[y],w=/[defgprs%]/.test(y);function M(t){var e,r,u,h=m,M=_;if("c"===y)M=x(t)+M,t="";else{t=+t;var k=t<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),v),b&&(t=Ps(t)),k&&0===+t&&"+"!==l&&(k=!1),h=(k?"("===l?l:a:"-"===l||"("===l?"":l)+h,M=("s"===y?Os[8+Ns/3]:"")+M+(k&&"("===l?")":""),w){e=-1,r=t.length;while(++e<r)if(u=t.charCodeAt(e),48>u||u>57){M=(46===u?i+t.slice(e+1):t.slice(e))+M,t=t.slice(0,e);break}}}g&&!d&&(t=n(t,1/0));var S=h.length+t.length+M.length,T=S<p?new Array(p-S+1).join(f):"";switch(g&&d&&(t=n(T+t,T.length?p-M.length:1/0),T=""),s){case"<":t=h+t+M+T;break;case"=":t=h+T+t+M;break;case"^":t=T.slice(0,S=T.length>>1)+h+t+M+T.slice(S);break;default:t=T+h+t+M;break}return o(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}function s(t,n){var e=f((t=Cs(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ks(n)/3))),i=Math.pow(10,-r),o=Os[8+r/3];return function(t){return e(i*t)+o}}return{format:f,formatPrefix:s}}function Fs(t){return Is=js(t),Us=Is.format,Ls=Is.formatPrefix,Is}function Ys(t){return Math.max(0,-ks(Math.abs(t)))}function Hs(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ks(n)/3)))-ks(Math.abs(t)))}function Gs(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ks(n)-ks(t))+1}function Xs(){return new Vs}function Vs(){this.reset()}Fs({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Vs.prototype={constructor:Vs,reset:function(){this.s=this.t=0},add:function(t){Zs($s,t,this.t),Zs(this,$s.s,this.s),this.s?this.t+=$s.t:this.s=$s.t},valueOf:function(){return this.s}};var $s=new Vs;function Zs(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var Ws=1e-6,Qs=1e-12,Ks=Math.PI,Js=Ks/2,tl=Ks/4,nl=2*Ks,el=180/Ks,rl=Ks/180,il=Math.abs,ol=Math.atan,ul=Math.atan2,al=Math.cos,cl=Math.ceil,fl=Math.exp,sl=(Math.floor,Math.log),ll=Math.pow,hl=Math.sin,dl=Math.sign||function(t){return t>0?1:t<0?-1:0},pl=Math.sqrt,gl=Math.tan;function vl(t){return t>1?0:t<-1?Ks:Math.acos(t)}function bl(t){return t>1?Js:t<-1?-Js:Math.asin(t)}function yl(t){return(t=hl(t/2))*t}function ml(){}function _l(t,n){t&&wl.hasOwnProperty(t.type)&&wl[t.type](t,n)}var xl={Feature:function(t,n){_l(t.geometry,n)},FeatureCollection:function(t,n){var e=t.features,r=-1,i=e.length;while(++r<i)_l(e[r].geometry,n)}},wl={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ml(t.coordinates,n,0)},MultiLineString:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)Ml(e[r],n,0)},Polygon:function(t,n){kl(t.coordinates,n)},MultiPolygon:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)kl(e[r],n)},GeometryCollection:function(t,n){var e=t.geometries,r=-1,i=e.length;while(++r<i)_l(e[r],n)}};function Ml(t,n,e){var r,i=-1,o=t.length-e;n.lineStart();while(++i<o)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function kl(t,n){var e=-1,r=t.length;n.polygonStart();while(++e<r)Ml(t[e],n,1);n.polygonEnd()}function Sl(t,n){t&&xl.hasOwnProperty(t.type)?xl[t.type](t,n):_l(t,n)}var Tl,Nl,Al,Cl,El,Pl=Xs(),Rl=Xs(),zl={point:ml,lineStart:ml,lineEnd:ml,polygonStart:function(){Pl.reset(),zl.lineStart=ql,zl.lineEnd=Dl},polygonEnd:function(){var t=+Pl;Rl.add(t<0?nl+t:t),this.lineStart=this.lineEnd=this.point=ml},sphere:function(){Rl.add(nl)}};function ql(){zl.point=Il}function Dl(){Ul(Tl,Nl)}function Il(t,n){zl.point=Ul,Tl=t,Nl=n,t*=rl,n*=rl,Al=t,Cl=al(n=n/2+tl),El=hl(n)}function Ul(t,n){t*=rl,n*=rl,n=n/2+tl;var e=t-Al,r=e>=0?1:-1,i=r*e,o=al(n),u=hl(n),a=El*u,c=Cl*o+a*al(i),f=a*r*hl(i);Pl.add(ul(f,c)),Al=t,Cl=o,El=u}function Ll(t){return Rl.reset(),Sl(t,zl),2*Rl}function Bl(t){return[ul(t[1],t[0]),bl(t[2])]}function Ol(t){var n=t[0],e=t[1],r=al(e);return[r*al(n),r*hl(n),hl(e)]}function jl(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Fl(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Yl(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Hl(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Gl(t){var n=pl(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Xl,Vl,$l,Zl,Wl,Ql,Kl,Jl,th,nh,eh,rh,ih,oh,uh,ah,ch,fh,sh,lh,hh,dh,ph,gh,vh,bh,yh=Xs(),mh={point:_h,lineStart:wh,lineEnd:Mh,polygonStart:function(){mh.point=kh,mh.lineStart=Sh,mh.lineEnd=Th,yh.reset(),zl.polygonStart()},polygonEnd:function(){zl.polygonEnd(),mh.point=_h,mh.lineStart=wh,mh.lineEnd=Mh,Pl<0?(Xl=-($l=180),Vl=-(Zl=90)):yh>Ws?Zl=90:yh<-Ws&&(Vl=-90),nh[0]=Xl,nh[1]=$l},sphere:function(){Xl=-($l=180),Vl=-(Zl=90)}};function _h(t,n){th.push(nh=[Xl=t,$l=t]),n<Vl&&(Vl=n),n>Zl&&(Zl=n)}function xh(t,n){var e=Ol([t*rl,n*rl]);if(Jl){var r=Fl(Jl,e),i=[r[1],-r[0],0],o=Fl(i,r);Gl(o),o=Bl(o);var u,a=t-Wl,c=a>0?1:-1,f=o[0]*el*c,s=il(a)>180;s^(c*Wl<f&&f<c*t)?(u=o[1]*el,u>Zl&&(Zl=u)):(f=(f+360)%360-180,s^(c*Wl<f&&f<c*t)?(u=-o[1]*el,u<Vl&&(Vl=u)):(n<Vl&&(Vl=n),n>Zl&&(Zl=n))),s?t<Wl?Nh(Xl,t)>Nh(Xl,$l)&&($l=t):Nh(t,$l)>Nh(Xl,$l)&&(Xl=t):$l>=Xl?(t<Xl&&(Xl=t),t>$l&&($l=t)):t>Wl?Nh(Xl,t)>Nh(Xl,$l)&&($l=t):Nh(t,$l)>Nh(Xl,$l)&&(Xl=t)}else th.push(nh=[Xl=t,$l=t]);n<Vl&&(Vl=n),n>Zl&&(Zl=n),Jl=e,Wl=t}function wh(){mh.point=xh}function Mh(){nh[0]=Xl,nh[1]=$l,mh.point=_h,Jl=null}function kh(t,n){if(Jl){var e=t-Wl;yh.add(il(e)>180?e+(e>0?360:-360):e)}else Ql=t,Kl=n;zl.point(t,n),xh(t,n)}function Sh(){zl.lineStart()}function Th(){kh(Ql,Kl),zl.lineEnd(),il(yh)>Ws&&(Xl=-($l=180)),nh[0]=Xl,nh[1]=$l,Jl=null}function Nh(t,n){return(n-=t)<0?n+360:n}function Ah(t,n){return t[0]-n[0]}function Ch(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function Eh(t){var n,e,r,i,o,u,a;if(Zl=$l=-(Xl=Vl=1/0),th=[],Sl(t,mh),e=th.length){for(th.sort(Ah),n=1,r=th[0],o=[r];n<e;++n)i=th[n],Ch(r,i[0])||Ch(r,i[1])?(Nh(r[0],i[1])>Nh(r[0],r[1])&&(r[1]=i[1]),Nh(i[0],r[1])>Nh(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-1/0,e=o.length-1,n=0,r=o[e];n<=e;r=i,++n)i=o[n],(a=Nh(r[1],i[0]))>u&&(u=a,Xl=i[0],$l=r[1])}return th=nh=null,Xl===1/0||Vl===1/0?[[NaN,NaN],[NaN,NaN]]:[[Xl,Vl],[$l,Zl]]}var Ph={sphere:ml,point:Rh,lineStart:qh,lineEnd:Uh,polygonStart:function(){Ph.lineStart=Lh,Ph.lineEnd=Bh},polygonEnd:function(){Ph.lineStart=qh,Ph.lineEnd=Uh}};function Rh(t,n){t*=rl,n*=rl;var e=al(n);zh(e*al(t),e*hl(t),hl(n))}function zh(t,n,e){++eh,ih+=(t-ih)/eh,oh+=(n-oh)/eh,uh+=(e-uh)/eh}function qh(){Ph.point=Dh}function Dh(t,n){t*=rl,n*=rl;var e=al(n);gh=e*al(t),vh=e*hl(t),bh=hl(n),Ph.point=Ih,zh(gh,vh,bh)}function Ih(t,n){t*=rl,n*=rl;var e=al(n),r=e*al(t),i=e*hl(t),o=hl(n),u=ul(pl((u=vh*o-bh*i)*u+(u=bh*r-gh*o)*u+(u=gh*i-vh*r)*u),gh*r+vh*i+bh*o);rh+=u,ah+=u*(gh+(gh=r)),ch+=u*(vh+(vh=i)),fh+=u*(bh+(bh=o)),zh(gh,vh,bh)}function Uh(){Ph.point=Rh}function Lh(){Ph.point=Oh}function Bh(){jh(dh,ph),Ph.point=Rh}function Oh(t,n){dh=t,ph=n,t*=rl,n*=rl,Ph.point=jh;var e=al(n);gh=e*al(t),vh=e*hl(t),bh=hl(n),zh(gh,vh,bh)}function jh(t,n){t*=rl,n*=rl;var e=al(n),r=e*al(t),i=e*hl(t),o=hl(n),u=vh*o-bh*i,a=bh*r-gh*o,c=gh*i-vh*r,f=pl(u*u+a*a+c*c),s=bl(f),l=f&&-s/f;sh+=l*u,lh+=l*a,hh+=l*c,rh+=s,ah+=s*(gh+(gh=r)),ch+=s*(vh+(vh=i)),fh+=s*(bh+(bh=o)),zh(gh,vh,bh)}function Fh(t){eh=rh=ih=oh=uh=ah=ch=fh=sh=lh=hh=0,Sl(t,Ph);var n=sh,e=lh,r=hh,i=n*n+e*e+r*r;return i<Qs&&(n=ah,e=ch,r=fh,rh<Ws&&(n=ih,e=oh,r=uh),i=n*n+e*e+r*r,i<Qs)?[NaN,NaN]:[ul(e,n)*el,bl(r/pl(i))*el]}function Yh(t){return function(){return t}}function Hh(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])}),e}function Gh(t,n){return[il(t)>Ks?t+Math.round(-t/nl)*nl:t,n]}function Xh(t,n,e){return(t%=nl)?n||e?Hh($h(t),Zh(n,e)):$h(t):n||e?Zh(n,e):Gh}function Vh(t){return function(n,e){return n+=t,[n>Ks?n-nl:n<-Ks?n+nl:n,e]}}function $h(t){var n=Vh(t);return n.invert=Vh(-t),n}function Zh(t,n){var e=al(t),r=hl(t),i=al(n),o=hl(n);function u(t,n){var u=al(n),a=al(t)*u,c=hl(t)*u,f=hl(n),s=f*e+a*r;return[ul(c*i-s*o,a*e-f*r),bl(s*i+c*o)]}return u.invert=function(t,n){var u=al(n),a=al(t)*u,c=hl(t)*u,f=hl(n),s=f*i-c*o;return[ul(c*i+f*o,a*e+s*r),bl(s*e-a*r)]},u}function Wh(t){function n(n){return n=t(n[0]*rl,n[1]*rl),n[0]*=el,n[1]*=el,n}return t=Xh(t[0]*rl,t[1]*rl,t.length>2?t[2]*rl:0),n.invert=function(n){return n=t.invert(n[0]*rl,n[1]*rl),n[0]*=el,n[1]*=el,n},n}function Qh(t,n,e,r,i,o){if(e){var u=al(n),a=hl(n),c=r*e;null==i?(i=n+r*nl,o=n-c/2):(i=Kh(u,i),o=Kh(u,o),(r>0?i<o:i>o)&&(i+=r*nl));for(var f,s=i;r>0?s>o:s<o;s-=c)f=Bl([u,-a*al(s),-a*hl(s)]),t.point(f[0],f[1])}}function Kh(t,n){n=Ol(n),n[0]-=t,Gl(n);var e=vl(-n[1]);return((-n[2]<0?-e:e)+nl-Ws)%nl}function Jh(){var t,n,e=Yh([0,0]),r=Yh(90),i=Yh(6),o={point:u};function u(e,r){t.push(e=n(e,r)),e[0]*=el,e[1]*=el}function a(){var u=e.apply(this,arguments),a=r.apply(this,arguments)*rl,c=i.apply(this,arguments)*rl;return t=[],n=Xh(-u[0]*rl,-u[1]*rl,0).invert,Qh(o,a,c,1),u={type:"Polygon",coordinates:[t]},t=n=null,u}return a.center=function(t){return arguments.length?(e="function"===typeof t?t:Yh([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"===typeof t?t:Yh(+t),a):r},a.precision=function(t){return arguments.length?(i="function"===typeof t?t:Yh(+t),a):i},a}function td(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:ml,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function nd(t,n){return il(t[0]-n[0])<Ws&&il(t[1]-n[1])<Ws}function ed(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function rd(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(nd(r,u)){if(!r[2]&&!u[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}u[0]+=2*Ws}a.push(e=new ed(r,t,null,!0)),c.push(e.o=new ed(r,null,e,!1)),a.push(e=new ed(u,t,null,!1)),c.push(e.o=new ed(u,null,e,!0))}})),a.length){for(c.sort(n),id(a),id(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;var f,s,l=a[0];while(1){var h=l,d=!0;while(h.v)if((h=h.n)===l)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,u=f.length;o<u;++o)i.point((s=f[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(f=h.p.z,o=f.length-1;o>=0;--o)i.point((s=f[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,f=h.z,d=!d}while(!h.v);i.lineEnd()}}}function id(t){if(n=t.length){var n,e,r=0,i=t[0];while(++r<n)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}Gh.invert=Gh;var od=Xs();function ud(t){return il(t[0])<=Ks?t[0]:dl(t[0])*((il(t[0])+Ks)%nl-Ks)}function ad(t,n){var e=ud(n),r=n[1],i=hl(r),o=[hl(e),-al(e),0],u=0,a=0;od.reset(),1===i?r=Js+Ws:-1===i&&(r=-Js-Ws);for(var c=0,f=t.length;c<f;++c)if(l=(s=t[c]).length)for(var s,l,h=s[l-1],d=ud(h),p=h[1]/2+tl,g=hl(p),v=al(p),b=0;b<l;++b,d=m,g=x,v=w,h=y){var y=s[b],m=ud(y),_=y[1]/2+tl,x=hl(_),w=al(_),M=m-d,k=M>=0?1:-1,S=k*M,T=S>Ks,N=g*x;if(od.add(ul(N*k*hl(S),v*w+N*al(S))),u+=T?M+k*nl:M,T^d>=e^m>=e){var A=Fl(Ol(h),Ol(y));Gl(A);var C=Fl(o,A);Gl(C);var E=(T^M>=0?-1:1)*bl(C[2]);(r>E||r===E&&(A[0]||A[1]))&&(a+=T^M>=0?1:-1)}}return(u<-Ws||u<Ws&&od<-Ws)^1&a}function cd(t,n,e,r){return function(i){var o,u,a,c=n(i),f=td(),s=n(f),l=!1,h={point:d,lineStart:g,lineEnd:v,polygonStart:function(){h.point=b,h.lineStart=y,h.lineEnd=m,u=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=v,u=B(u);var t=ad(o,r);u.length?(l||(i.polygonStart(),l=!0),rd(u,sd,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){c.point(t,n)}function g(){h.point=p,c.lineStart()}function v(){h.point=d,c.lineEnd()}function b(t,n){a.push([t,n]),s.point(t,n)}function y(){s.lineStart(),a=[]}function m(){b(a[0][0],a[0][1]),s.lineEnd();var t,n,e,r,c=s.clean(),h=f.result(),d=h.length;if(a.pop(),o.push(a),a=null,d)if(1&c){if(e=h[0],(n=e.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&h.push(h.pop().concat(h.shift())),u.push(h.filter(fd))}return h}}function fd(t){return t.length>1}function sd(t,n){return((t=t.x)[0]<0?t[1]-Js-Ws:Js-t[1])-((n=n.x)[0]<0?n[1]-Js-Ws:Js-n[1])}var ld=cd((function(){return!0}),hd,pd,[-Ks,-Js]);function hd(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?Ks:-Ks,c=il(o-e);il(c-Ks)<Ws?(t.point(e,r=(r+u)/2>0?Js:-Js),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=Ks&&(il(e-i)<Ws&&(e-=i*Ws),il(o-a)<Ws&&(o-=a*Ws),r=dd(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}function dd(t,n,e,r){var i,o,u=hl(t-e);return il(u)>Ws?ol((hl(n)*(o=al(r))*hl(e)-hl(r)*(i=al(n))*hl(t))/(i*o*u)):(n+r)/2}function pd(t,n,e,r){var i;if(null==t)i=e*Js,r.point(-Ks,i),r.point(0,i),r.point(Ks,i),r.point(Ks,0),r.point(Ks,-i),r.point(0,-i),r.point(-Ks,-i),r.point(-Ks,0),r.point(-Ks,i);else if(il(t[0]-n[0])>Ws){var o=t[0]<n[0]?Ks:-Ks;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function gd(t){var n=al(t),e=6*rl,r=n>0,i=il(n)>Ws;function o(n,r,i,o){Qh(o,t,e,i,n,r)}function u(t,e){return al(t)*al(e)>n}function a(t){var n,e,o,a,s;return{lineStart:function(){a=o=!1,s=1},point:function(l,h){var d,p=[l,h],g=u(l,h),v=r?g?0:f(l,h):g?f(l+(l<0?Ks:-Ks),h):0;if(!n&&(a=o=g)&&t.lineStart(),g!==o&&(d=c(n,p),(!d||nd(n,d)||nd(p,d))&&(p[2]=1)),g!==o)s=0,g?(t.lineStart(),d=c(p,n),t.point(d[0],d[1])):(d=c(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^g){var b;v&e||!(b=c(p,n,!0))||(s=0,r?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!g||n&&nd(n,p)||t.point(p[0],p[1]),n=p,o=g,e=v},lineEnd:function(){o&&t.lineEnd(),n=null},clean:function(){return s|(a&&o)<<1}}}function c(t,e,r){var i=Ol(t),o=Ol(e),u=[1,0,0],a=Fl(i,o),c=jl(a,a),f=a[0],s=c-f*f;if(!s)return!r&&t;var l=n*c/s,h=-n*f/s,d=Fl(u,a),p=Hl(u,l),g=Hl(a,h);Yl(p,g);var v=d,b=jl(p,v),y=jl(v,v),m=b*b-y*(jl(p,p)-1);if(!(m<0)){var _=pl(m),x=Hl(v,(-b-_)/y);if(Yl(x,p),x=Bl(x),!r)return x;var w,M=t[0],k=e[0],S=t[1],T=e[1];k<M&&(w=M,M=k,k=w);var N=k-M,A=il(N-Ks)<Ws,C=A||N<Ws;if(!A&&T<S&&(w=S,S=T,T=w),C?A?S+T>0^x[1]<(il(x[0]-M)<Ws?S:T):S<=x[1]&&x[1]<=T:N>Ks^(M<=x[0]&&x[0]<=k)){var E=Hl(v,(-b+_)/y);return Yl(E,p),[x,Bl(E)]}}}function f(n,e){var i=r?t:Ks-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return cd(u,a,o,r?[0,-t]:[-Ks,t-Ks])}function vd(t,n,e,r,i,o){var u,a=t[0],c=t[1],f=n[0],s=n[1],l=0,h=1,d=f-a,p=s-c;if(u=e-a,d||!(u>0)){if(u/=d,d<0){if(u<l)return;u<h&&(h=u)}else if(d>0){if(u>h)return;u>l&&(l=u)}if(u=i-a,d||!(u<0)){if(u/=d,d<0){if(u>h)return;u>l&&(l=u)}else if(d>0){if(u<l)return;u<h&&(h=u)}if(u=r-c,p||!(u>0)){if(u/=p,p<0){if(u<l)return;u<h&&(h=u)}else if(p>0){if(u>h)return;u>l&&(l=u)}if(u=o-c,p||!(u<0)){if(u/=p,p<0){if(u>h)return;u>l&&(l=u)}else if(p>0){if(u<l)return;u<h&&(h=u)}return l>0&&(t[0]=a+l*d,t[1]=c+l*p),h<1&&(n[0]=a+h*d,n[1]=c+h*p),!0}}}}}var bd=1e9,yd=-bd;function md(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,f){var s=0,l=0;if(null==i||(s=u(i,a))!==(l=u(o,a))||c(i,o)<0^a>0)do{f.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+a+4)%4)!==l);else f.point(o[0],o[1])}function u(r,i){return il(r[0]-t)<Ws?i>0?0:3:il(r[0]-e)<Ws?i>0?2:1:il(r[1]-n)<Ws?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){var c,f,s,l,h,d,p,g,v,b,y,m=u,_=td(),x={point:w,lineStart:T,lineEnd:N,polygonStart:k,polygonEnd:S};function w(t,n){i(t,n)&&m.point(t,n)}function M(){for(var n=0,e=0,i=f.length;e<i;++e)for(var o,u,a=f[e],c=1,s=a.length,l=a[0],h=l[0],d=l[1];c<s;++c)o=h,u=d,l=a[c],h=l[0],d=l[1],u<=r?d>r&&(h-o)*(r-u)>(d-u)*(t-o)&&++n:d<=r&&(h-o)*(r-u)<(d-u)*(t-o)&&--n;return n}function k(){m=_,c=[],f=[],y=!0}function S(){var t=M(),n=y&&t,e=(c=B(c)).length;(n||e)&&(u.polygonStart(),n&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),e&&rd(c,a,t,o,u),u.polygonEnd()),m=u,c=f=s=null}function T(){x.point=A,f&&f.push(s=[]),b=!0,v=!1,p=g=NaN}function N(){c&&(A(l,h),d&&v&&_.rejoin(),c.push(_.result())),x.point=w,v&&m.lineEnd()}function A(o,u){var a=i(o,u);if(f&&s.push([o,u]),b)l=o,h=u,d=a,b=!1,a&&(m.lineStart(),m.point(o,u));else if(a&&v)m.point(o,u);else{var c=[p=Math.max(yd,Math.min(bd,p)),g=Math.max(yd,Math.min(bd,g))],_=[o=Math.max(yd,Math.min(bd,o)),u=Math.max(yd,Math.min(bd,u))];vd(c,_,t,n,e,r)?(v||(m.lineStart(),m.point(c[0],c[1])),m.point(_[0],_[1]),a||m.lineEnd(),y=!1):a&&(m.lineStart(),m.point(o,u),y=!1)}p=o,g=u,v=a}return x}}function _d(){var t,n,e,r=0,i=0,o=960,u=500;return e={stream:function(e){return t&&n===e?t:t=md(r,i,o,u)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],u=+a[1][1],t=n=null,e):[[r,i],[o,u]]}}}var xd,wd,Md,kd=Xs(),Sd={sphere:ml,point:ml,lineStart:Td,lineEnd:ml,polygonStart:ml,polygonEnd:ml};function Td(){Sd.point=Ad,Sd.lineEnd=Nd}function Nd(){Sd.point=Sd.lineEnd=ml}function Ad(t,n){t*=rl,n*=rl,xd=t,wd=hl(n),Md=al(n),Sd.point=Cd}function Cd(t,n){t*=rl,n*=rl;var e=hl(n),r=al(n),i=il(t-xd),o=al(i),u=hl(i),a=r*u,c=Md*e-wd*r*o,f=wd*e+Md*r*o;kd.add(ul(pl(a*a+c*c),f)),xd=t,wd=e,Md=r}function Ed(t){return kd.reset(),Sl(t,Sd),+kd}var Pd=[null,null],Rd={type:"LineString",coordinates:Pd};function zd(t,n){return Pd[0]=t,Pd[1]=n,Ed(Rd)}var qd={Feature:function(t,n){return Id(t.geometry,n)},FeatureCollection:function(t,n){var e=t.features,r=-1,i=e.length;while(++r<i)if(Id(e[r].geometry,n))return!0;return!1}},Dd={Sphere:function(){return!0},Point:function(t,n){return Ud(t.coordinates,n)},MultiPoint:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)if(Ud(e[r],n))return!0;return!1},LineString:function(t,n){return Ld(t.coordinates,n)},MultiLineString:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)if(Ld(e[r],n))return!0;return!1},Polygon:function(t,n){return Bd(t.coordinates,n)},MultiPolygon:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)if(Bd(e[r],n))return!0;return!1},GeometryCollection:function(t,n){var e=t.geometries,r=-1,i=e.length;while(++r<i)if(Id(e[r],n))return!0;return!1}};function Id(t,n){return!(!t||!Dd.hasOwnProperty(t.type))&&Dd[t.type](t,n)}function Ud(t,n){return 0===zd(t,n)}function Ld(t,n){for(var e,r,i,o=0,u=t.length;o<u;o++){if(r=zd(t[o],n),0===r)return!0;if(o>0&&(i=zd(t[o],t[o-1]),i>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<Qs*i))return!0;e=r}return!1}function Bd(t,n){return!!ad(t.map(Od),jd(n))}function Od(t){return t=t.map(jd),t.pop(),t}function jd(t){return[t[0]*rl,t[1]*rl]}function Fd(t,n){return(t&&qd.hasOwnProperty(t.type)?qd[t.type]:Id)(t,n)}function Yd(t,n,e){var r=k(t,n-Ws,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function Hd(t,n,e){var r=k(t,n-Ws,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function Gd(){var t,n,e,r,i,o,u,a,c,f,s,l,h=10,d=h,p=90,g=360,v=2.5;function b(){return{type:"MultiLineString",coordinates:y()}}function y(){return k(cl(r/p)*p,e,p).map(s).concat(k(cl(a/g)*g,u,g).map(l)).concat(k(cl(n/h)*h,t,h).filter((function(t){return il(t%p)>Ws})).map(c)).concat(k(cl(o/d)*d,i,d).filter((function(t){return il(t%g)>Ws})).map(f))}return b.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},b.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(l(u).slice(1),s(e).reverse().slice(1),l(a).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.extentMajor(t).extentMinor(t):b.extentMinor()},b.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],u=+t[1][1],r>e&&(t=r,r=e,e=t),a>u&&(t=a,a=u,u=t),b.precision(v)):[[r,a],[e,u]]},b.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),b.precision(v)):[[n,o],[t,i]]},b.step=function(t){return arguments.length?b.stepMajor(t).stepMinor(t):b.stepMinor()},b.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],b):[p,g]},b.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],b):[h,d]},b.precision=function(h){return arguments.length?(v=+h,c=Yd(o,i,90),f=Hd(n,t,v),s=Yd(a,u,90),l=Hd(r,e,v),b):v},b.extentMajor([[-180,-90+Ws],[180,90-Ws]]).extentMinor([[-180,-80-Ws],[180,80+Ws]])}function Xd(){return Gd()()}function Vd(t,n){var e=t[0]*rl,r=t[1]*rl,i=n[0]*rl,o=n[1]*rl,u=al(r),a=hl(r),c=al(o),f=hl(o),s=u*al(e),l=u*hl(e),h=c*al(i),d=c*hl(i),p=2*bl(pl(yl(o-r)+u*c*yl(i-e))),g=hl(p),v=p?function(t){var n=hl(t*=p)/g,e=hl(p-t)/g,r=e*s+n*h,i=e*l+n*d,o=e*a+n*f;return[ul(i,r)*el,ul(o,pl(r*r+i*i))*el]}:function(){return[e*el,r*el]};return v.distance=p,v}function $d(t){return t}var Zd,Wd,Qd,Kd,Jd=Xs(),tp=Xs(),np={point:ml,lineStart:ml,lineEnd:ml,polygonStart:function(){np.lineStart=ep,np.lineEnd=op},polygonEnd:function(){np.lineStart=np.lineEnd=np.point=ml,Jd.add(il(tp)),tp.reset()},result:function(){var t=Jd/2;return Jd.reset(),t}};function ep(){np.point=rp}function rp(t,n){np.point=ip,Zd=Qd=t,Wd=Kd=n}function ip(t,n){tp.add(Kd*t-Qd*n),Qd=t,Kd=n}function op(){ip(Zd,Wd)}var up=np,ap=1/0,cp=ap,fp=-ap,sp=fp,lp={point:hp,lineStart:ml,lineEnd:ml,polygonStart:ml,polygonEnd:ml,result:function(){var t=[[ap,cp],[fp,sp]];return fp=sp=-(cp=ap=1/0),t}};function hp(t,n){t<ap&&(ap=t),t>fp&&(fp=t),n<cp&&(cp=n),n>sp&&(sp=n)}var dp,pp,gp,vp,bp=lp,yp=0,mp=0,_p=0,xp=0,wp=0,Mp=0,kp=0,Sp=0,Tp=0,Np={point:Ap,lineStart:Cp,lineEnd:Rp,polygonStart:function(){Np.lineStart=zp,Np.lineEnd=qp},polygonEnd:function(){Np.point=Ap,Np.lineStart=Cp,Np.lineEnd=Rp},result:function(){var t=Tp?[kp/Tp,Sp/Tp]:Mp?[xp/Mp,wp/Mp]:_p?[yp/_p,mp/_p]:[NaN,NaN];return yp=mp=_p=xp=wp=Mp=kp=Sp=Tp=0,t}};function Ap(t,n){yp+=t,mp+=n,++_p}function Cp(){Np.point=Ep}function Ep(t,n){Np.point=Pp,Ap(gp=t,vp=n)}function Pp(t,n){var e=t-gp,r=n-vp,i=pl(e*e+r*r);xp+=i*(gp+t)/2,wp+=i*(vp+n)/2,Mp+=i,Ap(gp=t,vp=n)}function Rp(){Np.point=Ap}function zp(){Np.point=Dp}function qp(){Ip(dp,pp)}function Dp(t,n){Np.point=Ip,Ap(dp=gp=t,pp=vp=n)}function Ip(t,n){var e=t-gp,r=n-vp,i=pl(e*e+r*r);xp+=i*(gp+t)/2,wp+=i*(vp+n)/2,Mp+=i,i=vp*t-gp*n,kp+=i*(gp+t),Sp+=i*(vp+n),Tp+=3*i,Ap(gp=t,vp=n)}var Up=Np;function Lp(t){this._context=t}Lp.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,nl);break}},result:ml};var Bp,Op,jp,Fp,Yp,Hp=Xs(),Gp={point:ml,lineStart:function(){Gp.point=Xp},lineEnd:function(){Bp&&Vp(Op,jp),Gp.point=ml},polygonStart:function(){Bp=!0},polygonEnd:function(){Bp=null},result:function(){var t=+Hp;return Hp.reset(),t}};function Xp(t,n){Gp.point=Vp,Op=Fp=t,jp=Yp=n}function Vp(t,n){Fp-=t,Yp-=n,Hp.add(pl(Fp*Fp+Yp*Yp)),Fp=t,Yp=n}var $p=Gp;function Zp(){this._string=[]}function Wp(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Qp(t,n){var e,r,i=4.5;function o(t){return t&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),Sl(t,e(r))),r.result()}return o.area=function(t){return Sl(t,e(up)),up.result()},o.measure=function(t){return Sl(t,e($p)),$p.result()},o.bounds=function(t){return Sl(t,e(bp)),bp.result()},o.centroid=function(t){return Sl(t,e(Up)),Up.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,$d):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new Zp):new Lp(n=t),"function"!==typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"===typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)}function Kp(t){return{stream:Jp(t)}}function Jp(t){return function(n){var e=new tg;for(var r in t)e[r]=t[r];return e.stream=n,e}}function tg(){}function ng(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Sl(e,t.stream(bp)),n(bp.result()),null!=r&&t.clipExtent(r),t}function eg(t,n,e){return ng(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])}),e)}function rg(t,n,e){return eg(t,[[0,0],n],e)}function ig(t,n,e){return ng(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])}),e)}function og(t,n,e){return ng(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])}),e)}Zp.prototype={_radius:4.5,_circle:Wp(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=Wp(this._radius)),this._string.push("M",t,",",n,this._circle);break}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},tg.prototype={constructor:tg,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ug=16,ag=al(30*rl);function cg(t,n){return+n?sg(t,n):fg(t)}function fg(t){return Jp({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function sg(t,n){function e(r,i,o,u,a,c,f,s,l,h,d,p,g,v){var b=f-r,y=s-i,m=b*b+y*y;if(m>4*n&&g--){var _=u+h,x=a+d,w=c+p,M=pl(_*_+x*x+w*w),k=bl(w/=M),S=il(il(w)-1)<Ws||il(o-l)<Ws?(o+l)/2:ul(x,_),T=t(S,k),N=T[0],A=T[1],C=N-r,E=A-i,P=y*C-b*E;(P*P/m>n||il((b*C+y*E)/m-.5)>.3||u*h+a*d+c*p<ag)&&(e(r,i,o,u,a,c,N,A,S,_/=M,x/=M,w,g,v),v.point(N,A),e(N,A,S,_,x,w,f,s,l,h,d,p,g,v))}}return function(n){var r,i,o,u,a,c,f,s,l,h,d,p,g={point:v,lineStart:b,lineEnd:m,polygonStart:function(){n.polygonStart(),g.lineStart=_},polygonEnd:function(){n.polygonEnd(),g.lineStart=b}};function v(e,r){e=t(e,r),n.point(e[0],e[1])}function b(){s=NaN,g.point=y,n.lineStart()}function y(r,i){var o=Ol([r,i]),u=t(r,i);e(s,l,f,h,d,p,s=u[0],l=u[1],f=r,h=o[0],d=o[1],p=o[2],ug,n),n.point(s,l)}function m(){g.point=v,n.lineEnd()}function _(){b(),g.point=x,g.lineEnd=w}function x(t,n){y(r=t,n),i=s,o=l,u=h,a=d,c=p,g.point=y}function w(){e(s,l,f,h,d,p,i,o,r,u,a,c,ug,n),g.lineEnd=m,m()}return g}}var lg=Jp({point:function(t,n){this.stream.point(t*rl,n*rl)}});function hg(t){return Jp({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function dg(t,n,e,r,i){function o(o,u){return o*=r,u*=i,[n+t*o,e-t*u]}return o.invert=function(o,u){return[(o-n)/t*r,(e-u)/t*i]},o}function pg(t,n,e,r,i,o){var u=al(o),a=hl(o),c=u*t,f=a*t,s=u/t,l=a/t,h=(a*e-u*n)/t,d=(a*n+u*e)/t;function p(t,o){return t*=r,o*=i,[c*t-f*o+n,e-f*t-c*o]}return p.invert=function(t,n){return[r*(s*t-l*n+h),i*(d-l*t-s*n)]},p}function gg(t){return vg((function(){return t}))()}function vg(t){var n,e,r,i,o,u,a,c,f,s,l=150,h=480,d=250,p=0,g=0,v=0,b=0,y=0,m=0,_=1,x=1,w=null,M=ld,k=null,S=$d,T=.5;function N(t){return c(t[0]*rl,t[1]*rl)}function A(t){return t=c.invert(t[0],t[1]),t&&[t[0]*el,t[1]*el]}function C(){var t=pg(l,0,0,_,x,m).apply(null,n(p,g)),r=(m?pg:dg)(l,h-t[0],d-t[1],_,x,m);return e=Xh(v,b,y),a=Hh(n,r),c=Hh(e,a),u=cg(a,T),E()}function E(){return f=s=null,N}return N.stream=function(t){return f&&s===t?f:f=lg(hg(e)(M(u(S(s=t)))))},N.preclip=function(t){return arguments.length?(M=t,w=void 0,E()):M},N.postclip=function(t){return arguments.length?(S=t,k=r=i=o=null,E()):S},N.clipAngle=function(t){return arguments.length?(M=+t?gd(w=t*rl):(w=null,ld),E()):w*el},N.clipExtent=function(t){return arguments.length?(S=null==t?(k=r=i=o=null,$d):md(k=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),E()):null==k?null:[[k,r],[i,o]]},N.scale=function(t){return arguments.length?(l=+t,C()):l},N.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],C()):[h,d]},N.center=function(t){return arguments.length?(p=t[0]%360*rl,g=t[1]%360*rl,C()):[p*el,g*el]},N.rotate=function(t){return arguments.length?(v=t[0]%360*rl,b=t[1]%360*rl,y=t.length>2?t[2]%360*rl:0,C()):[v*el,b*el,y*el]},N.angle=function(t){return arguments.length?(m=t%360*rl,C()):m*el},N.reflectX=function(t){return arguments.length?(_=t?-1:1,C()):_<0},N.reflectY=function(t){return arguments.length?(x=t?-1:1,C()):x<0},N.precision=function(t){return arguments.length?(u=cg(a,T=t*t),E()):pl(T)},N.fitExtent=function(t,n){return eg(N,t,n)},N.fitSize=function(t,n){return rg(N,t,n)},N.fitWidth=function(t,n){return ig(N,t,n)},N.fitHeight=function(t,n){return og(N,t,n)},function(){return n=t.apply(this,arguments),N.invert=n.invert&&A,C()}}function bg(t){var n=0,e=Ks/3,r=vg(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*rl,e=t[1]*rl):[n*el,e*el]},i}function yg(t){var n=al(t);function e(t,e){return[t*n,hl(e)/n]}return e.invert=function(t,e){return[t/n,bl(e*n)]},e}function mg(t,n){var e=hl(t),r=(e+hl(n))/2;if(il(r)<Ws)return yg(t);var i=1+e*(2*r-e),o=pl(i)/r;function u(t,n){var e=pl(i-2*r*hl(n))/r;return[e*hl(t*=r),o-e*al(t)]}return u.invert=function(t,n){var e=o-n,u=ul(t,il(e))*dl(e);return e*r<0&&(u-=Ks*dl(t)*dl(e)),[u/r,bl((i-(t*t+e*e)*r*r)/(2*r))]},u}function _g(){return bg(mg).scale(155.424).center([0,33.6442])}function xg(){return _g().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function wg(t){var n=t.length;return{point:function(e,r){var i=-1;while(++i<n)t[i].point(e,r)},sphere:function(){var e=-1;while(++e<n)t[e].sphere()},lineStart:function(){var e=-1;while(++e<n)t[e].lineStart()},lineEnd:function(){var e=-1;while(++e<n)t[e].lineEnd()},polygonStart:function(){var e=-1;while(++e<n)t[e].polygonStart()},polygonEnd:function(){var e=-1;while(++e<n)t[e].polygonEnd()}}}function Mg(){var t,n,e,r,i,o,u=xg(),a=_g().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=_g().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,n){o=[t,n]}};function s(t){var n=t[0],u=t[1];return o=null,e.point(n,u),o||(r.point(n,u),o)||(i.point(n,u),o)}function l(){return t=n=null,s}return s.invert=function(t){var n=u.scale(),e=u.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:u).invert(t)},s.stream=function(e){return t&&n===e?t:t=wg([u.stream(n=e),a.stream(e),c.stream(e)])},s.precision=function(t){return arguments.length?(u.precision(t),a.precision(t),c.precision(t),l()):u.precision()},s.scale=function(t){return arguments.length?(u.scale(t),a.scale(.35*t),c.scale(t),s.translate(u.translate())):u.scale()},s.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),o=+t[0],s=+t[1];return e=u.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(f),r=a.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+Ws,s+.12*n+Ws],[o-.214*n-Ws,s+.234*n-Ws]]).stream(f),i=c.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+Ws,s+.166*n+Ws],[o-.115*n-Ws,s+.234*n-Ws]]).stream(f),l()},s.fitExtent=function(t,n){return eg(s,t,n)},s.fitSize=function(t,n){return rg(s,t,n)},s.fitWidth=function(t,n){return ig(s,t,n)},s.fitHeight=function(t,n){return og(s,t,n)},s.scale(1070)}function kg(t){return function(n,e){var r=al(n),i=al(e),o=t(r*i);return[o*i*hl(n),o*hl(e)]}}function Sg(t){return function(n,e){var r=pl(n*n+e*e),i=t(r),o=hl(i),u=al(i);return[ul(n*o,r*u),bl(r&&e*o/r)]}}var Tg=kg((function(t){return pl(2/(1+t))}));function Ng(){return gg(Tg).scale(124.75).clipAngle(179.999)}Tg.invert=Sg((function(t){return 2*bl(t/2)}));var Ag=kg((function(t){return(t=vl(t))&&t/hl(t)}));function Cg(){return gg(Ag).scale(79.4188).clipAngle(179.999)}function Eg(t,n){return[t,sl(gl((Js+n)/2))]}function Pg(){return Rg(Eg).scale(961/nl)}function Rg(t){var n,e,r,i=gg(t),o=i.center,u=i.scale,a=i.translate,c=i.clipExtent,f=null;function s(){var o=Ks*u(),a=i(Wh(i.rotate()).invert([0,0]));return c(null==f?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===Eg?[[Math.max(a[0]-o,f),n],[Math.min(a[0]+o,e),r]]:[[f,Math.max(a[1]-o,n)],[e,Math.min(a[1]+o,r)]])}return i.scale=function(t){return arguments.length?(u(t),s()):u()},i.translate=function(t){return arguments.length?(a(t),s()):a()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?f=n=e=r=null:(f=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==f?null:[[f,n],[e,r]]},s()}function zg(t){return gl((Js+t)/2)}function qg(t,n){var e=al(t),r=t===n?hl(t):sl(e/al(n))/sl(zg(n)/zg(t)),i=e*ll(zg(t),r)/r;if(!r)return Eg;function o(t,n){i>0?n<-Js+Ws&&(n=-Js+Ws):n>Js-Ws&&(n=Js-Ws);var e=i/ll(zg(n),r);return[e*hl(r*t),i-e*al(r*t)]}return o.invert=function(t,n){var e=i-n,o=dl(r)*pl(t*t+e*e),u=ul(t,il(e))*dl(e);return e*r<0&&(u-=Ks*dl(t)*dl(e)),[u/r,2*ol(ll(i/o,1/r))-Js]},o}function Dg(){return bg(qg).scale(109.5).parallels([30,30])}function Ig(t,n){return[t,n]}function Ug(){return gg(Ig).scale(152.63)}function Lg(t,n){var e=al(t),r=t===n?hl(t):(e-al(n))/(n-t),i=e/r+t;if(il(r)<Ws)return Ig;function o(t,n){var e=i-n,o=r*t;return[e*hl(o),i-e*al(o)]}return o.invert=function(t,n){var e=i-n,o=ul(t,il(e))*dl(e);return e*r<0&&(o-=Ks*dl(t)*dl(e)),[o/r,i-dl(r)*pl(t*t+e*e)]},o}function Bg(){return bg(Lg).scale(131.154).center([0,13.9389])}Ag.invert=Sg((function(t){return t})),Eg.invert=function(t,n){return[t,2*ol(fl(n))-Js]},Ig.invert=Ig;var Og=1.340264,jg=-.081106,Fg=893e-6,Yg=.003796,Hg=pl(3)/2,Gg=12;function Xg(t,n){var e=bl(Hg*hl(n)),r=e*e,i=r*r*r;return[t*al(e)/(Hg*(Og+3*jg*r+i*(7*Fg+9*Yg*r))),e*(Og+jg*r+i*(Fg+Yg*r))]}function Vg(){return gg(Xg).scale(177.158)}function $g(t,n){var e=al(n),r=al(t)*e;return[e*hl(t)/r,hl(n)/r]}function Zg(){return gg($g).scale(144.049).clipAngle(60)}function Wg(){var t,n,e,r,i,o,u,a=1,c=0,f=0,s=1,l=1,h=0,d=null,p=1,g=1,v=Jp({point:function(t,n){var e=m([t,n]);this.stream.point(e[0],e[1])}}),b=$d;function y(){return p=a*s,g=a*l,o=u=null,m}function m(e){var r=e[0]*p,i=e[1]*g;if(h){var o=i*t-r*n;r=r*t+i*n,i=o}return[r+c,i+f]}return m.invert=function(e){var r=e[0]-c,i=e[1]-f;if(h){var o=i*t+r*n;r=r*t-i*n,i=o}return[r/p,i/g]},m.stream=function(t){return o&&u===t?o:o=v(b(u=t))},m.postclip=function(t){return arguments.length?(b=t,d=e=r=i=null,y()):b},m.clipExtent=function(t){return arguments.length?(b=null==t?(d=e=r=i=null,$d):md(d=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),y()):null==d?null:[[d,e],[r,i]]},m.scale=function(t){return arguments.length?(a=+t,y()):a},m.translate=function(t){return arguments.length?(c=+t[0],f=+t[1],y()):[c,f]},m.angle=function(e){return arguments.length?(h=e%360*rl,n=hl(h),t=al(h),y()):h*el},m.reflectX=function(t){return arguments.length?(s=t?-1:1,y()):s<0},m.reflectY=function(t){return arguments.length?(l=t?-1:1,y()):l<0},m.fitExtent=function(t,n){return eg(m,t,n)},m.fitSize=function(t,n){return rg(m,t,n)},m.fitWidth=function(t,n){return ig(m,t,n)},m.fitHeight=function(t,n){return og(m,t,n)},m}function Qg(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function Kg(){return gg(Qg).scale(175.295)}function Jg(t,n){return[al(n)*hl(t),hl(n)]}function tv(){return gg(Jg).scale(249.5).clipAngle(90+Ws)}function nv(t,n){var e=al(n),r=1+al(t)*e;return[e*hl(t)/r,hl(n)/r]}function ev(){return gg(nv).scale(250).clipAngle(142)}function rv(t,n){return[sl(gl((Js+n)/2)),-t]}function iv(){var t=Rg(rv),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}function ov(t,n){return t.parent===n.parent?1:2}function uv(t){return t.reduce(av,0)/t.length}function av(t,n){return t+n.x}function cv(t){return 1+t.reduce(fv,0)}function fv(t,n){return Math.max(t,n.y)}function sv(t){var n;while(n=t.children)t=n[0];return t}function lv(t){var n;while(n=t.children)t=n[n.length-1];return t}function hv(){var t=ov,n=1,e=1,r=!1;function i(i){var o,u=0;i.eachAfter((function(n){var e=n.children;e?(n.x=uv(e),n.y=cv(e)):(n.x=o?u+=t(n,o):0,n.y=0,o=n)}));var a=sv(i),c=lv(i),f=a.x-t(a,c)/2,s=c.x+t(c,a)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-f)/(s-f)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}function dv(t){var n=0,e=t.children,r=e&&e.length;if(r)while(--r>=0)n+=e[r].value;else n=1;t.value=n}function pv(){return this.eachAfter(dv)}function gv(t){var n,e,r,i,o=this,u=[o];do{n=u.reverse(),u=[];while(o=n.pop())if(t(o),e=o.children,e)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this}function vv(t){var n,e,r=this,i=[r];while(r=i.pop())if(t(r),n=r.children,n)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this}function bv(t){var n,e,r,i=this,o=[i],u=[];while(i=o.pop())if(u.push(i),n=i.children,n)for(e=0,r=n.length;e<r;++e)o.push(n[e]);while(i=u.pop())t(i);return this}function yv(t){return this.eachAfter((function(n){var e=+t(n.data)||0,r=n.children,i=r&&r.length;while(--i>=0)e+=r[i].value;n.value=e}))}function mv(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))}function _v(t){var n=this,e=xv(n,t),r=[n];while(n!==e)n=n.parent,r.push(n);var i=r.length;while(t!==e)r.splice(i,0,t),t=t.parent;return r}function xv(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();while(t===n)i=t,t=e.pop(),n=r.pop();return i}function wv(){var t=this,n=[t];while(t=t.parent)n.push(t);return n}function Mv(){var t=[];return this.each((function(n){t.push(n)})),t}function kv(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t}function Sv(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n}function Tv(t,n){var e,r,i,o,u,a=new Pv(t),c=+t.value&&(a.value=t.value),f=[a];null==n&&(n=Av);while(e=f.pop())if(c&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),o=u-1;o>=0;--o)f.push(r=e.children[o]=new Pv(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(Ev)}function Nv(){return Tv(this).eachBefore(Cv)}function Av(t){return t.children}function Cv(t){t.data=t.data.data}function Ev(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Pv(t){this.data=t,this.depth=this.height=0,this.parent=null}Xg.invert=function(t,n){for(var e,r,i,o=n,u=o*o,a=u*u*u,c=0;c<Gg;++c)if(r=o*(Og+jg*u+a*(Fg+Yg*u))-n,i=Og+3*jg*u+a*(7*Fg+9*Yg*u),o-=e=r/i,u=o*o,a=u*u*u,il(e)<Qs)break;return[Hg*t*(Og+3*jg*u+a*(7*Fg+9*Yg*u))/al(o),bl(hl(o)/Hg)]},$g.invert=Sg(ol),Qg.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,u=o*o;r-=e=(r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-n)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(il(e)>Ws&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Jg.invert=Sg(bl),nv.invert=Sg((function(t){return 2*ol(t)})),rv.invert=function(t,n){return[-n,2*ol(fl(t))-Js]},Pv.prototype=Tv.prototype={constructor:Pv,count:pv,each:gv,eachAfter:bv,eachBefore:vv,sum:yv,sort:mv,path:_v,ancestors:wv,descendants:Mv,leaves:kv,links:Sv,copy:Nv};var Rv=Array.prototype.slice;function zv(t){var n,e,r=t.length;while(r)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}function qv(t){var n,e,r=0,i=(t=zv(Rv.call(t))).length,o=[];while(r<i)n=t[r],e&&Uv(e,n)?++r:(e=Bv(o=Dv(o,n)),r=0);return e}function Dv(t,n){var e,r;if(Lv(n,t))return[n];for(e=0;e<t.length;++e)if(Iv(n,t[e])&&Lv(jv(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Iv(jv(t[e],t[r]),n)&&Iv(jv(t[e],n),t[r])&&Iv(jv(t[r],n),t[e])&&Lv(Fv(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Iv(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Uv(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Lv(t,n){for(var e=0;e<n.length;++e)if(!Uv(t,n[e]))return!1;return!0}function Bv(t){switch(t.length){case 1:return Ov(t[0]);case 2:return jv(t[0],t[1]);case 3:return Fv(t[0],t[1],t[2])}}function Ov(t){return{x:t.x,y:t.y,r:t.r}}function jv(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,f=u-r,s=a-i,l=Math.sqrt(c*c+f*f);return{x:(e+o+c/l*s)/2,y:(r+u+f/l*s)/2,r:(l+i+a)/2}}function Fv(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,f=e.x,s=e.y,l=e.r,h=r-u,d=r-f,p=i-a,g=i-s,v=c-o,b=l-o,y=r*r+i*i-o*o,m=y-u*u-a*a+c*c,_=y-f*f-s*s+l*l,x=d*p-h*g,w=(p*_-g*m)/(2*x)-r,M=(g*v-p*b)/x,k=(d*m-h*_)/(2*x)-i,S=(h*b-d*v)/x,T=M*M+S*S-1,N=2*(o+w*M+k*S),A=w*w+k*k-o*o,C=-(T?(N+Math.sqrt(N*N-4*T*A))/(2*T):A/N);return{x:r+w+M*C,y:i+k+S*C,r:C}}function Yv(t,n,e){var r,i,o,u,a=t.x-n.x,c=t.y-n.y,f=a*a+c*c;f?(i=n.r+e.r,i*=i,u=t.r+e.r,u*=u,i>u?(r=(f+u-i)/(2*f),o=Math.sqrt(Math.max(0,u/f-r*r)),e.x=t.x-r*a-o*c,e.y=t.y-r*c+o*a):(r=(f+i-u)/(2*f),o=Math.sqrt(Math.max(0,i/f-r*r)),e.x=n.x+r*a-o*c,e.y=n.y+r*c+o*a)):(e.x=n.x+e.r,e.y=n.y)}function Hv(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Gv(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function Xv(t){this._=t,this.next=null,this.previous=null}function Vv(t){if(!(i=t.length))return 0;var n,e,r,i,o,u,a,c,f,s,l;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;Yv(e,n,r=t[2]),n=new Xv(n),e=new Xv(e),r=new Xv(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(a=3;a<i;++a){Yv(n._,e._,r=t[a]),r=new Xv(r),c=e.next,f=n.previous,s=e._.r,l=n._.r;do{if(s<=l){if(Hv(c._,r._)){e=c,n.next=e,e.previous=n,--a;continue t}s+=c._.r,c=c.next}else{if(Hv(f._,r._)){n=f,n.next=e,e.previous=n,--a;continue t}l+=f._.r,f=f.previous}}while(c!==f.next);r.previous=n,r.next=e,n.next=e.previous=e=r,o=Gv(n);while((r=r.next)!==e)(u=Gv(r))<o&&(n=r,o=u);e=n.next}n=[e._],r=e;while((r=r.next)!==e)n.push(r._);for(r=qv(n),a=0;a<i;++a)n=t[a],n.x-=r.x,n.y-=r.y;return r.r}function $v(t){return Vv(t),t}function Zv(t){return null==t?null:Wv(t)}function Wv(t){if("function"!==typeof t)throw new Error;return t}function Qv(){return 0}function Kv(t){return function(){return t}}function Jv(t){return Math.sqrt(t.value)}function tb(){var t=null,n=1,e=1,r=Qv;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(nb(t)).eachAfter(eb(r,.5)).eachBefore(rb(1)):i.eachBefore(nb(Jv)).eachAfter(eb(Qv,1)).eachAfter(eb(r,i.r/Math.min(n,e))).eachBefore(rb(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=Zv(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:Kv(+t),i):r},i}function nb(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function eb(t,n){return function(e){if(r=e.children){var r,i,o,u=r.length,a=t(e)*n||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(o=Vv(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=o+a}}}function rb(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function ib(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ob(t,n,e,r,i){var o,u=t.children,a=-1,c=u.length,f=t.value&&(r-n)/t.value;while(++a<c)o=u[a],o.y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*f}function ub(){var t=1,n=1,e=0,r=!1;function i(i){var u=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/u,i.eachBefore(o(n,u)),r&&i.eachBefore(ib),i}function o(t,n){return function(r){r.children&&ob(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,u=r.x1-e,a=r.y1-e;u<i&&(i=u=(i+u)/2),a<o&&(o=a=(o+a)/2),r.x0=i,r.y0=o,r.x1=u,r.y1=a}}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i}var ab="$",cb={depth:-1},fb={};function sb(t){return t.id}function lb(t){return t.parentId}function hb(){var t=sb,n=lb;function e(e){var r,i,o,u,a,c,f,s=e.length,l=new Array(s),h={};for(i=0;i<s;++i)r=e[i],a=l[i]=new Pv(r),null!=(c=t(r,i,e))&&(c+="")&&(f=ab+(a.id=c),h[f]=f in h?fb:a);for(i=0;i<s;++i)if(a=l[i],c=n(e[i],i,e),null!=c&&(c+="")){if(u=h[ab+c],!u)throw new Error("missing: "+c);if(u===fb)throw new Error("ambiguous: "+c);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=cb,o.eachBefore((function(t){t.depth=t.parent.depth+1,--s})).eachBefore(Ev),o.parent=null,s>0)throw new Error("cycle");return o}return e.id=function(n){return arguments.length?(t=Wv(n),e):t},e.parentId=function(t){return arguments.length?(n=Wv(t),e):n},e}function db(t,n){return t.parent===n.parent?1:2}function pb(t){var n=t.children;return n?n[0]:t.t}function gb(t){var n=t.children;return n?n[n.length-1]:t.t}function vb(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function bb(t){var n,e=0,r=0,i=t.children,o=i.length;while(--o>=0)n=i[o],n.z+=e,n.m+=e,e+=n.s+(r+=n.c)}function yb(t,n,e){return t.a.parent===n.parent?t.a:e}function mb(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function _b(t){var n,e,r,i,o,u=new mb(t,0),a=[u];while(n=a.pop())if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new mb(r[i],i)),e.parent=n;return(u.parent=new mb(null,0)).children=[u],u}function xb(){var t=db,n=1,e=1,r=null;function i(i){var a=_b(i);if(a.eachAfter(o),a.parent.m=-a.z,a.eachBefore(u),r)i.eachBefore(c);else{var f=i,s=i,l=i;i.eachBefore((function(t){t.x<f.x&&(f=t),t.x>s.x&&(s=t),t.depth>l.depth&&(l=t)}));var h=f===s?1:t(f,s)/2,d=h-f.x,p=n/(s.x+h+d),g=e/(l.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*g}))}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){bb(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=a(n,i,n.parent.A||r[0])}function u(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(n,e,r){if(e){var i,o=n,u=n,a=e,c=o.parent.children[0],f=o.m,s=u.m,l=a.m,h=c.m;while(a=gb(a),o=pb(o),a&&o)c=pb(c),u=gb(u),u.a=n,i=a.z+l-o.z-f+t(a._,o._),i>0&&(vb(yb(a,n,r),n,i),f+=i,s+=i),l+=a.m,f+=o.m,h+=c.m,s+=u.m;a&&!gb(u)&&(u.t=a,u.m+=l-s),o&&!pb(c)&&(c.t=o,c.m+=f-h,r=n)}return r}function c(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}function wb(t,n,e,r,i){var o,u=t.children,a=-1,c=u.length,f=t.value&&(i-e)/t.value;while(++a<c)o=u[a],o.x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*f}mb.prototype=Object.create(Pv.prototype);var Mb=(1+Math.sqrt(5))/2;function kb(t,n,e,r,i,o){var u,a,c,f,s,l,h,d,p,g,v,b=[],y=n.children,m=0,_=0,x=y.length,w=n.value;while(m<x){c=i-e,f=o-r;do{s=y[_++].value}while(!s&&_<x);for(l=h=s,g=Math.max(f/c,c/f)/(w*t),v=s*s*g,p=Math.max(h/v,v/l);_<x;++_){if(s+=a=y[_].value,a<l&&(l=a),a>h&&(h=a),v=s*s*g,d=Math.max(h/v,v/l),d>p){s-=a;break}p=d}b.push(u={value:s,dice:c<f,children:y.slice(m,_)}),u.dice?ob(u,e,r,i,w?r+=f*s/w:o):wb(u,e,r,w?e+=c*s/w:i,o),w-=s,m=_}return b}var Sb=function t(n){function e(t,e,r,i,o){kb(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Mb);function Tb(){var t=Sb,n=!1,e=1,r=1,i=[0],o=Qv,u=Qv,a=Qv,c=Qv,f=Qv;function s(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(l),i=[0],n&&t.eachBefore(ib),t}function l(n){var e=i[n.depth],r=n.x0+e,s=n.y0+e,l=n.x1-e,h=n.y1-e;l<r&&(r=l=(r+l)/2),h<s&&(s=h=(s+h)/2),n.x0=r,n.y0=s,n.x1=l,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=f(n)-e,s+=u(n)-e,l-=a(n)-e,h-=c(n)-e,l<r&&(r=l=(r+l)/2),h<s&&(s=h=(s+h)/2),t(n,r,s,l,h))}return s.round=function(t){return arguments.length?(n=!!t,s):n},s.size=function(t){return arguments.length?(e=+t[0],r=+t[1],s):[e,r]},s.tile=function(n){return arguments.length?(t=Wv(n),s):t},s.padding=function(t){return arguments.length?s.paddingInner(t).paddingOuter(t):s.paddingInner()},s.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:Kv(+t),s):o},s.paddingOuter=function(t){return arguments.length?s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):s.paddingTop()},s.paddingTop=function(t){return arguments.length?(u="function"===typeof t?t:Kv(+t),s):u},s.paddingRight=function(t){return arguments.length?(a="function"===typeof t?t:Kv(+t),s):a},s.paddingBottom=function(t){return arguments.length?(c="function"===typeof t?t:Kv(+t),s):c},s.paddingLeft=function(t){return arguments.length?(f="function"===typeof t?t:Kv(+t),s):f},s}function Nb(t,n,e,r,i){var o,u,a=t.children,c=a.length,f=new Array(c+1);for(f[0]=u=o=0;o<c;++o)f[o+1]=u+=a[o].value;function s(t,n,e,r,i,o,u){if(t>=n-1){var c=a[t];return c.x0=r,c.y0=i,c.x1=o,void(c.y1=u)}var l=f[t],h=e/2+l,d=t+1,p=n-1;while(d<p){var g=d+p>>>1;f[g]<h?d=g+1:p=g}h-f[d-1]<f[d]-h&&t+1<d&&--d;var v=f[d]-l,b=e-v;if(o-r>u-i){var y=(r*b+o*v)/e;s(t,d,v,r,i,y,u),s(d,n,b,y,i,o,u)}else{var m=(i*b+u*v)/e;s(t,d,v,r,i,o,m),s(d,n,b,r,m,o,u)}}s(0,c,t.value,n,e,r,i)}function Ab(t,n,e,r,i){(1&t.depth?wb:ob)(t,n,e,r,i)}var Cb=function t(n){function e(t,e,r,i,o){if((u=t._squarify)&&u.ratio===n){var u,a,c,f,s,l=-1,h=u.length,d=t.value;while(++l<h){for(a=u[l],c=a.children,f=a.value=0,s=c.length;f<s;++f)a.value+=c[f].value;a.dice?ob(a,e,r,i,r+=(o-r)*a.value/d):wb(a,e,r,e+=(i-e)*a.value/d,o),d-=a.value}}else t._squarify=u=kb(n,t,e,r,i,o),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Mb);function Eb(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function Pb(t,n){var e=tr(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}}function Rb(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var zb=Math.SQRT2,qb=2,Db=4,Ib=1e-12;function Ub(t){return((t=Math.exp(t))+1/t)/2}function Lb(t){return((t=Math.exp(t))-1/t)/2}function Bb(t){return((t=Math.exp(2*t))-1)/(t+1)}function Ob(t,n){var e,r,i=t[0],o=t[1],u=t[2],a=n[0],c=n[1],f=n[2],s=a-i,l=c-o,h=s*s+l*l;if(h<Ib)r=Math.log(f/u)/zb,e=function(t){return[i+t*s,o+t*l,u*Math.exp(zb*t*r)]};else{var d=Math.sqrt(h),p=(f*f-u*u+Db*h)/(2*u*qb*d),g=(f*f-u*u-Db*h)/(2*f*qb*d),v=Math.log(Math.sqrt(p*p+1)-p),b=Math.log(Math.sqrt(g*g+1)-g);r=(b-v)/zb,e=function(t){var n=t*r,e=Ub(v),a=u/(qb*d)*(e*Bb(zb*n+v)-Lb(v));return[i+a*s,o+a*l,u*e/Ub(zb*n+v)]}}return e.duration=1e3*r,e}function jb(t){return function(n,e){var r=t((n=Ge(n)).h,(e=Ge(e)).h),i=er(n.s,e.s),o=er(n.l,e.l),u=er(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}var Fb=jb(tr),Yb=jb(er);function Hb(t,n){var e=er((t=oa(t)).l,(n=oa(n)).l),r=er(t.a,n.a),i=er(t.b,n.b),o=er(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}function Gb(t){return function(n,e){var r=t((n=da(n)).h,(e=da(e)).h),i=er(n.c,e.c),o=er(n.l,e.l),u=er(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}var Xb=Gb(tr),Vb=Gb(er);function $b(t){return function n(e){function r(n,r){var i=t((n=Sa(n)).h,(r=Sa(r)).h),o=er(n.s,r.s),u=er(n.l,r.l),a=er(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}var Zb=$b(tr),Wb=$b(er);function Qb(t,n){var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);while(e<r)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}function Kb(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}function Jb(t){var n,e=-1,r=t.length,i=t[r-1],o=0;while(++e<r)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2}function ty(t){var n,e,r=-1,i=t.length,o=0,u=0,a=t[i-1],c=0;while(++r<i)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return c*=3,[o/c,u/c]}function ny(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function ey(t,n){return t[0]-n[0]||t[1]-n[1]}function ry(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){while(r>1&&ny(t[e[r-2]],t[e[r-1]],t[i])<=0)--r;e[r++]=i}return e.slice(0,r)}function iy(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(ey),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=ry(r),u=ry(i),a=u[0]===o[0],c=u[u.length-1]===o[o.length-1],f=[];for(n=o.length-1;n>=0;--n)f.push(t[r[o[n]][2]]);for(n=+a;n<u.length-c;++n)f.push(t[r[u[n]][2]]);return f}function oy(t,n){for(var e,r,i=t.length,o=t[i-1],u=n[0],a=n[1],c=o[0],f=o[1],s=!1,l=0;l<i;++l)o=t[l],e=o[0],r=o[1],r>a!==f>a&&u<(c-e)*(a-r)/(f-r)+e&&(s=!s),c=e,f=r;return s}function uy(t){var n,e,r=-1,i=t.length,o=t[i-1],u=o[0],a=o[1],c=0;while(++r<i)n=u,e=a,o=t[r],u=o[0],a=o[1],n-=u,e-=a,c+=Math.sqrt(n*n+e*e);return c}function ay(){return Math.random()}var cy=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(ay),fy=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(ay),sy=function t(n){function e(){var t=fy.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(ay),ly=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(ay),hy=function t(n){function e(t){var e=ly.source(n)(t);return function(){return e()/t}}return e.source=t,e}(ay),dy=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(ay);function py(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function gy(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t);break}return this}var vy=Array.prototype,by=vy.map,yy=vy.slice,my={name:"implicit"};function _y(){var t=qu(),n=[],e=[],r=my;function i(i){var o=i+"",u=t.get(o);if(!u){if(r!==my)return r;t.set(o,u=n.push(i))}return e[(u-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=qu();var r,o,u=-1,a=e.length;while(++u<a)t.has(o=(r=e[u])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=yy.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return _y(n,e).unknown(r)},py.apply(i,arguments),i}function xy(){var t,n,e=_y().unknown(void 0),r=e.domain,i=e.range,o=[0,1],u=!1,a=0,c=0,f=.5;function s(){var e=r().length,s=o[1]<o[0],l=o[s-0],h=o[1-s];t=(h-l)/Math.max(1,e-a+2*c),u&&(t=Math.floor(t)),l+=(h-l-t*(e-a))*f,n=t*(1-a),u&&(l=Math.round(l),n=Math.round(n));var d=k(e).map((function(n){return l+t*n}));return i(s?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),s()):r()},e.range=function(t){return arguments.length?(o=[+t[0],+t[1]],s()):o.slice()},e.rangeRound=function(t){return o=[+t[0],+t[1]],u=!0,s()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(u=!!t,s()):u},e.padding=function(t){return arguments.length?(a=Math.min(1,c=+t),s()):a},e.paddingInner=function(t){return arguments.length?(a=Math.min(1,t),s()):a},e.paddingOuter=function(t){return arguments.length?(c=+t,s()):c},e.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),s()):f},e.copy=function(){return xy(r(),o).round(u).paddingInner(a).paddingOuter(c).align(f)},py.apply(s(),arguments)}function wy(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wy(n())},t}function My(){return wy(xy.apply(null,arguments).paddingInner(1))}function ky(t){return function(){return t}}function Sy(t){return+t}var Ty=[0,1];function Ny(t){return t}function Ay(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:ky(isNaN(n)?NaN:.5)}function Cy(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function Ey(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=Ay(i,r),o=e(u,o)):(r=Ay(r,i),o=e(o,u)),function(t){return o(r(t))}}function Py(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),u=-1;t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());while(++u<r)i[u]=Ay(t[u],t[u+1]),o[u]=e(n[u],n[u+1]);return function(n){var e=s(t,n,1,r)-1;return o[e](i[e](n))}}function Ry(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zy(){var t,n,e,r,i,o,u=Ty,a=Ty,c=mr,f=Ny;function s(){return r=Math.min(u.length,a.length)>2?Py:Ey,i=o=null,l}function l(n){return isNaN(n=+n)?e:(i||(i=r(u.map(t),a,c)))(t(f(n)))}return l.invert=function(e){return f(n((o||(o=r(a,u.map(t),hr)))(e)))},l.domain=function(t){return arguments.length?(u=by.call(t,Sy),f===Ny||(f=Cy(u)),s()):u.slice()},l.range=function(t){return arguments.length?(a=yy.call(t),s()):a.slice()},l.rangeRound=function(t){return a=yy.call(t),c=Rb,s()},l.clamp=function(t){return arguments.length?(f=t?Cy(u):Ny,l):f!==Ny},l.interpolate=function(t){return arguments.length?(c=t,s()):c},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,s()}}function qy(t,n){return zy()(t,n)}function Dy(t,n,e,r){var i,o=E(t,n,e);switch(r=Cs(null==r?",f":r),r.type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=Hs(o,u))||(r.precision=i),Ls(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Gs(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Ys(o))||(r.precision=i-2*("%"===r.type));break}return Us(r)}function Iy(t){var n=t.domain;return t.ticks=function(t){var e=n();return A(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Dy(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,u=i.length-1,a=i[o],c=i[u];return c<a&&(r=a,a=c,c=r,r=o,o=u,u=r),r=C(a,c,e),r>0?(a=Math.floor(a/r)*r,c=Math.ceil(c/r)*r,r=C(a,c,e)):r<0&&(a=Math.ceil(a*r)/r,c=Math.floor(c*r)/r,r=C(a,c,e)),r>0?(i[o]=Math.floor(a/r)*r,i[u]=Math.ceil(c/r)*r,n(i)):r<0&&(i[o]=Math.ceil(a*r)/r,i[u]=Math.floor(c*r)/r,n(i)),t},t}function Uy(){var t=qy(Ny,Ny);return t.copy=function(){return Ry(t,Uy())},py.apply(t,arguments),Iy(t)}function Ly(t){var n;function e(t){return isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=by.call(n,Sy),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return Ly(t).unknown(n)},t=arguments.length?by.call(t,Sy):[0,1],Iy(e)}function By(t,n){t=t.slice();var e,r=0,i=t.length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t}function Oy(t){return Math.log(t)}function jy(t){return Math.exp(t)}function Fy(t){return-Math.log(-t)}function Yy(t){return-Math.exp(-t)}function Hy(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gy(t){return 10===t?Hy:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function Xy(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Vy(t){return function(n){return-t(-n)}}function $y(t){var n,e,r=t(Oy,jy),i=r.domain,o=10;function u(){return n=Xy(o),e=Gy(o),i()[0]<0?(n=Vy(n),e=Vy(e),t(Fy,Yy)):t(Oy,jy),r}return r.base=function(t){return arguments.length?(o=+t,u()):o},r.domain=function(t){return arguments.length?(i(t),u()):i()},r.ticks=function(t){var r,u=i(),a=u[0],c=u[u.length-1];(r=c<a)&&(h=a,a=c,c=h);var f,s,l,h=n(a),d=n(c),p=null==t?10:+t,g=[];if(!(o%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,a>0){for(;h<d;++h)for(s=1,f=e(h);s<o;++s)if(l=f*s,!(l<a)){if(l>c)break;g.push(l)}}else for(;h<d;++h)for(s=o-1,f=e(h);s>=1;--s)if(l=f*s,!(l<a)){if(l>c)break;g.push(l)}}else g=A(h,d,Math.min(d-h,p)).map(e);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=Us(i)),t===1/0)return i;null==t&&(t=10);var u=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/e(Math.round(n(t)));return r*o<o-.5&&(r*=o),r<=u?i(t):""}},r.nice=function(){return i(By(i(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},r}function Zy(){var t=$y(zy()).domain([1,10]);return t.copy=function(){return Ry(t,Zy()).base(t.base())},py.apply(t,arguments),t}function Wy(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Qy(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Ky(t){var n=1,e=t(Wy(n),Qy(n));return e.constant=function(e){return arguments.length?t(Wy(n=+e),Qy(n)):n},Iy(e)}function Jy(){var t=Ky(zy());return t.copy=function(){return Ry(t,Jy()).constant(t.constant())},py.apply(t,arguments)}function tm(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function nm(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function em(t){return t<0?-t*t:t*t}function rm(t){var n=t(Ny,Ny),e=1;function r(){return 1===e?t(Ny,Ny):.5===e?t(nm,em):t(tm(e),tm(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},Iy(n)}function im(){var t=rm(zy());return t.copy=function(){return Ry(t,im()).exponent(t.exponent())},py.apply(t,arguments),t}function om(){return im.apply(null,arguments).exponent(.5)}function um(){var t,n=[],e=[],r=[];function o(){var t=0,i=Math.max(1,e.length);r=new Array(i-1);while(++t<i)r[t-1]=z(n,t/i);return u}function u(n){return isNaN(n=+n)?t:e[s(r,n)]}return u.invertExtent=function(t){var i=e.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:n[0],i<r.length?r[i]:n[n.length-1]]},u.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var e,r=0,u=t.length;r<u;++r)e=t[r],null==e||isNaN(e=+e)||n.push(e);return n.sort(i),o()},u.range=function(t){return arguments.length?(e=yy.call(t),o()):e.slice()},u.unknown=function(n){return arguments.length?(t=n,u):t},u.quantiles=function(){return r.slice()},u.copy=function(){return um().domain(n).range(e).unknown(t)},py.apply(u,arguments)}function am(){var t,n=0,e=1,r=1,i=[.5],o=[0,1];function u(n){return n<=n?o[s(i,n,0,r)]:t}function a(){var t=-1;i=new Array(r);while(++t<r)i[t]=((t+1)*e-(t-r)*n)/(r+1);return u}return u.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],a()):[n,e]},u.range=function(t){return arguments.length?(r=(o=yy.call(t)).length-1,a()):o.slice()},u.invertExtent=function(t){var u=o.indexOf(t);return u<0?[NaN,NaN]:u<1?[n,i[0]]:u>=r?[i[r-1],e]:[i[u-1],i[u]]},u.unknown=function(n){return arguments.length?(t=n,u):u},u.thresholds=function(){return i.slice()},u.copy=function(){return am().domain([n,e]).range(o).unknown(t)},py.apply(Iy(u),arguments)}function cm(){var t,n=[.5],e=[0,1],r=1;function i(i){return i<=i?e[s(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=yy.call(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=yy.call(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return cm().domain(n).range(e).unknown(t)},py.apply(i,arguments)}var fm=new Date,sm=new Date;function lm(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r)||!(o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return lm((function(n){if(n>=n)while(t(n),!e(n))n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)while(++r<=0)while(n(t,-1),!e(t));else while(--r>=0)while(n(t,1),!e(t));}))},e&&(i.count=function(n,r){return fm.setTime(+n),sm.setTime(+r),t(fm),t(sm),Math.floor(e(fm,sm))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t===0}:function(n){return i.count(0,n)%t===0}):i:null}),i}var hm=lm((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));hm.every=function(t){return isFinite(t=Math.floor(t))&&t>0?lm((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var dm=hm,pm=hm.range,gm=lm((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),vm=gm,bm=gm.range,ym=1e3,mm=6e4,_m=36e5,xm=864e5,wm=6048e5;function Mm(t){return lm((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*mm)/wm}))}var km=Mm(0),Sm=Mm(1),Tm=Mm(2),Nm=Mm(3),Am=Mm(4),Cm=Mm(5),Em=Mm(6),Pm=km.range,Rm=Sm.range,zm=Tm.range,qm=Nm.range,Dm=Am.range,Im=Cm.range,Um=Em.range,Lm=lm((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*mm)/xm}),(function(t){return t.getDate()-1})),Bm=Lm,Om=Lm.range,jm=lm((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ym-t.getMinutes()*mm)}),(function(t,n){t.setTime(+t+n*_m)}),(function(t,n){return(n-t)/_m}),(function(t){return t.getHours()})),Fm=jm,Ym=jm.range,Hm=lm((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ym)}),(function(t,n){t.setTime(+t+n*mm)}),(function(t,n){return(n-t)/mm}),(function(t){return t.getMinutes()})),Gm=Hm,Xm=Hm.range,Vm=lm((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+n*ym)}),(function(t,n){return(n-t)/ym}),(function(t){return t.getUTCSeconds()})),$m=Vm,Zm=Vm.range,Wm=lm((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));Wm.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?lm((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):Wm:null};var Qm=Wm,Km=Wm.range;function Jm(t){return lm((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/wm}))}var t_=Jm(0),n_=Jm(1),e_=Jm(2),r_=Jm(3),i_=Jm(4),o_=Jm(5),u_=Jm(6),a_=t_.range,c_=n_.range,f_=e_.range,s_=r_.range,l_=i_.range,h_=o_.range,d_=u_.range,p_=lm((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/xm}),(function(t){return t.getUTCDate()-1})),g_=p_,v_=p_.range,b_=lm((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));b_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?lm((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var y_=b_,m_=b_.range;function __(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function x_(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function w_(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function M_(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,c=t.shortMonths,f=D_(i),s=I_(i),l=D_(o),h=I_(o),d=D_(u),p=I_(u),g=D_(a),v=I_(a),b=D_(c),y=I_(c),m={a:z,A:q,b:D,B:I,c:null,d:rx,e:rx,f:cx,g:mx,G:xx,H:ix,I:ox,j:ux,L:ax,m:fx,M:sx,p:U,q:L,Q:Hx,s:Gx,S:lx,u:hx,U:dx,V:gx,w:vx,W:bx,x:null,X:null,y:yx,Y:_x,Z:wx,"%":Yx},_={a:B,A:O,b:j,B:F,c:null,d:Mx,e:Mx,f:Ax,g:Bx,G:jx,H:kx,I:Sx,j:Tx,L:Nx,m:Cx,M:Ex,p:Y,q:H,Q:Hx,s:Gx,S:Px,u:Rx,U:zx,V:Dx,w:Ix,W:Ux,x:null,X:null,y:Lx,Y:Ox,Z:Fx,"%":Yx},x={a:T,A:N,b:A,B:C,c:E,d:V_,e:V_,f:J_,g:Y_,G:F_,H:Z_,I:Z_,j:$_,L:K_,m:X_,M:W_,p:S,q:G_,Q:nx,s:ex,S:Q_,u:L_,U:B_,V:O_,w:U_,W:j_,x:P,X:R,y:Y_,Y:F_,Z:H_,"%":tx};function w(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,f=t.length;e instanceof Date||(e=new Date(+e));while(++a<f)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=C_[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function M(t,n){return function(e){var r,i,o=w_(1900,void 0,1),u=k(o,t,e+="",0);if(u!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=x_(w_(o.y,0,1)),i=r.getUTCDay(),r=i>4||0===i?n_.ceil(r):n_(r),r=g_.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=__(w_(o.y,0,1)),i=r.getDay(),r=i>4||0===i?Sm.ceil(r):Sm(r),r=Bm.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?x_(w_(o.y,0,1)).getUTCDay():__(w_(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,x_(o)):__(o)}}function k(t,n,e,r){var i,o,u=0,a=n.length,c=e.length;while(u<a){if(r>=c)return-1;if(i=n.charCodeAt(u++),37===i){if(i=n.charAt(u++),o=x[i in C_?n.charAt(u++):i],!o||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function S(t,n,e){var r=f.exec(n.slice(e));return r?(t.p=s[r[0].toLowerCase()],e+r[0].length):-1}function T(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1}function N(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1}function A(t,n,e){var r=b.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1}function C(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=v[r[0].toLowerCase()],e+r[0].length):-1}function E(t,e,r){return k(t,n,e,r)}function P(t,n,r){return k(t,e,n,r)}function R(t,n,e){return k(t,r,n,e)}function z(t){return u[t.getDay()]}function q(t){return o[t.getDay()]}function D(t){return c[t.getMonth()]}function I(t){return a[t.getMonth()]}function U(t){return i[+(t.getHours()>=12)]}function L(t){return 1+~~(t.getMonth()/3)}function B(t){return u[t.getUTCDay()]}function O(t){return o[t.getUTCDay()]}function j(t){return c[t.getUTCMonth()]}function F(t){return a[t.getUTCMonth()]}function Y(t){return i[+(t.getUTCHours()>=12)]}function H(t){return 1+~~(t.getUTCMonth()/3)}return m.x=w(e,m),m.X=w(r,m),m.c=w(n,m),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",m);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}var k_,S_,T_,N_,A_,C_={"-":"",_:" ",0:"0"},E_=/^\s*\d+/,P_=/^%/,R_=/[\\^$*+?|[\]().{}]/g;function z_(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function q_(t){return t.replace(R_,"\\$&")}function D_(t){return new RegExp("^(?:"+t.map(q_).join("|")+")","i")}function I_(t){var n={},e=-1,r=t.length;while(++e<r)n[t[e].toLowerCase()]=e;return n}function U_(t,n,e){var r=E_.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function L_(t,n,e){var r=E_.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function B_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function O_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function j_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function F_(t,n,e){var r=E_.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Y_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function H_(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function G_(t,n,e){var r=E_.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function X_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function V_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function $_(t,n,e){var r=E_.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Z_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function W_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Q_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function K_(t,n,e){var r=E_.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function J_(t,n,e){var r=E_.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function tx(t,n,e){var r=P_.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function nx(t,n,e){var r=E_.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function ex(t,n,e){var r=E_.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function rx(t,n){return z_(t.getDate(),n,2)}function ix(t,n){return z_(t.getHours(),n,2)}function ox(t,n){return z_(t.getHours()%12||12,n,2)}function ux(t,n){return z_(1+Bm.count(dm(t),t),n,3)}function ax(t,n){return z_(t.getMilliseconds(),n,3)}function cx(t,n){return ax(t,n)+"000"}function fx(t,n){return z_(t.getMonth()+1,n,2)}function sx(t,n){return z_(t.getMinutes(),n,2)}function lx(t,n){return z_(t.getSeconds(),n,2)}function hx(t){var n=t.getDay();return 0===n?7:n}function dx(t,n){return z_(km.count(dm(t)-1,t),n,2)}function px(t){var n=t.getDay();return n>=4||0===n?Am(t):Am.ceil(t)}function gx(t,n){return t=px(t),z_(Am.count(dm(t),t)+(4===dm(t).getDay()),n,2)}function vx(t){return t.getDay()}function bx(t,n){return z_(Sm.count(dm(t)-1,t),n,2)}function yx(t,n){return z_(t.getFullYear()%100,n,2)}function mx(t,n){return t=px(t),z_(t.getFullYear()%100,n,2)}function _x(t,n){return z_(t.getFullYear()%1e4,n,4)}function xx(t,n){var e=t.getDay();return t=e>=4||0===e?Am(t):Am.ceil(t),z_(t.getFullYear()%1e4,n,4)}function wx(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+z_(n/60|0,"0",2)+z_(n%60,"0",2)}function Mx(t,n){return z_(t.getUTCDate(),n,2)}function kx(t,n){return z_(t.getUTCHours(),n,2)}function Sx(t,n){return z_(t.getUTCHours()%12||12,n,2)}function Tx(t,n){return z_(1+g_.count(y_(t),t),n,3)}function Nx(t,n){return z_(t.getUTCMilliseconds(),n,3)}function Ax(t,n){return Nx(t,n)+"000"}function Cx(t,n){return z_(t.getUTCMonth()+1,n,2)}function Ex(t,n){return z_(t.getUTCMinutes(),n,2)}function Px(t,n){return z_(t.getUTCSeconds(),n,2)}function Rx(t){var n=t.getUTCDay();return 0===n?7:n}function zx(t,n){return z_(t_.count(y_(t)-1,t),n,2)}function qx(t){var n=t.getUTCDay();return n>=4||0===n?i_(t):i_.ceil(t)}function Dx(t,n){return t=qx(t),z_(i_.count(y_(t),t)+(4===y_(t).getUTCDay()),n,2)}function Ix(t){return t.getUTCDay()}function Ux(t,n){return z_(n_.count(y_(t)-1,t),n,2)}function Lx(t,n){return z_(t.getUTCFullYear()%100,n,2)}function Bx(t,n){return t=qx(t),z_(t.getUTCFullYear()%100,n,2)}function Ox(t,n){return z_(t.getUTCFullYear()%1e4,n,4)}function jx(t,n){var e=t.getUTCDay();return t=e>=4||0===e?i_(t):i_.ceil(t),z_(t.getUTCFullYear()%1e4,n,4)}function Fx(){return"+0000"}function Yx(){return"%"}function Hx(t){return+t}function Gx(t){return Math.floor(+t/1e3)}function Xx(t){return k_=M_(t),S_=k_.format,T_=k_.parse,N_=k_.utcFormat,A_=k_.utcParse,k_}Xx({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Vx=1e3,$x=60*Vx,Zx=60*$x,Wx=24*Zx,Qx=7*Wx,Kx=30*Wx,Jx=365*Wx;function tw(t){return new Date(t)}function nw(t){return t instanceof Date?+t:+new Date(+t)}function ew(t,n,e,r,i,u,a,c,f){var s=qy(Ny,Ny),l=s.invert,h=s.domain,d=f(".%L"),p=f(":%S"),g=f("%I:%M"),v=f("%I %p"),b=f("%a %d"),y=f("%b %d"),m=f("%B"),_=f("%Y"),x=[[a,1,Vx],[a,5,5*Vx],[a,15,15*Vx],[a,30,30*Vx],[u,1,$x],[u,5,5*$x],[u,15,15*$x],[u,30,30*$x],[i,1,Zx],[i,3,3*Zx],[i,6,6*Zx],[i,12,12*Zx],[r,1,Wx],[r,2,2*Wx],[e,1,Qx],[n,1,Kx],[n,3,3*Kx],[t,1,Jx]];function w(o){return(a(o)<o?d:u(o)<o?p:i(o)<o?g:r(o)<o?v:n(o)<o?e(o)<o?b:y:t(o)<o?m:_)(o)}function M(n,e,r,i){if(null==n&&(n=10),"number"===typeof n){var u=Math.abs(r-e)/n,a=o((function(t){return t[2]})).right(x,u);a===x.length?(i=E(e/Jx,r/Jx,n),n=t):a?(a=x[u/x[a-1][2]<x[a][2]/u?a-1:a],i=a[1],n=a[0]):(i=Math.max(E(e,r,n),1),n=c)}return null==i?n:n.every(i)}return s.invert=function(t){return new Date(l(t))},s.domain=function(t){return arguments.length?h(by.call(t,nw)):h().map(tw)},s.ticks=function(t,n){var e,r=h(),i=r[0],o=r[r.length-1],u=o<i;return u&&(e=i,i=o,o=e),e=M(t,i,o,n),e=e?e.range(i,o+1):[],u?e.reverse():e},s.tickFormat=function(t,n){return null==n?w:f(n)},s.nice=function(t,n){var e=h();return(t=M(t,e[0],e[e.length-1],n))?h(By(e,t)):s},s.copy=function(){return Ry(s,ew(t,n,e,r,i,u,a,c,f))},s}function rw(){return py.apply(ew(dm,vm,km,Bm,Fm,Gm,$m,Qm,S_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var iw=lm((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),ow=iw,uw=iw.range,aw=lm((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+n*_m)}),(function(t,n){return(n-t)/_m}),(function(t){return t.getUTCHours()})),cw=aw,fw=aw.range,sw=lm((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*mm)}),(function(t,n){return(n-t)/mm}),(function(t){return t.getUTCMinutes()})),lw=sw,hw=sw.range;function dw(){return py.apply(ew(y_,ow,t_,g_,cw,lw,$m,Qm,N_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pw(){var t,n,e,r,i,o=0,u=1,a=Ny,c=!1;function f(n){return isNaN(n=+n)?i:a(0===e?.5:(n=(r(n)-t)*e,c?Math.max(0,Math.min(1,n)):n))}return f.domain=function(i){return arguments.length?(t=r(o=+i[0]),n=r(u=+i[1]),e=t===n?0:1/(n-t),f):[o,u]},f.clamp=function(t){return arguments.length?(c=!!t,f):c},f.interpolator=function(t){return arguments.length?(a=t,f):a},f.unknown=function(t){return arguments.length?(i=t,f):i},function(i){return r=i,t=i(o),n=i(u),e=t===n?0:1/(n-t),f}}function gw(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function vw(){var t=Iy(pw()(Ny));return t.copy=function(){return gw(t,vw())},gy.apply(t,arguments)}function bw(){var t=$y(pw()).domain([1,10]);return t.copy=function(){return gw(t,bw()).base(t.base())},gy.apply(t,arguments)}function yw(){var t=Ky(pw());return t.copy=function(){return gw(t,yw()).constant(t.constant())},gy.apply(t,arguments)}function mw(){var t=rm(pw());return t.copy=function(){return gw(t,mw()).exponent(t.exponent())},gy.apply(t,arguments)}function _w(){return mw.apply(null,arguments).exponent(.5)}function xw(){var t=[],n=Ny;function e(e){if(!isNaN(e=+e))return n((s(t,e)-1)/(t.length-1))}return e.domain=function(n){if(!arguments.length)return t.slice();t=[];for(var r,o=0,u=n.length;o<u;++o)r=n[o],null==r||isNaN(r=+r)||t.push(r);return t.sort(i),e},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return xw(n).domain(t)},gy.apply(e,arguments)}function ww(){var t,n,e,r,i,o,u,a=0,c=.5,f=1,s=Ny,l=!1;function h(t){return isNaN(t=+t)?u:(t=.5+((t=+o(t))-n)*(t<n?r:i),s(l?Math.max(0,Math.min(1,t)):t))}return h.domain=function(u){return arguments.length?(t=o(a=+u[0]),n=o(c=+u[1]),e=o(f=+u[2]),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h):[a,c,f]},h.clamp=function(t){return arguments.length?(l=!!t,h):l},h.interpolator=function(t){return arguments.length?(s=t,h):s},h.unknown=function(t){return arguments.length?(u=t,h):u},function(u){return o=u,t=u(a),n=u(c),e=u(f),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h}}function Mw(){var t=Iy(ww()(Ny));return t.copy=function(){return gw(t,Mw())},gy.apply(t,arguments)}function kw(){var t=$y(ww()).domain([.1,1,10]);return t.copy=function(){return gw(t,kw()).base(t.base())},gy.apply(t,arguments)}function Sw(){var t=Ky(ww());return t.copy=function(){return gw(t,Sw()).constant(t.constant())},gy.apply(t,arguments)}function Tw(){var t=rm(ww());return t.copy=function(){return gw(t,Tw()).exponent(t.exponent())},gy.apply(t,arguments)}function Nw(){return Tw.apply(null,arguments).exponent(.5)}function Aw(t){var n=t.length/6|0,e=new Array(n),r=0;while(r<n)e[r]="#"+t.slice(6*r,6*++r);return e}var Cw=Aw("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ew=Aw("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Pw=Aw("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Rw=Aw("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),zw=Aw("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),qw=Aw("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Dw=Aw("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Iw=Aw("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Uw=Aw("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Lw=Aw("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Bw(t){return or(t[t.length-1])}var Ow=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Aw),jw=Bw(Ow),Fw=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Aw),Yw=Bw(Fw),Hw=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Aw),Gw=Bw(Hw),Xw=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Aw),Vw=Bw(Xw),$w=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Aw),Zw=Bw($w),Ww=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Aw),Qw=Bw(Ww),Kw=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Aw),Jw=Bw(Kw),tM=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Aw),nM=Bw(tM),eM=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Aw),rM=Bw(eM),iM=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Aw),oM=Bw(iM),uM=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Aw),aM=Bw(uM),cM=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Aw),fM=Bw(cM),sM=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Aw),lM=Bw(sM),hM=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Aw),dM=Bw(hM),pM=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Aw),gM=Bw(pM),vM=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Aw),bM=Bw(vM),yM=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Aw),mM=Bw(yM),_M=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Aw),xM=Bw(_M),wM=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Aw),MM=Bw(wM),kM=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Aw),SM=Bw(kM),TM=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Aw),NM=Bw(TM),AM=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Aw),CM=Bw(AM),EM=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Aw),PM=Bw(EM),RM=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Aw),zM=Bw(RM),qM=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Aw),DM=Bw(qM),IM=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Aw),UM=Bw(IM),LM=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Aw),BM=Bw(LM);function OM(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var jM=Wb(Sa(300,.5,0),Sa(-240,.5,1)),FM=Wb(Sa(-100,.75,.35),Sa(80,1.5,.8)),YM=Wb(Sa(260,.75,.35),Sa(80,1.5,.8)),HM=Sa();function GM(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return HM.h=360*t-100,HM.s=1.5-1.5*n,HM.l=.8-.9*n,HM+""}var XM=Le(),VM=Math.PI/3,$M=2*Math.PI/3;function ZM(t){var n;return t=(.5-t)*Math.PI,XM.r=255*(n=Math.sin(t))*n,XM.g=255*(n=Math.sin(t+VM))*n,XM.b=255*(n=Math.sin(t+$M))*n,XM+""}function WM(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function QM(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var KM=QM(Aw("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),JM=QM(Aw("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),tk=QM(Aw("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),nk=QM(Aw("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ek(t){return se(In(t).call(document.documentElement))}var rk=0;function ik(){return new ok}function ok(){this._="@"+(++rk).toString(36)}function uk(t){return"string"===typeof t?new ae([document.querySelectorAll(t)],[document.documentElement]):new ae([null==t?[]:t],ue)}function ak(t,n){null==n&&(n=_r().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=xr(t,n[e]);return i}function ck(t){return function(){return t}}ok.prototype=ik.prototype={constructor:ok,get:function(t){var n=this._;while(!(n in t))if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var fk=Math.abs,sk=Math.atan2,lk=Math.cos,hk=Math.max,dk=Math.min,pk=Math.sin,gk=Math.sqrt,vk=1e-12,bk=Math.PI,yk=bk/2,mk=2*bk;function _k(t){return t>1?0:t<-1?bk:Math.acos(t)}function xk(t){return t>=1?yk:t<=-1?-yk:Math.asin(t)}function wk(t){return t.innerRadius}function Mk(t){return t.outerRadius}function kk(t){return t.startAngle}function Sk(t){return t.endAngle}function Tk(t){return t&&t.padAngle}function Nk(t,n,e,r,i,o,u,a){var c=e-t,f=r-n,s=u-i,l=a-o,h=l*c-s*f;if(!(h*h<vk))return h=(s*(n-o)-l*(t-i))/h,[t+h*c,n+h*f]}function Ak(t,n,e,r,i,o,u){var a=t-e,c=n-r,f=(u?o:-o)/gk(a*a+c*c),s=f*c,l=-f*a,h=t+s,d=n+l,p=e+s,g=r+l,v=(h+p)/2,b=(d+g)/2,y=p-h,m=g-d,_=y*y+m*m,x=i-o,w=h*g-p*d,M=(m<0?-1:1)*gk(hk(0,x*x*_-w*w)),k=(w*m-y*M)/_,S=(-w*y-m*M)/_,T=(w*m+y*M)/_,N=(-w*y+m*M)/_,A=k-v,C=S-b,E=T-v,P=N-b;return A*A+C*C>E*E+P*P&&(k=T,S=N),{cx:k,cy:S,x01:-s,y01:-l,x11:k*(i/x-1),y11:S*(i/x-1)}}function Ck(){var t=wk,n=Mk,e=ck(0),r=null,i=kk,o=Sk,u=Tk,a=null;function c(){var c,f,s=+t.apply(this,arguments),l=+n.apply(this,arguments),h=i.apply(this,arguments)-yk,d=o.apply(this,arguments)-yk,p=fk(d-h),g=d>h;if(a||(a=c=ku()),l<s&&(f=l,l=s,s=f),l>vk)if(p>mk-vk)a.moveTo(l*lk(h),l*pk(h)),a.arc(0,0,l,h,d,!g),s>vk&&(a.moveTo(s*lk(d),s*pk(d)),a.arc(0,0,s,d,h,g));else{var v,b,y=h,m=d,_=h,x=d,w=p,M=p,k=u.apply(this,arguments)/2,S=k>vk&&(r?+r.apply(this,arguments):gk(s*s+l*l)),T=dk(fk(l-s)/2,+e.apply(this,arguments)),N=T,A=T;if(S>vk){var C=xk(S/s*pk(k)),E=xk(S/l*pk(k));(w-=2*C)>vk?(C*=g?1:-1,_+=C,x-=C):(w=0,_=x=(h+d)/2),(M-=2*E)>vk?(E*=g?1:-1,y+=E,m-=E):(M=0,y=m=(h+d)/2)}var P=l*lk(y),R=l*pk(y),z=s*lk(x),q=s*pk(x);if(T>vk){var D,I=l*lk(m),U=l*pk(m),L=s*lk(_),B=s*pk(_);if(p<bk&&(D=Nk(P,R,L,B,I,U,z,q))){var O=P-D[0],j=R-D[1],F=I-D[0],Y=U-D[1],H=1/pk(_k((O*F+j*Y)/(gk(O*O+j*j)*gk(F*F+Y*Y)))/2),G=gk(D[0]*D[0]+D[1]*D[1]);N=dk(T,(s-G)/(H-1)),A=dk(T,(l-G)/(H+1))}}M>vk?A>vk?(v=Ak(L,B,P,R,l,A,g),b=Ak(I,U,z,q,l,A,g),a.moveTo(v.cx+v.x01,v.cy+v.y01),A<T?a.arc(v.cx,v.cy,A,sk(v.y01,v.x01),sk(b.y01,b.x01),!g):(a.arc(v.cx,v.cy,A,sk(v.y01,v.x01),sk(v.y11,v.x11),!g),a.arc(0,0,l,sk(v.cy+v.y11,v.cx+v.x11),sk(b.cy+b.y11,b.cx+b.x11),!g),a.arc(b.cx,b.cy,A,sk(b.y11,b.x11),sk(b.y01,b.x01),!g))):(a.moveTo(P,R),a.arc(0,0,l,y,m,!g)):a.moveTo(P,R),s>vk&&w>vk?N>vk?(v=Ak(z,q,I,U,s,-N,g),b=Ak(P,R,L,B,s,-N,g),a.lineTo(v.cx+v.x01,v.cy+v.y01),N<T?a.arc(v.cx,v.cy,N,sk(v.y01,v.x01),sk(b.y01,b.x01),!g):(a.arc(v.cx,v.cy,N,sk(v.y01,v.x01),sk(v.y11,v.x11),!g),a.arc(0,0,s,sk(v.cy+v.y11,v.cx+v.x11),sk(b.cy+b.y11,b.cx+b.x11),g),a.arc(b.cx,b.cy,N,sk(b.y11,b.x11),sk(b.y01,b.x01),!g))):a.arc(0,0,s,x,_,g):a.lineTo(z,q)}else a.moveTo(0,0);if(a.closePath(),c)return a=null,c+""||null}return c.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-bk/2;return[lk(r)*e,pk(r)*e]},c.innerRadius=function(n){return arguments.length?(t="function"===typeof n?n:ck(+n),c):t},c.outerRadius=function(t){return arguments.length?(n="function"===typeof t?t:ck(+t),c):n},c.cornerRadius=function(t){return arguments.length?(e="function"===typeof t?t:ck(+t),c):e},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:ck(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:ck(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:ck(+t),c):o},c.padAngle=function(t){return arguments.length?(u="function"===typeof t?t:ck(+t),c):u},c.context=function(t){return arguments.length?(a=null==t?null:t,c):a},c}function Ek(t){this._context=t}function Pk(t){return new Ek(t)}function Rk(t){return t[0]}function zk(t){return t[1]}function qk(){var t=Rk,n=zk,e=ck(!0),r=null,i=Pk,o=null;function u(u){var a,c,f,s=u.length,l=!1;for(null==r&&(o=i(f=ku())),a=0;a<=s;++a)!(a<s&&e(c=u[a],a,u))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(c,a,u),+n(c,a,u));if(f)return o=null,f+""||null}return u.x=function(n){return arguments.length?(t="function"===typeof n?n:ck(+n),u):t},u.y=function(t){return arguments.length?(n="function"===typeof t?t:ck(+t),u):n},u.defined=function(t){return arguments.length?(e="function"===typeof t?t:ck(!!t),u):e},u.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),u):i},u.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),u):r},u}function Dk(){var t=Rk,n=null,e=ck(0),r=zk,i=ck(!0),o=null,u=Pk,a=null;function c(c){var f,s,l,h,d,p=c.length,g=!1,v=new Array(p),b=new Array(p);for(null==o&&(a=u(d=ku())),f=0;f<=p;++f){if(!(f<p&&i(h=c[f],f,c))===g)if(g=!g)s=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),l=f-1;l>=s;--l)a.point(v[l],b[l]);a.lineEnd(),a.areaEnd()}g&&(v[f]=+t(h,f,c),b[f]=+e(h,f,c),a.point(n?+n(h,f,c):v[f],r?+r(h,f,c):b[f]))}if(d)return a=null,d+""||null}function f(){return qk().defined(i).curve(u).context(o)}return c.x=function(e){return arguments.length?(t="function"===typeof e?e:ck(+e),n=null,c):t},c.x0=function(n){return arguments.length?(t="function"===typeof n?n:ck(+n),c):t},c.x1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:ck(+t),c):n},c.y=function(t){return arguments.length?(e="function"===typeof t?t:ck(+t),r=null,c):e},c.y0=function(t){return arguments.length?(e="function"===typeof t?t:ck(+t),c):e},c.y1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:ck(+t),c):r},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(r)},c.lineX1=function(){return f().x(n).y(e)},c.defined=function(t){return arguments.length?(i="function"===typeof t?t:ck(!!t),c):i},c.curve=function(t){return arguments.length?(u=t,null!=o&&(a=u(o)),c):u},c.context=function(t){return arguments.length?(null==t?o=a=null:a=u(o=t),c):o},c}function Ik(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function Uk(t){return t}function Lk(){var t=Uk,n=Ik,e=null,r=ck(0),i=ck(mk),o=ck(0);function u(u){var a,c,f,s,l,h=u.length,d=0,p=new Array(h),g=new Array(h),v=+r.apply(this,arguments),b=Math.min(mk,Math.max(-mk,i.apply(this,arguments)-v)),y=Math.min(Math.abs(b)/h,o.apply(this,arguments)),m=y*(b<0?-1:1);for(a=0;a<h;++a)(l=g[p[a]=a]=+t(u[a],a,u))>0&&(d+=l);for(null!=n?p.sort((function(t,e){return n(g[t],g[e])})):null!=e&&p.sort((function(t,n){return e(u[t],u[n])})),a=0,f=d?(b-h*m)/d:0;a<h;++a,v=s)c=p[a],l=g[c],s=v+(l>0?l*f:0)+m,g[c]={data:u[c],index:a,value:l,startAngle:v,endAngle:s,padAngle:y};return g}return u.value=function(n){return arguments.length?(t="function"===typeof n?n:ck(+n),u):t},u.sortValues=function(t){return arguments.length?(n=t,e=null,u):n},u.sort=function(t){return arguments.length?(e=t,n=null,u):e},u.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:ck(+t),u):r},u.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:ck(+t),u):i},u.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:ck(+t),u):o},u}Ek.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};var Bk=jk(Pk);function Ok(t){this._curve=t}function jk(t){function n(n){return new Ok(t(n))}return n._curve=t,n}function Fk(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(jk(t)):n()._curve},t}function Yk(){return Fk(qk().curve(Bk))}function Hk(){var t=Dk().curve(Bk),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Fk(e())},delete t.lineX0,t.lineEndAngle=function(){return Fk(r())},delete t.lineX1,t.lineInnerRadius=function(){return Fk(i())},delete t.lineY0,t.lineOuterRadius=function(){return Fk(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(jk(t)):n()._curve},t}function Gk(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}Ok.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var Xk=Array.prototype.slice;function Vk(t){return t.source}function $k(t){return t.target}function Zk(t){var n=Vk,e=$k,r=Rk,i=zk,o=null;function u(){var u,a=Xk.call(arguments),c=n.apply(this,a),f=e.apply(this,a);if(o||(o=u=ku()),t(o,+r.apply(this,(a[0]=c,a)),+i.apply(this,a),+r.apply(this,(a[0]=f,a)),+i.apply(this,a)),u)return o=null,u+""||null}return u.source=function(t){return arguments.length?(n=t,u):n},u.target=function(t){return arguments.length?(e=t,u):e},u.x=function(t){return arguments.length?(r="function"===typeof t?t:ck(+t),u):r},u.y=function(t){return arguments.length?(i="function"===typeof t?t:ck(+t),u):i},u.context=function(t){return arguments.length?(o=null==t?null:t,u):o},u}function Wk(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function Qk(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function Kk(t,n,e,r,i){var o=Gk(n,e),u=Gk(n,e=(e+i)/2),a=Gk(r,e),c=Gk(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(u[0],u[1],a[0],a[1],c[0],c[1])}function Jk(){return Zk(Wk)}function tS(){return Zk(Qk)}function nS(){var t=Zk(Kk);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var eS={draw:function(t,n){var e=Math.sqrt(n/bk);t.moveTo(e,0),t.arc(0,0,e,0,mk)}},rS={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},iS=Math.sqrt(1/3),oS=2*iS,uS={draw:function(t,n){var e=Math.sqrt(n/oS),r=e*iS;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},aS=.8908130915292852,cS=Math.sin(bk/10)/Math.sin(7*bk/10),fS=Math.sin(mk/10)*cS,sS=-Math.cos(mk/10)*cS,lS={draw:function(t,n){var e=Math.sqrt(n*aS),r=fS*e,i=sS*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var u=mk*o/5,a=Math.cos(u),c=Math.sin(u);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},hS={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},dS=Math.sqrt(3),pS={draw:function(t,n){var e=-Math.sqrt(n/(3*dS));t.moveTo(0,2*e),t.lineTo(-dS*e,-e),t.lineTo(dS*e,-e),t.closePath()}},gS=-.5,vS=Math.sqrt(3)/2,bS=1/Math.sqrt(12),yS=3*(bS/2+1),mS={draw:function(t,n){var e=Math.sqrt(n/yS),r=e/2,i=e*bS,o=r,u=e*bS+e,a=-o,c=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(a,c),t.lineTo(gS*r-vS*i,vS*r+gS*i),t.lineTo(gS*o-vS*u,vS*o+gS*u),t.lineTo(gS*a-vS*c,vS*a+gS*c),t.lineTo(gS*r+vS*i,gS*i-vS*r),t.lineTo(gS*o+vS*u,gS*u-vS*o),t.lineTo(gS*a+vS*c,gS*c-vS*a),t.closePath()}},_S=[eS,rS,uS,hS,lS,pS,mS];function xS(){var t=ck(eS),n=ck(64),e=null;function r(){var r;if(e||(e=r=ku()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"===typeof n?n:ck(n),r):t},r.size=function(t){return arguments.length?(n="function"===typeof t?t:ck(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r}function wS(){}function MS(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function kS(t){this._context=t}function SS(t){return new kS(t)}function TS(t){this._context=t}function NS(t){return new TS(t)}function AS(t){this._context=t}function CS(t){return new AS(t)}function ES(t,n){this._basis=new kS(t),this._beta=n}kS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:MS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:MS(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},TS.prototype={areaStart:wS,areaEnd:wS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:MS(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},AS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:MS(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},ES.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0){var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;while(++c<=e)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a))}this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var PS=function t(n){function e(t){return 1===n?new kS(t):new ES(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function RS(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function zS(t,n){this._context=t,this._k=(1-n)/6}zS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:RS(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:RS(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var qS=function t(n){function e(t){return new zS(t,n)}return e.tension=function(n){return t(+n)},e}(0);function DS(t,n){this._context=t,this._k=(1-n)/6}DS.prototype={areaStart:wS,areaEnd:wS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:RS(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var IS=function t(n){function e(t){return new DS(t,n)}return e.tension=function(n){return t(+n)},e}(0);function US(t,n){this._context=t,this._k=(1-n)/6}US.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:RS(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var LS=function t(n){function e(t){return new US(t,n)}return e.tension=function(n){return t(+n)},e}(0);function BS(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>vk){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>vk){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*f+t._x1*t._l23_2a-n*t._l12_2a)/s,u=(u*f+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function OS(t,n){this._context=t,this._alpha=n}OS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:BS(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var jS=function t(n){function e(t){return n?new OS(t,n):new zS(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function FS(t,n){this._context=t,this._alpha=n}FS.prototype={areaStart:wS,areaEnd:wS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:BS(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var YS=function t(n){function e(t){return n?new FS(t,n):new DS(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function HS(t,n){this._context=t,this._alpha=n}HS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:BS(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var GS=function t(n){function e(t){return n?new HS(t,n):new US(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function XS(t){this._context=t}function VS(t){return new XS(t)}function $S(t){return t<0?-1:1}function ZS(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return($S(o)+$S(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function WS(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function QS(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function KS(t){this._context=t}function JS(t){this._context=new tT(t)}function tT(t){this._context=t}function nT(t){return new KS(t)}function eT(t){return new JS(t)}function rT(t){this._context=t}function iT(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function oT(t){return new rT(t)}function uT(t,n){this._context=t,this._t=n}function aT(t){return new uT(t,.5)}function cT(t){return new uT(t,0)}function fT(t){return new uT(t,1)}function sT(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function lT(t){var n=t.length,e=new Array(n);while(--n>=0)e[n]=n;return e}function hT(t,n){return t[n]}function dT(){var t=ck([]),n=lT,e=sT,r=hT;function i(i){var o,u,a=t.apply(this,arguments),c=i.length,f=a.length,s=new Array(f);for(o=0;o<f;++o){for(var l,h=a[o],d=s[o]=new Array(c),p=0;p<c;++p)d[p]=l=[0,+r(i[p],h,p,i)],l.data=i[p];d.key=h}for(o=0,u=n(s);o<f;++o)s[u[o]].index=o;return e(s,u),s}return i.keys=function(n){return arguments.length?(t="function"===typeof n?n:ck(Xk.call(n)),i):t},i.value=function(t){return arguments.length?(r="function"===typeof t?t:ck(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?lT:"function"===typeof t?t:ck(Xk.call(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?sT:t,i):e},i}function pT(t,n){if((r=t.length)>0){for(var e,r,i,o=0,u=t[0].length;o<u;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}sT(t,n)}}function gT(t,n){if((a=t.length)>0)for(var e,r,i,o,u,a,c=0,f=t[n[0]].length;c<f;++c)for(o=u=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=u,r[0]=u+=i):(r[0]=0,r[1]=i)}function vT(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var u=0,a=0;u<e;++u)a+=t[u][r][1]||0;i[r][1]+=i[r][0]=-a/2}sT(t,n)}}function bT(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,u=1;u<r;++u){for(var a=0,c=0,f=0;a<i;++a){for(var s=t[n[a]],l=s[u][1]||0,h=s[u-1][1]||0,d=(l-h)/2,p=0;p<a;++p){var g=t[n[p]],v=g[u][1]||0,b=g[u-1][1]||0;d+=v-b}c+=l,f+=d*l}e[u-1][1]+=e[u-1][0]=o,c&&(o-=f/c)}e[u-1][1]+=e[u-1][0]=o,sT(t,n)}}function yT(t){var n=t.map(mT);return lT(t).sort((function(t,e){return n[t]-n[e]}))}function mT(t){var n,e=-1,r=0,i=t.length,o=-1/0;while(++e<i)(n=+t[e][1])>o&&(o=n,r=e);return r}function _T(t){var n=t.map(xT);return lT(t).sort((function(t,e){return n[t]-n[e]}))}function xT(t){var n,e=0,r=-1,i=t.length;while(++r<i)(n=+t[r][1])&&(e+=n);return e}function wT(t){return _T(t).reverse()}function MT(t){var n,e,r=t.length,i=t.map(xT),o=yT(t),u=0,a=0,c=[],f=[];for(n=0;n<r;++n)e=o[n],u<a?(u+=i[e],c.push(e)):(a+=i[e],f.push(e));return f.reverse().concat(c)}function kT(t){return lT(t).reverse()}XS.prototype={areaStart:wS,areaEnd:wS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},KS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:QS(this,this._t0,WS(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,QS(this,WS(this,e=ZS(this,t,n)),e);break;default:QS(this,this._t0,e=ZS(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(JS.prototype=Object.create(KS.prototype)).point=function(t,n){KS.prototype.point.call(this,n,t)},tT.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},rT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=iT(t),i=iT(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},uT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}this._x=t,this._y=n}};var ST="%Y-%m-%dT%H:%M:%S.%LZ";function TT(t){return t.toISOString()}var NT=Date.prototype.toISOString?TT:N_(ST),AT=NT;function CT(t){var n=new Date(t);return isNaN(n)?null:n}var ET=+new Date("2000-01-01T00:00:00.000Z")?CT:A_(ST),PT=ET;function RT(t,n,e){var r=new Ur,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?Dr():+e,r.restart((function o(u){u+=i,r.restart(o,i+=n,e),t(u)}),n,e),r)}function zT(t){return function(){return t}}function qT(t){return t[0]}function DT(t){return t[1]}function IT(){this._=null}function UT(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function LT(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function BT(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function OT(t){while(t.L)t=t.L;return t}IT.prototype={constructor:IT,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){t=t.R;while(t.L)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=OT(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);n.L=n.R=null,n.U=e,n.C=!0,t=n;while(e&&e.C)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(LT(this,e),t=e,e=t.U),e.C=!1,r.C=!0,BT(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(BT(this,e),t=e,e=t.U),e.C=!1,r.C=!0,LT(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?OT(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if(n=i.R,n.C&&(n.C=!1,i.C=!0,LT(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,BT(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,LT(this,i),t=this._;break}}else if(n=i.L,n.C&&(n.C=!1,i.C=!0,BT(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,LT(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,BT(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var jT=IT;function FT(t,n,e,r){var i=[null,null],o=vN.push(i)-1;return i.left=t,i.right=n,e&&HT(i,t,n,e),r&&HT(i,n,t,r),pN[t.index].halfedges.push(o),pN[n.index].halfedges.push(o),i}function YT(t,n,e){var r=[n,e];return r.left=t,r}function HT(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function GT(t,n,e,r,i){var o,u=t[0],a=t[1],c=u[0],f=u[1],s=a[0],l=a[1],h=0,d=1,p=s-c,g=l-f;if(o=n-c,p||!(o>0)){if(o/=p,p<0){if(o<h)return;o<d&&(d=o)}else if(p>0){if(o>d)return;o>h&&(h=o)}if(o=r-c,p||!(o<0)){if(o/=p,p<0){if(o>d)return;o>h&&(h=o)}else if(p>0){if(o<h)return;o<d&&(d=o)}if(o=e-f,g||!(o>0)){if(o/=g,g<0){if(o<h)return;o<d&&(d=o)}else if(g>0){if(o>d)return;o>h&&(h=o)}if(o=i-f,g||!(o<0)){if(o/=g,g<0){if(o>d)return;o>h&&(h=o)}else if(g>0){if(o<h)return;o<d&&(d=o)}return!(h>0||d<1)||(h>0&&(t[0]=[c+h*p,f+h*g]),d<1&&(t[1]=[c+d*p,f+d*g]),!0)}}}}}function XT(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,c=t[0],f=t.left,s=t.right,l=f[0],h=f[1],d=s[0],p=s[1],g=(l+d)/2,v=(h+p)/2;if(p===h){if(g<n||g>=r)return;if(l>d){if(c){if(c[1]>=i)return}else c=[g,e];o=[g,i]}else{if(c){if(c[1]<e)return}else c=[g,i];o=[g,e]}}else if(u=(l-d)/(p-h),a=v-u*g,u<-1||u>1)if(l>d){if(c){if(c[1]>=i)return}else c=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(c){if(c[1]<e)return}else c=[(i-a)/u,i];o=[(e-a)/u,e]}else if(h<p){if(c){if(c[0]>=r)return}else c=[n,u*n+a];o=[r,u*r+a]}else{if(c){if(c[0]<n)return}else c=[r,u*r+a];o=[n,u*n+a]}return t[0]=c,t[1]=o,!0}function VT(t,n,e,r){var i,o=vN.length;while(o--)XT(i=vN[o],t,n,e,r)&&GT(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>bN||Math.abs(i[0][1]-i[1][1])>bN)||delete vN[o]}function $T(t){return pN[t.index]={site:t,halfedges:[]}}function ZT(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function WT(t,n){return n[+(n.left!==t.site)]}function QT(t,n){return n[+(n.left===t.site)]}function KT(){for(var t,n,e,r,i=0,o=pN.length;i<o;++i)if((t=pN[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=ZT(t,vN[n[e]]);for(u.sort((function(t,n){return a[n]-a[t]})),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}function JT(t,n,e,r){var i,o,u,a,c,f,s,l,h,d,p,g,v=pN.length,b=!0;for(i=0;i<v;++i)if(o=pN[i]){u=o.site,c=o.halfedges,a=c.length;while(a--)vN[c[a]]||c.splice(a,1);a=0,f=c.length;while(a<f)d=QT(o,vN[c[a]]),p=d[0],g=d[1],s=WT(o,vN[c[++a%f]]),l=s[0],h=s[1],(Math.abs(p-l)>bN||Math.abs(g-h)>bN)&&(c.splice(a,0,vN.push(YT(u,d,Math.abs(p-t)<bN&&r-g>bN?[t,Math.abs(l-t)<bN?h:r]:Math.abs(g-r)<bN&&e-p>bN?[Math.abs(h-r)<bN?l:e,r]:Math.abs(p-e)<bN&&g-n>bN?[e,Math.abs(l-e)<bN?h:n]:Math.abs(g-n)<bN&&p-t>bN?[Math.abs(h-n)<bN?l:t,n]:null))-1),++f);f&&(b=!1)}if(b){var y,m,_,x=1/0;for(i=0,b=null;i<v;++i)(o=pN[i])&&(u=o.site,y=u[0]-t,m=u[1]-n,_=y*y+m*m,_<x&&(x=_,b=o));if(b){var w=[t,n],M=[t,r],k=[e,r],S=[e,n];b.halfedges.push(vN.push(YT(u=b.site,w,M))-1,vN.push(YT(u,M,k))-1,vN.push(YT(u,k,S))-1,vN.push(YT(u,S,w))-1)}}for(i=0;i<v;++i)(o=pN[i])&&(o.halfedges.length||delete pN[i])}var tN,nN=[];function eN(){UT(this),this.x=this.y=this.arc=this.site=this.cy=null}function rN(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],c=r[0]-u,f=r[1]-a,s=o[0]-u,l=o[1]-a,h=2*(c*l-f*s);if(!(h>=-yN)){var d=c*c+f*f,p=s*s+l*l,g=(l*d-f*p)/h,v=(c*p-s*d)/h,b=nN.pop()||new eN;b.arc=t,b.site=i,b.x=g+u,b.y=(b.cy=v+a)+Math.sqrt(g*g+v*v),t.circle=b;var y=null,m=gN._;while(m)if(b.y<m.y||b.y===m.y&&b.x<=m.x){if(!m.L){y=m.P;break}m=m.L}else{if(!m.R){y=m;break}m=m.R}gN.insert(y,b),y||(tN=b)}}}}function iN(t){var n=t.circle;n&&(n.P||(tN=n.N),gN.remove(n),nN.push(n),UT(n),t.circle=null)}var oN=[];function uN(){UT(this),this.edge=this.site=this.circle=null}function aN(t){var n=oN.pop()||new uN;return n.site=t,n}function cN(t){iN(t),dN.remove(t),oN.push(t),UT(t)}function fN(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];cN(t);var c=o;while(c.circle&&Math.abs(e-c.circle.x)<bN&&Math.abs(r-c.circle.cy)<bN)o=c.P,a.unshift(c),cN(c),c=o;a.unshift(c),iN(c);var f=u;while(f.circle&&Math.abs(e-f.circle.x)<bN&&Math.abs(r-f.circle.cy)<bN)u=f.N,a.push(f),cN(f),f=u;a.push(f),iN(f);var s,l=a.length;for(s=1;s<l;++s)f=a[s],c=a[s-1],HT(f.edge,c.site,f.site,i);c=a[0],f=a[l-1],f.edge=FT(c.site,f.site,null,i),rN(c),rN(f)}function sN(t){var n,e,r,i,o=t[0],u=t[1],a=dN._;while(a)if(r=lN(a,u)-o,r>bN)a=a.L;else{if(i=o-hN(a,u),!(i>bN)){r>-bN?(n=a.P,e=a):i>-bN?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}$T(t);var c=aN(t);if(dN.insert(n,c),n||e){if(n===e)return iN(n),e=aN(n.site),dN.insert(c,e),c.edge=e.edge=FT(n.site,c.site),rN(n),void rN(e);if(e){iN(n),iN(e);var f=n.site,s=f[0],l=f[1],h=t[0]-s,d=t[1]-l,p=e.site,g=p[0]-s,v=p[1]-l,b=2*(h*v-d*g),y=h*h+d*d,m=g*g+v*v,_=[(v*y-d*m)/b+s,(h*m-g*y)/b+l];HT(e.edge,f,p,_),c.edge=FT(f,t,null,_),e.edge=FT(t,p,null,_),rN(n),rN(e)}else c.edge=FT(n.site,c.site)}}function lN(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;e=u.site;var a=e[0],c=e[1],f=c-n;if(!f)return a;var s=a-r,l=1/o-1/f,h=s/f;return l?(-h+Math.sqrt(h*h-2*l*(s*s/(-2*f)-c+f/2+i-o/2)))/l+r:(r+a)/2}function hN(t,n){var e=t.N;if(e)return lN(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var dN,pN,gN,vN,bN=1e-6,yN=1e-12;function mN(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function _N(t,n){return n[1]-t[1]||n[0]-t[0]}function xN(t,n){var e,r,i,o=t.sort(_N).pop();vN=[],pN=new Array(t.length),dN=new jT,gN=new jT;while(1)if(i=tN,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(sN(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;fN(i.arc)}if(KT(),n){var u=+n[0][0],a=+n[0][1],c=+n[1][0],f=+n[1][1];VT(u,a,c,f),JT(u,a,c,f)}this.edges=vN,this.cells=pN,dN=gN=vN=pN=null}function wN(){var t=qT,n=DT,e=null;function r(r){return new xN(r.map((function(e,i){var o=[Math.round(t(e,i,r)/bN)*bN,Math.round(n(e,i,r)/bN)*bN];return o.index=i,o.data=e,o})),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"===typeof n?n:zT(+n),r):t},r.y=function(t){return arguments.length?(n="function"===typeof t?t:zT(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r}function MN(t){return function(){return t}}function kN(t,n,e){this.target=t,this.type=n,this.transform=e}function SN(t,n,e){this.k=t,this.x=n,this.y=e}xN.prototype={constructor:xN,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return WT(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,r){if(o=(i=e.halfedges).length){var i,o,u,a=e.site,c=-1,f=n[i[o-1]],s=f.left===a?f.right:f.left;while(++c<o)u=s,f=n[i[c]],s=f.left===a?f.right:f.left,u&&s&&r<u.index&&r<s.index&&mN(a,u,s)<0&&t.push([a.data,u.data,s.data])}})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){var r,i,o=this,u=o._found||0,a=o.cells.length;while(!(i=o.cells[u]))if(++u>=a)return null;var c=t-i.site[0],f=n-i.site[1],s=c*c+f*f;do{i=o.cells[r=u],u=null,i.halfedges.forEach((function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var c=t-a[0],f=n-a[1],l=c*c+f*f;l<s&&(s=l,u=a.index)}}))}while(null!==u);return o._found=r,null==e||s<=e*e?i.site:null}},SN.prototype={constructor:SN,scale:function(t){return 1===t?this:new SN(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new SN(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var TN=new SN(1,0,0);function NN(t){while(!t.__zoom)if(!(t=t.parentNode))return TN;return t.__zoom}function AN(){Vn.stopImmediatePropagation()}function CN(){Vn.preventDefault(),Vn.stopImmediatePropagation()}function EN(){return!Vn.ctrlKey&&!Vn.button}function PN(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function RN(){return this.__zoom||TN}function zN(){return-Vn.deltaY*(1===Vn.deltaMode?.05:Vn.deltaMode?1:.002)}function qN(){return navigator.maxTouchPoints||"ontouchstart"in this}function DN(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function IN(){var t,n,e=EN,r=PN,i=DN,o=zN,u=qN,a=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,s=Ob,l=bt("start","zoom","end"),h=500,d=150,p=0;function g(t){t.property("__zoom",RN).on("wheel.zoom",w).on("mousedown.zoom",M).on("dblclick.zoom",k).filter(u).on("touchstart.zoom",S).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,n){return n=Math.max(a[0],Math.min(a[1],n)),n===t.k?t:new SN(n,t.x,t.y)}function b(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new SN(t.k,r,i)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function m(t,n,e){t.on("start.zoom",(function(){_(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=_(t,i),u=r.apply(t,i),a=null==e?y(u):"function"===typeof e?e.apply(t,i):e,c=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),f=t.__zoom,l="function"===typeof n?n.apply(t,i):n,h=s(f.invert(a).concat(c/f.k),l.invert(a).concat(c/l.k));return function(t){if(1===t)t=l;else{var n=h(t),e=c/n[2];t=new SN(e,a[0]-n[0]*e,a[1]-n[1]*e)}o.zoom(null,t)}}))}function _(t,n,e){return!e&&t.__zooming||new x(t,n)}function x(t,n){this.that=t,this.args=n,this.active=0,this.extent=r.apply(t,n),this.taps=0}function w(){if(e.apply(this,arguments)){var t=_(this,arguments),n=this.__zoom,r=Math.max(a[0],Math.min(a[1],n.k*Math.pow(2,o.apply(this,arguments)))),u=Mr(this);if(t.wheel)t.mouse[0][0]===u[0]&&t.mouse[0][1]===u[1]||(t.mouse[1]=n.invert(t.mouse[0]=u)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[u,n.invert(u)],oi(this),t.start()}CN(),t.wheel=setTimeout(f,d),t.zoom("mouse",i(b(v(n,r),t.mouse[0],t.mouse[1]),t.extent,c))}function f(){t.wheel=null,t.end()}}function M(){if(!n&&e.apply(this,arguments)){var t=_(this,arguments,!0),r=se(Vn.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",s,!0),o=Mr(this),u=Vn.clientX,a=Vn.clientY;de(Vn.view),AN(),t.mouse=[o,this.__zoom.invert(o)],oi(this),t.start()}function f(){if(CN(),!t.moved){var n=Vn.clientX-u,e=Vn.clientY-a;t.moved=n*n+e*e>p}t.zoom("mouse",i(b(t.that.__zoom,t.mouse[0]=Mr(t.that),t.mouse[1]),t.extent,c))}function s(){r.on("mousemove.zoom mouseup.zoom",null),pe(Vn.view,t.moved),CN(),t.end()}}function k(){if(e.apply(this,arguments)){var t=this.__zoom,n=Mr(this),o=t.invert(n),u=t.k*(Vn.shiftKey?.5:2),a=i(b(v(t,u),n,o),r.apply(this,arguments),c);CN(),f>0?se(this).transition().duration(f).call(m,a,n):se(this).call(g.transform,a)}}function S(){if(e.apply(this,arguments)){var n,r,i,o,u=Vn.touches,a=u.length,c=_(this,arguments,Vn.changedTouches.length===a);for(AN(),r=0;r<a;++r)i=u[r],o=wr(this,u,i.identifier),o=[o,this.__zoom.invert(o),i.identifier],c.touch0?c.touch1||c.touch0[2]===o[2]||(c.touch1=o,c.taps=0):(c.touch0=o,n=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(c.taps<2&&(t=setTimeout((function(){t=null}),h)),oi(this),c.start())}}function T(){if(this.__zooming){var n,e,r,o,u=_(this,arguments),a=Vn.changedTouches,f=a.length;for(CN(),t&&(t=clearTimeout(t)),u.taps=0,n=0;n<f;++n)e=a[n],r=wr(this,a,e.identifier),u.touch0&&u.touch0[2]===e.identifier?u.touch0[0]=r:u.touch1&&u.touch1[2]===e.identifier&&(u.touch1[0]=r);if(e=u.that.__zoom,u.touch1){var s=u.touch0[0],l=u.touch0[1],h=u.touch1[0],d=u.touch1[1],p=(p=h[0]-s[0])*p+(p=h[1]-s[1])*p,g=(g=d[0]-l[0])*g+(g=d[1]-l[1])*g;e=v(e,Math.sqrt(p/g)),r=[(s[0]+h[0])/2,(s[1]+h[1])/2],o=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!u.touch0)return;r=u.touch0[0],o=u.touch0[1]}u.zoom("touch",i(b(e,r,o),u.extent,c))}}function N(){if(this.__zooming){var t,e,r=_(this,arguments),i=Vn.changedTouches,o=i.length;for(AN(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),t=0;t<o;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var u=se(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return g.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",RN),t!==r?m(t,n,e):r.interrupt().each((function(){_(this,arguments).start().zoom(null,"function"===typeof n?n.apply(this,arguments):n).end()}))},g.scaleBy=function(t,n,e){g.scaleTo(t,(function(){var t=this.__zoom.k,e="function"===typeof n?n.apply(this,arguments):n;return t*e}),e)},g.scaleTo=function(t,n,e){g.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,u=null==e?y(t):"function"===typeof e?e.apply(this,arguments):e,a=o.invert(u),f="function"===typeof n?n.apply(this,arguments):n;return i(b(v(o,f),u,a),t,c)}),e)},g.translateBy=function(t,n,e){g.transform(t,(function(){return i(this.__zoom.translate("function"===typeof n?n.apply(this,arguments):n,"function"===typeof e?e.apply(this,arguments):e),r.apply(this,arguments),c)}))},g.translateTo=function(t,n,e,o){g.transform(t,(function(){var t=r.apply(this,arguments),u=this.__zoom,a=null==o?y(t):"function"===typeof o?o.apply(this,arguments):o;return i(TN.translate(a[0],a[1]).scale(u.k).translate("function"===typeof n?-n.apply(this,arguments):-n,"function"===typeof e?-e.apply(this,arguments):-e),t,c)}),o)},x.prototype={start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){ne(new kN(g,t,this.that.__zoom),l.apply,l,[t,this.that,this.args])}},g.wheelDelta=function(t){return arguments.length?(o="function"===typeof t?t:MN(+t),g):o},g.filter=function(t){return arguments.length?(e="function"===typeof t?t:MN(!!t),g):e},g.touchable=function(t){return arguments.length?(u="function"===typeof t?t:MN(!!t),g):u},g.extent=function(t){return arguments.length?(r="function"===typeof t?t:MN([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):r},g.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],g):[a[0],a[1]]},g.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(t){return arguments.length?(i=t,g):i},g.duration=function(t){return arguments.length?(f=+t,g):f},g.interpolate=function(t){return arguments.length?(s=t,g):s},g.on=function(){var t=l.on.apply(l,arguments);return t===l?g:t},g.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,g):Math.sqrt(p)},g}NN.prototype=SN.prototype}}]);
//# sourceMappingURL=report.17ba3a33.js.map