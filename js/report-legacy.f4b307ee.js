(self["webpackChunknirv"]=self["webpackChunknirv"]||[]).push([[983],{468:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return dt}});var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",{staticClass:"px-0 m-3",attrs:{fluid:""}},[t.store.participantMetrics?e("b-container",{staticClass:"px-0",attrs:{fluid:""}},[e("TheSidebar"),"study"===t.store.currentParticipant?e("ReportGroup"):e("ReportParticipant")],1):e("TheSpinner")],1)},i=[],u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-sidebar",{attrs:{id:"sidebar-backdrop",title:"Study overview","backdrop-variant":"dark",backdrop:"",lazy:"",shadow:"",visible:t.showSidebar}},[e("TheExplainer",{attrs:{"explainer-text":t.sidebarExplainerText}}),e("b-nav",{staticClass:"w-100",attrs:{vertical:"",pills:""}},[e("b-nav-item",{staticClass:"mx-1",attrs:{active:"study"===t.store.currentParticipant},on:{click:function(n){return t.store.selectParticipant("study")}}},[t._v(" "+t._s(t.store.studyId)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.store.sidebarFilter,expression:"store.sidebarFilter"}],staticClass:"m-1",attrs:{placeholder:"filter participants"},domProps:{value:t.store.sidebarFilter},on:{input:function(n){n.target.composing||t.$set(t.store,"sidebarFilter",n.target.value)}}}),t._l(t.store.filteredParticipants,(function(n){return e("b-nav-item",{key:n,staticClass:"mx-1",attrs:{active:n===t.store.currentParticipant},on:{click:function(e){return t.store.selectParticipant(n)}}},[t.store.participantRatings[n].reviewed?e("b-icon",{staticClass:"mr-2",attrs:{"align-self":"end",icon:"check-circle-fill",scale:"0.9",variant:"success"}}):e("b-icon",{staticClass:"mr-2",attrs:{icon:"circle",scale:"0.5",variant:"secondary"}}),t._v(" "+t._s(n)+" ")],1)}))],2)],1)},o=[],a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.collapseId&&t.questionId?e("b-container",{staticClass:"text-right"},[e("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.collapseId,expression:"collapseId"}],staticClass:"question-mark when-open",attrs:{id:t.closeId,icon:"x-circle",variant:"primary","aria-hidden":"true"}}),e("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.collapseId,expression:"collapseId"}],staticClass:"question-mark when-closed",attrs:{id:t.questionId,icon:"question-circle",variant:"primary","aria-hidden":"true"}}),e("b-collapse",{staticClass:"mb-2 text-left",attrs:{id:t.collapseId}},[e("b-card",[e("p",{staticClass:"card-text"},[t._v(t._s(t.explainerText))])])],1),e("b-tooltip",{attrs:{target:t.questionId,triggers:"hover"}},[t._v("learn more about this component")]),e("b-tooltip",{attrs:{target:t.closeId,triggers:"hover"}},[t._v("close the explainer")])],1):t._e()},c=[],f={name:"TheExplainer",data:function(){return{collapseId:null,questionId:null,closeId:null}},props:{explainerText:{type:String,default:"Here is a helpful description of this component!"}},mounted:function(){this.collapseId="collapse"+this._uid,this.questionId="question"+this._uid,this.closeId="close"+this._uid}},s=f,l=e(1001),h=(0,l.Z)(s,a,c,!1,null,"05b8cba8",null),d=h.exports,p=e(7833),v={name:"TheSidebar",components:{TheExplainer:d},setup:function(){var t=(0,p.n)(),n=!0,e="Select a participant below to see their report. Or select the study ID at the top to see a group summary. You can filter the participant list using the text input. You can close this sidebar by clicking on the 'x' in the top right or by simply clicking outside of the sidebar.";return{showSidebar:n,sidebarExplainerText:e,store:t}}},g=v,b=(0,l.Z)(g,u,o,!1,null,null,null),y=b.exports,m=e(8966),_=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",{staticClass:"px-0"},[e("TheTopbar",{attrs:{sidebarOn:"",isGroupReport:""}}),t.store.participantMetrics?e("b-container",{staticClass:"px-0 mx-0"},[e("TheExplainer",{attrs:{"explainer-text":t.explainerText.metrics}}),e("b-form-group",{staticClass:"text-left",attrs:{label:"Select scatterplot metrics"}},[e("b-form-checkbox-group",{attrs:{id:"checkbox-group-scatter",options:t.store.metricOptions,name:"scatter-metrics"},model:{value:t.scatterMetrics,callback:function(n){t.scatterMetrics=n},expression:"scatterMetrics"}})],1),e("ScatterplotMatrix",{attrs:{dataProp:t.groupReport.participants,metricsProp:t.scatterMetrics},on:{updateBrushedSubjects:t.updateBrushedParticipants,updateSelectedSubject:t.updateSelectedParticipant}}),e("b-form-group",{staticClass:"text-left",attrs:{label:"Select swarm plot metrics"}},[e("b-form-checkbox-group",{attrs:{id:"checkbox-group-swarm",options:t.store.metricOptions,name:"swarm-metrics"},model:{value:t.swarmMetrics,callback:function(n){t.swarmMetrics=n},expression:"swarmMetrics"}})],1),t.groupReport.participants.length>100?e("div",t._l(t.swarmMetrics,(function(n){return e("SwarmPlot",{key:n,attrs:{data:t.groupReport.participants,metric:n},on:{updateBrushedSubjects:t.updateBrushedParticipants,updateSelectedSubject:t.updateSelectedParticipant}})})),1):e("div",t._l(t.swarmMetrics,(function(n){return e("ViolinPlot",{key:n,attrs:{data:t.groupReport.participants,metric:n},on:{updateBrushedSubjects:t.updateBrushedParticipants,updateSelectedSubject:t.updateSelectedParticipant}})})),1),e("b-card",{staticClass:"text-left p-0 mb-5 mt-2",attrs:{footer:"This list scrolls left/right. Click on a participant ID to go to their report."},scopedSlots:t._u([{key:"header",fn:function(){return[e("b-row",{staticClass:"d-flex align-items-center"},[e("b-col",{staticClass:"text-left",attrs:{cols:"7"}},[e("h5",{staticClass:"m-0"},[t._v(" Selected subjects: "+t._s(t.store.brushedParticipants.length)+" ")])]),e("b-col",{staticClass:"text-right",attrs:{cols:"5"}},[e("b-button",{staticClass:"m-0",attrs:{id:"clipboard-button",variant:"outline-primary"},on:{click:function(n){return t.copyBrushedSubjectsToClipboard()}}},[e("b-icon",{staticClass:"p m-0",attrs:{icon:"clipboard","aria-hidden":"true"}})],1),e("b-tooltip",{attrs:{target:"clipboard-button",triggers:"hover"}},[t._v("copy subject list to clipboard")])],1)],1)]},proxy:!0}],null,!1,178338894)},[e("b-card-text",[e("b-nav",{staticClass:"pb-0 text-left brushed-subject-nav",attrs:{vertical:""}},t._l(t.store.brushedParticipants,(function(n){return e("b-nav-item",{key:n,on:{click:function(e){return t.updateSelectedParticipant(n)}}},[t._v(t._s(n))])})),1)],1)],1)],1):e("TheSpinner")],1)},x=[],w=e(3796),M=e(4367),k=(e(1539),e(9600),e(7327),e(2479),e(6699),e(2023),e(1249),e(5706)),S=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"scatterdiv"}},[e("svg",{ref:"chart",staticClass:"scatterplot-matrix",attrs:{id:"scattersvg"}})])},T=[];function N(t){if(Array.isArray(t))return t}e(2526),e(1817),e(2165),e(8783),e(3948);function A(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,u=[],o=!0,a=!1;try{for(e=e.call(t);!(o=(r=e.next()).done);o=!0)if(u.push(r.value),n&&u.length===n)break}catch(c){a=!0,i=c}finally{try{o||null==e["return"]||e["return"]()}finally{if(a)throw i}}return u}}var C=e(8936);e(1703);function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(t,n){return N(t)||A(t,n)||(0,C.Z)(t,n)||E()}e(7941),e(2222),e(4747);var R=e(9634),z={name:"ScatterplotMatrix",props:{dataProp:{type:Array},metricsProp:{type:Array}},data:function(){return{margin:{top:10,right:10,bottom:10,left:20},maxWidth:650,width:null,padding:20,radius:4,brushedSubjects:null,metrics:[],data:[],mounted:!1}},computed:{height:function(){return this.metrics.length?this.width:0},size:function(){return(this.width-(this.columns.length+1)*this.padding)/this.columns.length+this.padding},columns:function(){var t=this;return Object.keys(this.data[0]).filter((function(n){return t.metrics.includes(n)&&"number"===typeof t.data[0][n]}))},yAxis:function(){var t=this,n=R.axisLeft().ticks(6).tickSize(-this.size*this.columns.length),e=this;return function(r){return r.selectAll("g").data(t.y).join("g").attr("transform",(function(t,n){return"translate(0,".concat(n*e.size,")")})).each((function(t){return R.select(this).call(n.scale(t))})).call((function(t){return t.select(".domain").remove()})).call((function(t){return t.selectAll(".tick line").attr("stroke","#ddd")}))}},xAxis:function(){var t=this,n=R.axisBottom().ticks(6).tickSize(this.size*this.columns.length),e=this;return function(r){return r.selectAll("g").data(t.x).join("g").attr("transform",(function(t,n){return"translate(".concat(n*e.size,",0)")})).each((function(t){return R.select(this).call(n.scale(t))})).call((function(t){return t.select(".domain").remove()})).call((function(t){return t.selectAll(".tick line").attr("stroke","#ddd")}))}},x:function(){var t=this,n=this.padding+this.margin.left+this.margin.right;return this.columns.map((function(e){return R.scaleLinear().domain(R.extent(t.data,(function(t){return t[e]}))).rangeRound([n/2,t.size-n/2])}))},y:function(){var t=this.padding+this.margin.top+this.margin.top,n=this;return this.x.map((function(e){return e.copy().range([n.size-t/2,t/2])}))}},watch:{brushedSubjects:{deep:!0,handler:function(){this.$emit("updateBrushedSubjects",{metric:"scatterplotMatrix",brushed:this.brushedSubjects})}},metricsProp:{deep:!0,immediate:!0,handler:function(){this.metricsProp&&(this.metrics=this.metricsProp,this.mounted&&this.createChart())}},dataProp:{deep:!0,immediate:!0,handler:function(){this.dataProp&&(this.data=this.dataProp)}}},mounted:function(){this.width=Math.min(this.$refs.chart.clientWidth,this.maxWidth),this.brushedSubjects=null,this.createChart(),this.mounted=!0},methods:{createChart:function(){R.selection.prototype.moveToFront=function(){return this.each((function(){this.parentNode.appendChild(this)}))},R.selection.prototype.moveToBack=function(){return this.each((function(){var t=this.parentNode.firstChild;t&&this.parentNode.insertBefore(this,t)}))},R.select("#scatterdiv").append("div").attr("id","scattertooltip").attr("style","position: absolute; background-color: white; display: none; padding: 2px; border: 1px solid black; border-radius: 5px;"),R.selectAll("#scattersvg > *").remove();var t=R.select("#scattersvg").attr("width",this.width).attr("height",this.height).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");t.append("style").text("circle.hidden { fill: #000; fill-opacity: 1; r: ".concat(this.radius/3,"; }")),t.append("g").call(this.xAxis),t.append("g").call(this.yAxis);var n=this,e=t.append("g").selectAll("g").data(R.cross(R.range(this.columns.length),R.range(this.columns.length))).join("g").attr("transform",(function(t){var e=P(t,2),r=e[0],i=e[1];return"translate(".concat(r*n.size,",").concat(i*n.size,")")}));e.append("rect").attr("fill","none").attr("stroke","#aaa").attr("x",this.padding/2+.5).attr("y",this.padding/2+.5).attr("width",this.size-this.padding).attr("height",this.size-this.padding),e.each((function(t){var e=P(t,2),r=e[0],i=e[1];R.select(this).selectAll("circle").data(n.data.filter((function(t){return!isNaN(t[n.columns[r]])&&!isNaN(t[n.columns[i]])}))).join("circle").attr("cx",(function(t){return n.x[r](t[n.columns[r]])})).attr("cy",(function(t){return n.y[i](t[n.columns[i]])}))})),e.call(this.brush);var r=e.selectAll("circle").attr("r",this.radius).attr("fill-opacity",.7).attr("fill","blue").style("cursor","pointer").on("mouseover",(function(t){R.select(R.event.currentTarget).transition().duration(100).attr("r",2*n.radius),R.select("#scattertooltip").transition().duration(200).style("display","initial").text(t.participant_session_id)})).on("mouseout",(function(){R.select(R.event.currentTarget).transition().duration(100).attr("r",n.radius),R.select("#scattertooltip").style("display","none")})).on("mousemove",(function(){R.select("#scattertooltip").style("left",R.event.pageX+10+"px").style("top",R.event.pageY+10+"px")})).on("click",(function(t){n.$emit("updateSelectedSubject",t.participant_session_id)}));return r.moveToFront(),t.append("g").style("font","bold 10px sans-serif").style("pointer-events","none").selectAll("text").data(this.columns).join("text").attr("transform",(function(t,e){return"translate(".concat(e*n.size,",").concat(e*n.size,")")})).attr("x",this.padding).attr("y",this.padding).attr("dy",".71em").attr("font-size","1.5em").text((function(t){return t})),t.node()},brush:function(t){var n,e=t.selectAll("circle"),r=this,i=R.brush().extent([[this.padding/2,this.padding/2],[this.size-this.padding/2,this.size-this.padding/2]]).on("start",u).on("brush",o).on("end",a);function u(){n!==this&&(R.select(n).call(i.move,null),n=this)}function o(t){var n=P(t,2),i=n[0],u=n[1];if(null!==R.event.selection){var o=P(R.event.selection,2),a=P(o[0],2),c=a[0],f=a[1],s=P(o[1],2),l=s[0],h=s[1];e.classed("hidden",(function(t){return c>r.x[i](t[r.columns[i]])||l<r.x[i](t[r.columns[i]])||f>r.y[u](t[r.columns[u]])||h<r.y[u](t[r.columns[u]])})),r.brushedSubjects=r.data.filter((function(t){return r.x[i](t[r.columns[i]])>=c&&r.x[i](t[r.columns[i]])<=l&&r.y[u](t[r.columns[u]])>=f&&r.y[u](t[r.columns[u]])<=h})).map((function(t){return t.participant_session_id}))}}function a(){null===R.event.selection&&(e.classed("hidden",!1),r.brushedSubjects=null)}t.call(i)},handleResize:function(){var t=this;this.width=Math.min(this.$refs.chart.clientWidth,this.$refs.chart.clientHeight);var n=R.select("#scattersvg").attr("width",this.width-this.margin.left-this.margin.right);this.x.forEach((function(n){return n.range([0,t.width-t.margin.left-t.margin.right])}));var e=this;n.selectAll("rect").attr("x",(function(t){return e.x(t.i)})).attr("width",this.x.bandwidth())}}},q=z,D=(0,l.Z)(q,S,T,!1,null,"1fb309f8",null),I=D.exports,U=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-button-toolbar",{staticClass:"sticky-top ml-2"},[e("b-button-group",[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-backdrop",modifiers:{"sidebar-backdrop":!0}}],staticClass:"mb-2 header-button",attrs:{id:"sidebar-button",variant:"outline-primary"}},[e("b-icon",{attrs:{icon:"layout-sidebar","aria-hidden":"true"}})],1),e("b-button",{staticClass:"mb-2 header-button",attrs:{id:"refresh-report",variant:"outline-primary"},on:{click:t.refreshReport}},[e("b-icon",{attrs:{icon:"arrow-clockwise","aria-hidden":"true"}})],1),e("b-button",{staticClass:"mb-2 header-button",attrs:{id:"download-button",variant:"outline-primary"},on:{click:t.downloadReport}},[e("b-icon",{attrs:{icon:"download","aria-hidden":"true"}})],1),t.isGroupReport?t._e():e("b-button",{staticClass:"mb-2 header-button",attrs:{id:"stats-button",variant:"outline-primary"}},[e("b-icon",{attrs:{icon:"bar-chart","aria-hidden":"true"}})],1),t.isGroupReport?t._e():e("b-popover",{attrs:{target:"stats-button",placement:"bottom",triggers:"click"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.subjectId))]},proxy:!0}],null,!1,3138654337)},[t._v(" Here are distributions of some key QC metrics ")]),t.isGroupReport?t._e():e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.ratingmodal",modifiers:{ratingmodal:!0}}],staticClass:"mb-2 header-button",attrs:{id:"rating-button",variant:"outline-primary"}},[e("b-iconstack",[e("b-icon",{attrs:{stacked:"",icon:"check-circle",scale:"0.75","shift-v":"6","shift-h":"-6","aria-hidden":"true"}}),e("b-icon",{attrs:{stacked:"",icon:"slash",scale:"1.5","aria-hidden":"true"}}),e("b-icon",{attrs:{stacked:"",icon:"x-circle",scale:"0.75","shift-v":"-6","shift-h":"6","aria-hidden":"true"}})],1)],1),t.isGroupReport?t._e():e("b-modal",{ref:"ratingmodal",attrs:{id:"ratingmodal",title:t.subjectId},on:{ok:t.onModalOk,hidden:t.handleHidden}},[e("div",{staticClass:"mb-2"},[t._v("Rate this subject:")]),t.store.participantRatings[t.store.currentParticipant]?e("b-form",{ref:"form",on:{submit:function(n){return n.stopPropagation(),n.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("b-form-group",{attrs:{id:"input-group-overall","label-for":"overall-rating",description:"Rate the overall image quality.","invalid-feedback":"rating required",state:null!=t.store.participantRatings[t.store.currentParticipant].rating}},[e("b-form-radio-group",{attrs:{id:"overall-rating",options:t.ratingOptions,"button-variant":"outline-primary",size:"md",buttons:""},model:{value:t.store.participantRatings[t.store.currentParticipant].rating,callback:function(n){t.$set(t.store.participantRatings[t.store.currentParticipant],"rating",n)},expression:"\n              store.participantRatings[store.currentParticipant].rating\n            "}})],1)],1):t._e()],1),e("b-button",{staticClass:"mb-2 header-button",attrs:{id:"next-subject-button",variant:"outline-primary"},on:{click:t.store.nextParticipant}},[e("b-icon",{attrs:{icon:"arrow-right-circle","aria-hidden":"true"}})],1),e("b-dropdown",{staticClass:"mb-2 header-button",attrs:{variant:"outline-primary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("b-icon",{attrs:{icon:"three-dots",id:"more-button","aria-hidden":"true"}})]},proxy:!0}])},[e("b-dropdown-item-button",{attrs:{id:"download-csv",variant:"outline-primary"},on:{click:function(n){return t.store.downloadRatings()}}},[e("b-iconstack",{staticClass:"mr-3",attrs:{"aria-hidden":"true"}},[e("b-icon",{attrs:{stacked:"",icon:"download","shift-h":"-10",variant:"outline-primary"}}),e("b-icon",{attrs:{stacked:"",icon:"list-check","shift-h":"7",variant:"outline-primary"}})],1),t._v(" download ratings csv ")],1),e("b-dropdown-item-button",{directives:[{name:"b-modal",rawName:"v-b-modal.csv-upload-modal",modifiers:{"csv-upload-modal":!0}}],attrs:{id:"upload-csv",variant:"outline-primary"}},[e("b-iconstack",{staticClass:"mr-3",attrs:{"aria-hidden":"true"}},[e("b-icon",{attrs:{stacked:"",icon:"upload","shift-h":"-10",variant:"outline-primary"}}),e("b-icon",{attrs:{stacked:"",icon:"list-check","shift-h":"7",variant:"outline-primary"}})],1),t._v(" upload ratings csv ")],1),e("b-dropdown-item-button",{attrs:{id:"file-issue",variant:"outline-primary",onclick:"window.open('https://github.com/ni-report-viewer/nirv/issues/new','_blank')"}},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"bug","aria-hidden":"true"}}),t._v(" file bug report ")],1)],1)],1),e("b-modal",{ref:"csv-upload-modal",attrs:{id:"csv-upload-modal",title:"Upload a ratings csv file"},on:{ok:t.onCsvUploadOk}},[e("b-form-group",{staticClass:"mt-5 text-left",attrs:{label:"Choose a previously downloaded ratings.csv file."}},[e("b-form-file",{attrs:{state:Boolean(t.ratingsCsvFile),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.ratingsCsvFile,callback:function(n){t.ratingsCsvFile=n},expression:"ratingsCsvFile"}})],1)],1),e("b-tooltip",{attrs:{target:"sidebar-button",triggers:"hover"}},[t._v("toggle sidebar")]),e("b-tooltip",{attrs:{target:"download-button",triggers:"hover"}},[t._v("download this report html file")]),t.isGroupReport?t._e():e("b-tooltip",{attrs:{target:"stats-button",triggers:"hover"}},[t._v("show QC summary stats")]),t.isGroupReport?t._e():e("b-tooltip",{attrs:{target:"rating-button",triggers:"hover"}},[t._v("rate this subject")]),e("b-tooltip",{attrs:{target:"next-subject-button",triggers:"hover"}},[t._v("view the next subject")]),e("b-tooltip",{attrs:{target:"more-button",triggers:"hover"}},[t._v("more options")])],1)},L=[],B=(e(9714),e(44),e(5108)),O={name:"TheTopBar",props:{report:{type:Object},isGroupReport:{type:Boolean,default:!1}},setup:function(t){var n,e=(0,p.n)(),r=(0,k.iH)(),i=function(){e.readRatingsCsv(r)},u=(null===(n=t.report)||void 0===n?void 0:n.subject_id)||"loading...",o=[{text:"Definitely Fail",value:"-2"},{text:"Probably Fail",value:"-1"},{text:"Not Sure",value:"0"},{text:"Probably Pass",value:"1"},{text:"Definitely Pass",value:"2"}],a=function(){B.log("Download is not yet implemented!")},c=function(){document.getElementById("report-iframe").contentWindow.location.reload()},f=function(){return null!=e.participantRatings[e.currentParticipant].rating},s=function(){f()||e.resetPartialRating()},l=function(){f()&&(e.participantRatings[e.currentParticipant].whenRated=(new Date).toString(),e.participantRatings[e.currentParticipant].reviewed=!0,(0,k.Y3)().then((function(){d.value.hide()})))},h=function(t){t.preventDefault(),l()},d=(0,k.iH)(null);return{store:e,ratingsCsvFile:r,onCsvUploadOk:i,ratingOptions:o,subjectId:u,handleHidden:s,handleSubmit:l,ratingmodal:d,downloadReport:a,refreshReport:c,onModalOk:h}}},j=O,F=(0,l.Z)(j,U,L,!1,null,"c5522aee",null),Y=F.exports,H=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:t.divId}},[e("h6",{staticClass:"m-0 p-0 text-left"},[t._v(t._s(t.metric))]),e("svg",{ref:"chart",staticClass:"violin-plot",attrs:{id:t.svgId}})])},G=[],X=e(2032),V=e(8932),Z=(e(2707),e(9634)),$={name:"violinPlot",props:{data:{type:Array},metric:{type:String}},data:function(){return{margin:{top:10,right:10,bottom:20,left:10},width:null,height:250,radius:5,brushedSubjects:null,hoveredSubject:null,brushObject:null,histogram:null,bins:null,maxNum:null,yNum:null}},computed:{boxHeight:function(){return this.height/6},center:function(){return this.height/2-this.margin.bottom},padding:function(){return.1*this.radius},svgId:function(){return"violinsvg-"+this.metric},divId:function(){return"violindiv-"+this.metric},tooltipId:function(){return"tooltip-"+this.metric},x:function(){var t=this;return Z.scaleLinear().domain(Z.extent(this.data,(function(n){return n[t.metric]}))).range([this.margin.left,this.width-this.margin.right])},dodgedData:function(){return this.dodge(this.data,2*this.radius+this.padding)},boxPlotInfo:function(){var t=this,n=this.data.map((function(n){return n[t.metric]})).sort(Z.ascending),e=Z.quantile(n,.25),r=Z.quantile(n,.5),i=Z.quantile(n,.75),u=i-e;return{q1:e,median:r,q3:i,interQuantileRange:u,min:e-1.5*u,max:e+1.5*u}}},watch:{brushedSubjects:{deep:!0,handler:function(){this.$emit("updateBrushedSubjects",{metric:this.metric,brushed:this.brushedSubjects})}}},mounted:function(){this.width=this.$refs.chart.clientWidth,this.brushedSubjects=null;var t=this.getHighestPoint();while(t<this.margin.top)this.radius=this.radius-.1,this.radius<3&&(this.radius=5,this.height=this.height+50),t=this.getHighestPoint();this.createChart()},methods:{getHighestPoint:function(){return this.height-this.boxHeight-this.margin.bottom-this.margin.top-this.radius-this.padding-Math.max.apply(Math,(0,V.Z)(this.dodgedData.map((function(t){return t.y}))))},dodge:function(t,n){var e=this,r=Math.pow(n,2),i=t.map((function(t){return{x:e.x(t[e.metric]),data:t}})).sort((function(t,n){return t.x-n.x})),u=.001,o=null,a=null;function c(t,n){var e=o;while(e){if(r-u>Math.pow(e.x-t,2)+Math.pow(e.y-n,2))return!0;e=e.next}return!1}var f,s=(0,X.Z)(i);try{for(s.s();!(f=s.n()).done;){var l=f.value;while(o&&o.x<l.x-r)o=o.next;if(c(l.x,l.y=0)){var h=o;l.y=1/0;do{var d=h.y+Math.sqrt(r-Math.pow(h.x-l.x,2));d<l.y&&!c(l.x,d)&&(l.y=d),h=h.next}while(h)}l.next=null,null===o?o=a=l:a=a.next=l}}catch(p){s.e(p)}finally{s.f()}return i},createChart:function(){var t=this;Z.select("#"+this.divId).append("div").attr("id",this.tooltipId).attr("style","position: absolute; background-color: white; display: none; padding: 2px; border: 1px solid black; border-radius: 5px;");var n=Z.select("#"+this.svgId).attr("viewBox",[0,0,this.width,this.height]);n.append("style").text("circle.hidden { fill: #000; fill-opacity: 1; r: ".concat(this.radius/2,"; }"));var e=this,r=this.x,i=function(t){return t.attr("transform","translate(0,".concat(e.height-e.margin.bottom,")")).call(Z.axisBottom(r).tickSizeOuter(0))};n.append("g").call(i);var u=Z.brushX().extent([[this.margin.left,this.margin.top],[this.width-this.margin.right,this.height-this.margin.bottom]]).on("brush",o).on("end",a);function o(){if(null!==Z.event.selection){var t=Z.selectAll("#"+e.svgId+" circle"),n=P(Z.event.selection,2),r=n[0],i=n[1];t.classed("hidden",(function(t){return r>t.x||i<t.x})),e.brushedSubjects=e.data.filter((function(t){return e.x(t[e.metric])>=r&&e.x(t[e.metric])<=i})).map((function(t){return t.participant_session_id}))}}function a(){if(null===Z.event.selection){var t=Z.selectAll("#"+e.svgId+" circle");t.classed("hidden",!1),e.brushedSubjects=null}}n.call(u);var c=Z.scaleSequential().interpolator(Z.interpolateCool).domain(r.domain());n.append("g").selectAll("circle").data(this.dodgedData).join("circle").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return e.height-e.boxHeight-e.margin.bottom-e.margin.top-e.radius-e.padding-t.y})).attr("r",this.radius).style("fill",(function(t){return c(t.data[e.metric])})).style("cursor","pointer").attr("stroke","white").on("mouseover",(function(n){e.hoveredSubject=n.data.participant_session_id,Z.select(Z.event.currentTarget).transition().duration(100).attr("r",1.5*e.radius),Z.select("#"+t.tooltipId).transition().duration(200).style("display","initial").text(n.data.participant_session_id)})).on("mouseout",(function(){e.hoveredSubject=null,Z.select(Z.event.currentTarget).transition().duration(100).attr("r",e.radius),Z.select("#"+t.tooltipId).style("display","none")})).on("mousemove",(function(){Z.select("#"+t.tooltipId).style("left",Z.event.pageX+10+"px").style("top",Z.event.pageY+10+"px")})).on("click",(function(t){e.$emit("updateSelectedSubject",t.data.participant_session_id)})),n.append("line").attr("x1",r(this.boxPlotInfo.min)).attr("x2",r(this.boxPlotInfo.max)).attr("y1",this.height-this.margin.bottom-this.padding-this.radius-this.boxHeight/2).attr("y2",this.height-this.margin.bottom-this.padding-this.radius-this.boxHeight/2).attr("stroke","black").attr("stroke-width",2),n.append("rect").attr("y",this.height-this.margin.bottom-this.boxHeight-this.padding-this.radius).attr("x",r(this.boxPlotInfo.q1)).attr("width",r(this.boxPlotInfo.q3)-r(this.boxPlotInfo.q1)).attr("height",this.boxHeight).attr("stroke","none").style("fill","grey"),n.selectAll("toto").data([this.boxPlotInfo.min,this.boxPlotInfo.median,this.boxPlotInfo.max]).enter().append("line").attr("y1",this.height-this.margin.bottom-this.boxHeight-this.padding-this.radius).attr("y2",this.height-this.margin.bottom-this.padding-this.radius).attr("x1",(function(t){return r(t)})).attr("x2",(function(t){return r(t)})).attr("stroke","black").attr("stroke-width",2)}}},W=$,Q=(0,l.Z)(W,H,G,!1,null,"1927d316",null),K=Q.exports,J={name:"ReportGroup",components:{TheExplainer:d,ScatterplotMatrix:I,TheSpinner:m.Z,TheTopbar:Y,SwarmPlot:K,ViolinPlot:K},setup:function(){var t=(0,p.n)(),n=(0,k.iH)([]),e=(0,k.iH)([]),r=function(n){t.selectParticipant(n)},i={participants:t.participantMetrics},u={metrics:"TODO: explainer text for metrics"},o=t.metricOptions.reduce((function(t,n){return(0,M.Z)((0,M.Z)({},t),{},(0,w.Z)({},n,null))}),{});o.scatterplotMatrix=null;var a=function(){navigator.clipboard.writeText(t.brushedParticipants.join())},c=function(n){o[n.metric]=n.brushed;var e=Object.values(o).filter((function(t){return null!==t}));t.brushedParticipants=e.length?e.reduce((function(t,n){return t.filter((function(t){return n.includes(t)}))}),t.participantMetrics.map((function(t){return t.participant_session_id}))):[]};return{store:t,groupReport:i,updateSelectedParticipant:r,updateBrushedParticipants:c,scatterMetrics:n,swarmMetrics:e,explainerText:u,copyBrushedSubjectsToClipboard:a}}},tt=J,nt=(0,l.Z)(tt,_,x,!1,null,"b2228fe0",null),et=nt.exports,rt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",{staticClass:"px-0 d-flex flex-column"},[e("TheTopbar"),t.store.currentHtml?e("b-container",{staticClass:"px-0 mx-0 d-flex flex-column flex-grow-1"},[e("h1",[t._v(t._s(t.store.currentParticipant))]),e("b-container",{staticClass:"d-flex flex-column flex-grow-1 w-100 px-0 mx-0",attrs:{fluid:"lg"}},[e("iframe",{staticClass:"w-100 flex-grow-1 px-0 mx-0",staticStyle:{height:"70vh"},attrs:{id:"report-iframe",srcdoc:t.store.currentHtml,fetchpriority:"high"}})])],1):e("TheSpinner")],1)},it=[],ut=e(6198),ot=(e(5666),{name:"ReportParticipant",components:{TheTopbar:Y,TheSpinner:m.Z},setup:function(){var t=(0,p.n)(),n=function(){var n=(0,ut.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.currentParticipantHtml();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{store:t,currentParticipantHtml:n}}}),at=ot,ct=(0,l.Z)(at,rt,it,!1,null,"5218ae0e",null),ft=ct.exports,st={name:"ReportView",components:{ReportGroup:et,ReportParticipant:ft,TheSpinner:m.Z,TheSidebar:y},setup:function(){var t=(0,p.n)(),n=t.participantRatings[t.selectedParticipant];return{store:t,selectedRating:n}}},lt=st,ht=(0,l.Z)(lt,r,i,!1,null,"146672fa",null),dt=ht.exports},4706:function(t,n,e){var r=e(6916),i=e(2597),u=e(7976),o=e(7066),a=RegExp.prototype;t.exports=function(t){var n=t.flags;return void 0!==n||"flags"in a||i(t,"flags")||!u(a,t)?n:r(o,t)}},2222:function(t,n,e){"use strict";var r=e(2109),i=e(7854),u=e(7293),o=e(3157),a=e(111),c=e(7908),f=e(6244),s=e(6135),l=e(5417),h=e(1194),d=e(5112),p=e(7392),v=d("isConcatSpreadable"),g=9007199254740991,b="Maximum allowed index exceeded",y=i.TypeError,m=p>=51||!u((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),_=h("concat"),x=function(t){if(!a(t))return!1;var n=t[v];return void 0!==n?!!n:o(t)},w=!m||!_;r({target:"Array",proto:!0,forced:w},{concat:function(t){var n,e,r,i,u,o=c(this),a=l(o,0),h=0;for(n=-1,r=arguments.length;n<r;n++)if(u=-1===n?o:arguments[n],x(u)){if(i=f(u),h+i>g)throw y(b);for(e=0;e<i;e++,h++)e in u&&s(a,h,u[e])}else{if(h>=g)throw y(b);s(a,h++,u)}return a.length=h,a}})},9714:function(t,n,e){"use strict";var r=e(6530).PROPER,i=e(1320),u=e(9670),o=e(1340),a=e(7293),c=e(4706),f="toString",s=RegExp.prototype,l=s[f],h=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=r&&l.name!=f;(h||d)&&i(RegExp.prototype,f,(function(){var t=u(this),n=o(t.source),e=o(c(t));return"/"+n+"/"+e}),{unsafe:!0})},9634:function(t,n,e){"use strict";e.r(n),e.d(n,{FormatSpecifier:function(){return Es},active:function(){return Eu},arc:function(){return Ck},area:function(){return Dk},areaRadial:function(){return Hk},ascending:function(){return i},autoType:function(){return Nc},axisBottom:function(){return ft},axisLeft:function(){return st},axisRight:function(){return ct},axisTop:function(){return at},bisect:function(){return s},bisectLeft:function(){return f},bisectRight:function(){return c},bisector:function(){return u},blob:function(){return _f},brush:function(){return uo},brushSelection:function(){return eo},brushX:function(){return ro},brushY:function(){return io},buffer:function(){return wf},chord:function(){return vo},clientPoint:function(){return xr},cluster:function(){return hg},color:function(){return qe},contourDensity:function(){return Ga},contours:function(){return Ba},create:function(){return ek},creator:function(){return In},cross:function(){return d},csv:function(){return Nf},csvFormat:function(){return pc},csvFormatBody:function(){return vc},csvFormatRow:function(){return bc},csvFormatRows:function(){return gc},csvFormatValue:function(){return yc},csvParse:function(){return hc},csvParseRows:function(){return dc},cubehelix:function(){return Sa},curveBasis:function(){return SS},curveBasisClosed:function(){return NS},curveBasisOpen:function(){return CS},curveBundle:function(){return PS},curveCardinal:function(){return qS},curveCardinalClosed:function(){return IS},curveCardinalOpen:function(){return LS},curveCatmullRom:function(){return jS},curveCatmullRomClosed:function(){return YS},curveCatmullRomOpen:function(){return GS},curveLinear:function(){return Pk},curveLinearClosed:function(){return VS},curveMonotoneX:function(){return nT},curveMonotoneY:function(){return eT},curveNatural:function(){return uT},curveStep:function(){return aT},curveStepAfter:function(){return fT},curveStepBefore:function(){return cT},customEvent:function(){return ne},descending:function(){return p},deviation:function(){return b},dispatch:function(){return bt},drag:function(){return Ka},dragDisable:function(){return de},dragEnable:function(){return pe},dsv:function(){return Tf},dsvFormat:function(){return sc},easeBack:function(){return hf},easeBackIn:function(){return sf},easeBackInOut:function(){return hf},easeBackOut:function(){return lf},easeBounce:function(){return af},easeBounceIn:function(){return of},easeBounceInOut:function(){return cf},easeBounceOut:function(){return af},easeCircle:function(){return Zc},easeCircleIn:function(){return Xc},easeCircleInOut:function(){return Zc},easeCircleOut:function(){return Vc},easeCubic:function(){return Su},easeCubicIn:function(){return Mu},easeCubicInOut:function(){return Su},easeCubicOut:function(){return ku},easeElastic:function(){return bf},easeElasticIn:function(){return gf},easeElasticInOut:function(){return yf},easeElasticOut:function(){return bf},easeExp:function(){return Gc},easeExpIn:function(){return Yc},easeExpInOut:function(){return Gc},easeExpOut:function(){return Hc},easeLinear:function(){return Cc},easePoly:function(){return Ic},easePolyIn:function(){return qc},easePolyInOut:function(){return Ic},easePolyOut:function(){return Dc},easeQuad:function(){return Rc},easeQuadIn:function(){return Ec},easeQuadInOut:function(){return Rc},easeQuadOut:function(){return Pc},easeSin:function(){return jc},easeSinIn:function(){return Bc},easeSinInOut:function(){return jc},easeSinOut:function(){return Oc},entries:function(){return Xo},event:function(){return Vn},extent:function(){return y},forceCenter:function(){return If},forceCollide:function(){return fs},forceLink:function(){return hs},forceManyBody:function(){return ys},forceRadial:function(){return ms},forceSimulation:function(){return bs},forceX:function(){return _s},forceY:function(){return xs},format:function(){return Us},formatDefaultLocale:function(){return Fs},formatLocale:function(){return js},formatPrefix:function(){return Ls},formatSpecifier:function(){return Cs},geoAlbers:function(){return xv},geoAlbersUsa:function(){return Mv},geoArea:function(){return Ll},geoAzimuthalEqualArea:function(){return Nv},geoAzimuthalEqualAreaRaw:function(){return Tv},geoAzimuthalEquidistant:function(){return Cv},geoAzimuthalEquidistantRaw:function(){return Av},geoBounds:function(){return Eh},geoCentroid:function(){return Fh},geoCircle:function(){return Jh},geoClipAntimeridian:function(){return ld},geoClipCircle:function(){return vd},geoClipExtent:function(){return _d},geoClipRectangle:function(){return md},geoConicConformal:function(){return Dv},geoConicConformalRaw:function(){return qv},geoConicEqualArea:function(){return _v},geoConicEqualAreaRaw:function(){return mv},geoConicEquidistant:function(){return Bv},geoConicEquidistantRaw:function(){return Lv},geoContains:function(){return Fd},geoDistance:function(){return zd},geoEqualEarth:function(){return Vv},geoEqualEarthRaw:function(){return Xv},geoEquirectangular:function(){return Uv},geoEquirectangularRaw:function(){return Iv},geoGnomonic:function(){return $v},geoGnomonicRaw:function(){return Zv},geoGraticule:function(){return Gd},geoGraticule10:function(){return Xd},geoIdentity:function(){return Wv},geoInterpolate:function(){return Vd},geoLength:function(){return Ed},geoMercator:function(){return Pv},geoMercatorRaw:function(){return Ev},geoNaturalEarth1:function(){return Kv},geoNaturalEarth1Raw:function(){return Qv},geoOrthographic:function(){return tg},geoOrthographicRaw:function(){return Jv},geoPath:function(){return Qp},geoProjection:function(){return vv},geoProjectionMutator:function(){return gv},geoRotation:function(){return Wh},geoStereographic:function(){return eg},geoStereographicRaw:function(){return ng},geoStream:function(){return Sl},geoTransform:function(){return Kp},geoTransverseMercator:function(){return ig},geoTransverseMercatorRaw:function(){return rg},gray:function(){return ia},hcl:function(){return da},hierarchy:function(){return Tg},histogram:function(){return R},hsl:function(){return Ge},html:function(){return qf},image:function(){return Cf},interpolate:function(){return mr},interpolateArray:function(){return fr},interpolateBasis:function(){return $e},interpolateBasisClosed:function(){return We},interpolateBlues:function(){return CM},interpolateBrBG:function(){return jw},interpolateBuGn:function(){return uM},interpolateBuPu:function(){return aM},interpolateCividis:function(){return OM},interpolateCool:function(){return YM},interpolateCubehelix:function(){return $b},interpolateCubehelixDefault:function(){return jM},interpolateCubehelixLong:function(){return Wb},interpolateDate:function(){return lr},interpolateDiscrete:function(){return Eb},interpolateGnBu:function(){return fM},interpolateGreens:function(){return PM},interpolateGreys:function(){return zM},interpolateHcl:function(){return Xb},interpolateHclLong:function(){return Vb},interpolateHsl:function(){return Fb},interpolateHslLong:function(){return Yb},interpolateHue:function(){return Pb},interpolateInferno:function(){return tk},interpolateLab:function(){return Hb},interpolateMagma:function(){return JM},interpolateNumber:function(){return hr},interpolateNumberArray:function(){return ar},interpolateObject:function(){return dr},interpolateOrRd:function(){return lM},interpolateOranges:function(){return BM},interpolatePRGn:function(){return Yw},interpolatePiYG:function(){return Gw},interpolatePlasma:function(){return nk},interpolatePuBu:function(){return vM},interpolatePuBuGn:function(){return dM},interpolatePuOr:function(){return Vw},interpolatePuRd:function(){return bM},interpolatePurples:function(){return DM},interpolateRainbow:function(){return GM},interpolateRdBu:function(){return $w},interpolateRdGy:function(){return Qw},interpolateRdPu:function(){return mM},interpolateRdYlBu:function(){return Jw},interpolateRdYlGn:function(){return nM},interpolateReds:function(){return UM},interpolateRgb:function(){return rr},interpolateRgbBasis:function(){return ur},interpolateRgbBasisClosed:function(){return or},interpolateRound:function(){return Rb},interpolateSinebow:function(){return $M},interpolateSpectral:function(){return rM},interpolateString:function(){return yr},interpolateTransformCss:function(){return bi},interpolateTransformSvg:function(){return yi},interpolateTurbo:function(){return WM},interpolateViridis:function(){return KM},interpolateWarm:function(){return FM},interpolateYlGn:function(){return MM},interpolateYlGnBu:function(){return xM},interpolateYlOrBr:function(){return SM},interpolateYlOrRd:function(){return NM},interpolateZoom:function(){return Ob},interrupt:function(){return ui},interval:function(){return RT},isoFormat:function(){return AT},isoParse:function(){return PT},json:function(){return Pf},keys:function(){return Ho},lab:function(){return ua},lch:function(){return ha},line:function(){return qk},lineRadial:function(){return Yk},linkHorizontal:function(){return Jk},linkRadial:function(){return nS},linkVertical:function(){return tS},local:function(){return ik},map:function(){return qo},matcher:function(){return kt},max:function(){return I},mean:function(){return U},median:function(){return L},merge:function(){return B},min:function(){return O},mouse:function(){return Mr},namespace:function(){return Zt},namespaces:function(){return Vt},nest:function(){return Do},now:function(){return Dr},pack:function(){return tb},packEnclose:function(){return qg},packSiblings:function(){return Zg},pairs:function(){return l},partition:function(){return ob},path:function(){return ko},permute:function(){return j},pie:function(){return Lk},piecewise:function(){return Qb},pointRadial:function(){return Gk},polygonArea:function(){return Jb},polygonCentroid:function(){return ty},polygonContains:function(){return uy},polygonHull:function(){return iy},polygonLength:function(){return oy},precisionFixed:function(){return Ys},precisionPrefix:function(){return Hs},precisionRound:function(){return Gs},quadtree:function(){return rs},quantile:function(){return z},quantize:function(){return Kb},radialArea:function(){return Hk},radialLine:function(){return Yk},randomBates:function(){return hy},randomExponential:function(){return dy},randomIrwinHall:function(){return ly},randomLogNormal:function(){return sy},randomNormal:function(){return fy},randomUniform:function(){return cy},range:function(){return k},rgb:function(){return Le},ribbon:function(){return Eo},scaleBand:function(){return xy},scaleDiverging:function(){return Mw},scaleDivergingLog:function(){return kw},scaleDivergingPow:function(){return Tw},scaleDivergingSqrt:function(){return Nw},scaleDivergingSymlog:function(){return Sw},scaleIdentity:function(){return Ly},scaleImplicit:function(){return my},scaleLinear:function(){return Uy},scaleLog:function(){return $y},scaleOrdinal:function(){return _y},scalePoint:function(){return My},scalePow:function(){return im},scaleQuantile:function(){return om},scaleQuantize:function(){return am},scaleSequential:function(){return gw},scaleSequentialLog:function(){return bw},scaleSequentialPow:function(){return mw},scaleSequentialQuantile:function(){return xw},scaleSequentialSqrt:function(){return _w},scaleSequentialSymlog:function(){return yw},scaleSqrt:function(){return um},scaleSymlog:function(){return Jy},scaleThreshold:function(){return cm},scaleTime:function(){return rw},scaleUtc:function(){return dw},scan:function(){return F},schemeAccent:function(){return Ew},schemeBlues:function(){return AM},schemeBrBG:function(){return Ow},schemeBuGn:function(){return iM},schemeBuPu:function(){return oM},schemeCategory10:function(){return Cw},schemeDark2:function(){return Pw},schemeGnBu:function(){return cM},schemeGreens:function(){return EM},schemeGreys:function(){return RM},schemeOrRd:function(){return sM},schemeOranges:function(){return LM},schemePRGn:function(){return Fw},schemePaired:function(){return Rw},schemePastel1:function(){return zw},schemePastel2:function(){return qw},schemePiYG:function(){return Hw},schemePuBu:function(){return pM},schemePuBuGn:function(){return hM},schemePuOr:function(){return Xw},schemePuRd:function(){return gM},schemePurples:function(){return qM},schemeRdBu:function(){return Zw},schemeRdGy:function(){return Ww},schemeRdPu:function(){return yM},schemeRdYlBu:function(){return Kw},schemeRdYlGn:function(){return tM},schemeReds:function(){return IM},schemeSet1:function(){return Dw},schemeSet2:function(){return Iw},schemeSet3:function(){return Uw},schemeSpectral:function(){return eM},schemeTableau10:function(){return Lw},schemeYlGn:function(){return wM},schemeYlGnBu:function(){return _M},schemeYlOrBr:function(){return kM},schemeYlOrRd:function(){return TM},select:function(){return se},selectAll:function(){return ok},selection:function(){return fe},selector:function(){return mt},selectorAll:function(){return wt},set:function(){return Yo},shuffle:function(){return Y},stack:function(){return dT},stackOffsetDiverging:function(){return vT},stackOffsetExpand:function(){return pT},stackOffsetNone:function(){return sT},stackOffsetSilhouette:function(){return gT},stackOffsetWiggle:function(){return bT},stackOrderAppearance:function(){return yT},stackOrderAscending:function(){return _T},stackOrderDescending:function(){return wT},stackOrderInsideOut:function(){return MT},stackOrderNone:function(){return lT},stackOrderReverse:function(){return kT},stratify:function(){return hb},style:function(){return cn},sum:function(){return H},svg:function(){return Df},symbol:function(){return xS},symbolCircle:function(){return eS},symbolCross:function(){return rS},symbolDiamond:function(){return oS},symbolSquare:function(){return hS},symbolStar:function(){return lS},symbolTriangle:function(){return pS},symbolWye:function(){return mS},symbols:function(){return _S},text:function(){return kf},thresholdFreedmanDiaconis:function(){return q},thresholdScott:function(){return D},thresholdSturges:function(){return P},tickFormat:function(){return Dy},tickIncrement:function(){return C},tickStep:function(){return E},ticks:function(){return A},timeDay:function(){return Bm},timeDays:function(){return Om},timeFormat:function(){return S_},timeFormatDefaultLocale:function(){return Xx},timeFormatLocale:function(){return M_},timeFriday:function(){return Cm},timeFridays:function(){return Im},timeHour:function(){return Fm},timeHours:function(){return Ym},timeInterval:function(){return lm},timeMillisecond:function(){return Qm},timeMilliseconds:function(){return Km},timeMinute:function(){return Gm},timeMinutes:function(){return Xm},timeMonday:function(){return Sm},timeMondays:function(){return Rm},timeMonth:function(){return gm},timeMonths:function(){return bm},timeParse:function(){return T_},timeSaturday:function(){return Em},timeSaturdays:function(){return Um},timeSecond:function(){return Zm},timeSeconds:function(){return $m},timeSunday:function(){return km},timeSundays:function(){return Pm},timeThursday:function(){return Am},timeThursdays:function(){return Dm},timeTuesday:function(){return Tm},timeTuesdays:function(){return zm},timeWednesday:function(){return Nm},timeWednesdays:function(){return qm},timeWeek:function(){return km},timeWeeks:function(){return Pm},timeYear:function(){return dm},timeYears:function(){return pm},timeout:function(){return Hr},timer:function(){return Lr},timerFlush:function(){return Br},touch:function(){return wr},touches:function(){return ak},transition:function(){return _u},transpose:function(){return G},tree:function(){return xb},treemap:function(){return Tb},treemapBinary:function(){return Nb},treemapDice:function(){return ub},treemapResquarify:function(){return Cb},treemapSlice:function(){return wb},treemapSliceDice:function(){return Ab},treemapSquarify:function(){return Sb},tsv:function(){return Af},tsvFormat:function(){return wc},tsvFormatBody:function(){return Mc},tsvFormatRow:function(){return Sc},tsvFormatRows:function(){return kc},tsvFormatValue:function(){return Tc},tsvParse:function(){return _c},tsvParseRows:function(){return xc},utcDay:function(){return v_},utcDays:function(){return g_},utcFormat:function(){return N_},utcFriday:function(){return u_},utcFridays:function(){return h_},utcHour:function(){return cw},utcHours:function(){return fw},utcMillisecond:function(){return Qm},utcMilliseconds:function(){return Km},utcMinute:function(){return lw},utcMinutes:function(){return hw},utcMonday:function(){return n_},utcMondays:function(){return c_},utcMonth:function(){return uw},utcMonths:function(){return ow},utcParse:function(){return A_},utcSaturday:function(){return o_},utcSaturdays:function(){return d_},utcSecond:function(){return Zm},utcSeconds:function(){return $m},utcSunday:function(){return t_},utcSundays:function(){return a_},utcThursday:function(){return i_},utcThursdays:function(){return l_},utcTuesday:function(){return e_},utcTuesdays:function(){return f_},utcWednesday:function(){return r_},utcWednesdays:function(){return s_},utcWeek:function(){return t_},utcWeeks:function(){return a_},utcYear:function(){return y_},utcYears:function(){return m_},values:function(){return Go},variance:function(){return g},version:function(){return r},voronoi:function(){return wN},window:function(){return en},xml:function(){return zf},zip:function(){return V},zoom:function(){return IN},zoomIdentity:function(){return TN},zoomTransform:function(){return NN}});var r="5.16.0";function i(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function u(t){return 1===t.length&&(t=o(t)),{left:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var u=r+i>>>1;t(n[u],e)<0?r=u+1:i=u}return r},right:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var u=r+i>>>1;t(n[u],e)>0?i=u:r=u+1}return r}}}function o(t){return function(n,e){return i(t(n),e)}}var a=u(i),c=a.right,f=a.left,s=c;function l(t,n){null==n&&(n=h);var e=0,r=t.length-1,i=t[0],u=new Array(r<0?0:r);while(e<r)u[e]=n(i,i=t[++e]);return u}function h(t,n){return[t,n]}function d(t,n,e){var r,i,u,o,a=t.length,c=n.length,f=new Array(a*c);for(null==e&&(e=h),r=u=0;r<a;++r)for(o=t[r],i=0;i<c;++i,++u)f[u]=e(o,n[i]);return f}function p(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function v(t){return null===t?NaN:+t}function g(t,n){var e,r,i=t.length,u=0,o=-1,a=0,c=0;if(null==n)while(++o<i)isNaN(e=v(t[o]))||(r=e-a,a+=r/++u,c+=r*(e-a));else while(++o<i)isNaN(e=v(n(t[o],o,t)))||(r=e-a,a+=r/++u,c+=r*(e-a));if(u>1)return c/(u-1)}function b(t,n){var e=g(t,n);return e?Math.sqrt(e):e}function y(t,n){var e,r,i,u=t.length,o=-1;if(null==n){while(++o<u)if(null!=(e=t[o])&&e>=e){r=i=e;while(++o<u)null!=(e=t[o])&&(r>e&&(r=e),i<e&&(i=e))}}else while(++o<u)if(null!=(e=n(t[o],o,t))&&e>=e){r=i=e;while(++o<u)null!=(e=n(t[o],o,t))&&(r>e&&(r=e),i<e&&(i=e))}return[r,i]}var m=Array.prototype,_=m.slice,x=m.map;function w(t){return function(){return t}}function M(t){return t}function k(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),u=new Array(i);while(++r<i)u[r]=t+r*e;return u}var S=Math.sqrt(50),T=Math.sqrt(10),N=Math.sqrt(2);function A(t,n,e){var r,i,u,o,a=-1;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(o=C(t,n,e))||!isFinite(o))return[];if(o>0){t=Math.ceil(t/o),n=Math.floor(n/o),u=new Array(i=Math.ceil(n-t+1));while(++a<i)u[a]=(t+a)*o}else{t=Math.floor(t*o),n=Math.ceil(n*o),u=new Array(i=Math.ceil(t-n+1));while(++a<i)u[a]=(t-a)/o}return r&&u.reverse(),u}function C(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,i);return i>=0?(u>=S?10:u>=T?5:u>=N?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=S?10:u>=T?5:u>=N?2:1)}function E(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/i;return u>=S?i*=10:u>=T?i*=5:u>=N&&(i*=2),n<t?-i:i}function P(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function R(){var t=M,n=y,e=P;function r(r){var i,u,o=r.length,a=new Array(o);for(i=0;i<o;++i)a[i]=t(r[i],i,r);var c=n(a),f=c[0],l=c[1],h=e(a,f,l);Array.isArray(h)||(h=E(f,l,h),h=k(Math.ceil(f/h)*h,l,h));var d=h.length;while(h[0]<=f)h.shift(),--d;while(h[d-1]>l)h.pop(),--d;var p,v=new Array(d+1);for(i=0;i<=d;++i)p=v[i]=[],p.x0=i>0?h[i-1]:f,p.x1=i<d?h[i]:l;for(i=0;i<o;++i)u=a[i],f<=u&&u<=l&&v[s(h,u,0,d)].push(r[i]);return v}return r.value=function(n){return arguments.length?(t="function"===typeof n?n:w(n),r):t},r.domain=function(t){return arguments.length?(n="function"===typeof t?t:w([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"===typeof t?t:Array.isArray(t)?w(_.call(t)):w(t),r):e},r}function z(t,n,e){if(null==e&&(e=v),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,u=Math.floor(i),o=+e(t[u],u,t),a=+e(t[u+1],u+1,t);return o+(a-o)*(i-u)}}function q(t,n,e){return t=x.call(t,v).sort(i),Math.ceil((e-n)/(2*(z(t,.75)-z(t,.25))*Math.pow(t.length,-1/3)))}function D(t,n,e){return Math.ceil((e-n)/(3.5*b(t)*Math.pow(t.length,-1/3)))}function I(t,n){var e,r,i=t.length,u=-1;if(null==n){while(++u<i)if(null!=(e=t[u])&&e>=e){r=e;while(++u<i)null!=(e=t[u])&&e>r&&(r=e)}}else while(++u<i)if(null!=(e=n(t[u],u,t))&&e>=e){r=e;while(++u<i)null!=(e=n(t[u],u,t))&&e>r&&(r=e)}return r}function U(t,n){var e,r=t.length,i=r,u=-1,o=0;if(null==n)while(++u<r)isNaN(e=v(t[u]))?--i:o+=e;else while(++u<r)isNaN(e=v(n(t[u],u,t)))?--i:o+=e;if(i)return o/i}function L(t,n){var e,r=t.length,u=-1,o=[];if(null==n)while(++u<r)isNaN(e=v(t[u]))||o.push(e);else while(++u<r)isNaN(e=v(n(t[u],u,t)))||o.push(e);return z(o.sort(i),.5)}function B(t){var n,e,r,i=t.length,u=-1,o=0;while(++u<i)o+=t[u].length;e=new Array(o);while(--i>=0){r=t[i],n=r.length;while(--n>=0)e[--o]=r[n]}return e}function O(t,n){var e,r,i=t.length,u=-1;if(null==n){while(++u<i)if(null!=(e=t[u])&&e>=e){r=e;while(++u<i)null!=(e=t[u])&&r>e&&(r=e)}}else while(++u<i)if(null!=(e=n(t[u],u,t))&&e>=e){r=e;while(++u<i)null!=(e=n(t[u],u,t))&&r>e&&(r=e)}return r}function j(t,n){var e=n.length,r=new Array(e);while(e--)r[e]=t[n[e]];return r}function F(t,n){if(e=t.length){var e,r,u=0,o=0,a=t[o];null==n&&(n=i);while(++u<e)(n(r=t[u],a)<0||0!==n(a,a))&&(a=r,o=u);return 0===n(a,a)?o:void 0}}function Y(t,n,e){var r,i,u=(null==e?t.length:e)-(n=null==n?0:+n);while(u)i=Math.random()*u--|0,r=t[u+n],t[u+n]=t[i+n],t[i+n]=r;return t}function H(t,n){var e,r=t.length,i=-1,u=0;if(null==n)while(++i<r)(e=+t[i])&&(u+=e);else while(++i<r)(e=+n(t[i],i,t))&&(u+=e);return u}function G(t){if(!(i=t.length))return[];for(var n=-1,e=O(t,X),r=new Array(e);++n<e;)for(var i,u=-1,o=r[n]=new Array(i);++u<i;)o[u]=t[u][n];return r}function X(t){return t.length}function V(){return G(arguments)}var Z=Array.prototype.slice;function $(t){return t}var W=1,Q=2,K=3,J=4,tt=1e-6;function nt(t){return"translate("+(t+.5)+",0)"}function et(t){return"translate(0,"+(t+.5)+")"}function rt(t){return function(n){return+t(n)}}function it(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function ut(){return!this.__axis}function ot(t,n){var e=[],r=null,i=null,u=6,o=6,a=3,c=t===W||t===J?-1:1,f=t===J||t===Q?"x":"y",s=t===W||t===K?nt:et;function l(l){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):$:i,p=Math.max(u,0)+a,v=n.range(),g=+v[0]+.5,b=+v[v.length-1]+.5,y=(n.bandwidth?it:rt)(n.copy()),m=l.selection?l.selection():l,_=m.selectAll(".domain").data([null]),x=m.selectAll(".tick").data(h,n).order(),w=x.exit(),M=x.enter().append("g").attr("class","tick"),k=x.select("line"),S=x.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(M),k=k.merge(M.append("line").attr("stroke","currentColor").attr(f+"2",c*u)),S=S.merge(M.append("text").attr("fill","currentColor").attr(f,c*p).attr("dy",t===W?"0em":t===K?"0.71em":"0.32em")),l!==m&&(_=_.transition(l),x=x.transition(l),k=k.transition(l),S=S.transition(l),w=w.transition(l).attr("opacity",tt).attr("transform",(function(t){return isFinite(t=y(t))?s(t):this.getAttribute("transform")})),M.attr("opacity",tt).attr("transform",(function(t){var n=this.parentNode.__axis;return s(n&&isFinite(n=n(t))?n:y(t))}))),w.remove(),_.attr("d",t===J||t==Q?o?"M"+c*o+","+g+"H0.5V"+b+"H"+c*o:"M0.5,"+g+"V"+b:o?"M"+g+","+c*o+"V0.5H"+b+"V"+c*o:"M"+g+",0.5H"+b),x.attr("opacity",1).attr("transform",(function(t){return s(y(t))})),k.attr(f+"2",c*u),S.attr(f,c*p).text(d),m.filter(ut).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Q?"start":t===J?"end":"middle"),m.each((function(){this.__axis=y}))}return l.scale=function(t){return arguments.length?(n=t,l):n},l.ticks=function(){return e=Z.call(arguments),l},l.tickArguments=function(t){return arguments.length?(e=null==t?[]:Z.call(t),l):e.slice()},l.tickValues=function(t){return arguments.length?(r=null==t?null:Z.call(t),l):r&&r.slice()},l.tickFormat=function(t){return arguments.length?(i=t,l):i},l.tickSize=function(t){return arguments.length?(u=o=+t,l):u},l.tickSizeInner=function(t){return arguments.length?(u=+t,l):u},l.tickSizeOuter=function(t){return arguments.length?(o=+t,l):o},l.tickPadding=function(t){return arguments.length?(a=+t,l):a},l}function at(t){return ot(W,t)}function ct(t){return ot(Q,t)}function ft(t){return ot(K,t)}function st(t){return ot(J,t)}var lt={value:function(){}};function ht(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new dt(r)}function dt(t){this._=t}function pt(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function vt(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function gt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=lt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}dt.prototype=ht.prototype={constructor:dt,on:function(t,n){var e,r=this._,i=pt(t+"",r),u=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!==typeof n)throw new Error("invalid callback: "+n);while(++u<o)if(e=(t=i[u]).type)r[e]=gt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=gt(r[e],t.name,null);return this}while(++u<o)if((e=(t=i[u]).type)&&(e=vt(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new dt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),u=0;u<e;++u)i[u]=arguments[u+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],u=0,e=r.length;u<e;++u)r[u].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,u=r.length;i<u;++i)r[i].value.apply(n,e)}};var bt=ht;function yt(){}function mt(t){return null==t?yt:function(){return this.querySelector(t)}}function _t(t){"function"!==typeof t&&(t=mt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var u,o,a=n[i],c=a.length,f=r[i]=new Array(c),s=0;s<c;++s)(u=a[s])&&(o=t.call(u,u.__data__,s,a))&&("__data__"in u&&(o.__data__=u.__data__),f[s]=o);return new ae(r,this._parents)}function xt(){return[]}function wt(t){return null==t?xt:function(){return this.querySelectorAll(t)}}function Mt(t){"function"!==typeof t&&(t=wt(t));for(var n=this._groups,e=n.length,r=[],i=[],u=0;u<e;++u)for(var o,a=n[u],c=a.length,f=0;f<c;++f)(o=a[f])&&(r.push(t.call(o,o.__data__,f,a)),i.push(o));return new ae(r,i)}function kt(t){return function(){return this.matches(t)}}function St(t){"function"!==typeof t&&(t=kt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var u,o=n[i],a=o.length,c=r[i]=[],f=0;f<a;++f)(u=o[f])&&t.call(u,u.__data__,f,o)&&c.push(u);return new ae(r,this._parents)}function Tt(t){return new Array(t.length)}function Nt(){return new ae(this._enter||this._groups.map(Tt),this._parents)}function At(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Ct(t){return function(){return t}}At.prototype={constructor:At,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Et="$";function Pt(t,n,e,r,i,u){for(var o,a=0,c=n.length,f=u.length;a<f;++a)(o=n[a])?(o.__data__=u[a],r[a]=o):e[a]=new At(t,u[a]);for(;a<c;++a)(o=n[a])&&(i[a]=o)}function Rt(t,n,e,r,i,u,o){var a,c,f,s={},l=n.length,h=u.length,d=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(d[a]=f=Et+o.call(c,c.__data__,a,n),f in s?i[a]=c:s[f]=c);for(a=0;a<h;++a)f=Et+o.call(t,u[a],a,u),(c=s[f])?(r[a]=c,c.__data__=u[a],s[f]=null):e[a]=new At(t,u[a]);for(a=0;a<l;++a)(c=n[a])&&s[d[a]]===c&&(i[a]=c)}function zt(t,n){if(!t)return d=new Array(this.size()),f=-1,this.each((function(t){d[++f]=t})),d;var e=n?Rt:Pt,r=this._parents,i=this._groups;"function"!==typeof t&&(t=Ct(t));for(var u=i.length,o=new Array(u),a=new Array(u),c=new Array(u),f=0;f<u;++f){var s=r[f],l=i[f],h=l.length,d=t.call(s,s&&s.__data__,f,r),p=d.length,v=a[f]=new Array(p),g=o[f]=new Array(p),b=c[f]=new Array(h);e(s,l,v,g,b,d,n);for(var y,m,_=0,x=0;_<p;++_)if(y=v[_]){_>=x&&(x=_+1);while(!(m=g[x])&&++x<p);y._next=m||null}}return o=new ae(o,r),o._enter=a,o._exit=c,o}function qt(){return new ae(this._exit||this._groups.map(Tt),this._parents)}function Dt(t,n,e){var r=this.enter(),i=this,u=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?u.remove():e(u),r&&i?r.merge(i).order():i}function It(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,u=Math.min(r,i),o=new Array(r),a=0;a<u;++a)for(var c,f=n[a],s=e[a],l=f.length,h=o[a]=new Array(l),d=0;d<l;++d)(c=f[d]||s[d])&&(h[d]=c);for(;a<r;++a)o[a]=n[a];return new ae(o,this._parents)}function Ut(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],u=i.length-1,o=i[u];--u>=0;)(r=i[u])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this}function Lt(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Bt);for(var e=this._groups,r=e.length,i=new Array(r),u=0;u<r;++u){for(var o,a=e[u],c=a.length,f=i[u]=new Array(c),s=0;s<c;++s)(o=a[s])&&(f[s]=o);f.sort(n)}return new ae(i,this._parents).order()}function Bt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Ot(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function jt(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t}function Ft(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,u=r.length;i<u;++i){var o=r[i];if(o)return o}return null}function Yt(){var t=0;return this.each((function(){++t})),t}function Ht(){return!this.node()}function Gt(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,u=n[e],o=0,a=u.length;o<a;++o)(i=u[o])&&t.call(i,i.__data__,o,u);return this}var Xt="http://www.w3.org/1999/xhtml",Vt={svg:"http://www.w3.org/2000/svg",xhtml:Xt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Vt.hasOwnProperty(n)?{space:Vt[n],local:t}:t}function $t(t){return function(){this.removeAttribute(t)}}function Wt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qt(t,n){return function(){this.setAttribute(t,n)}}function Kt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Jt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function tn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function nn(t,n){var e=Zt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Wt:$t:"function"===typeof n?e.local?tn:Jt:e.local?Kt:Qt)(e,n))}function en(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rn(t){return function(){this.style.removeProperty(t)}}function un(t,n,e){return function(){this.style.setProperty(t,n,e)}}function on(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function an(t,n,e){return arguments.length>1?this.each((null==n?rn:"function"===typeof n?on:un)(t,n,null==e?"":e)):cn(this.node(),t)}function cn(t,n){return t.style.getPropertyValue(n)||en(t).getComputedStyle(t,null).getPropertyValue(n)}function fn(t){return function(){delete this[t]}}function sn(t,n){return function(){this[t]=n}}function ln(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function hn(t,n){return arguments.length>1?this.each((null==n?fn:"function"===typeof n?ln:sn)(t,n)):this.node()[t]}function dn(t){return t.trim().split(/^|\s+/)}function pn(t){return t.classList||new vn(t)}function vn(t){this._node=t,this._names=dn(t.getAttribute("class")||"")}function gn(t,n){var e=pn(t),r=-1,i=n.length;while(++r<i)e.add(n[r])}function bn(t,n){var e=pn(t),r=-1,i=n.length;while(++r<i)e.remove(n[r])}function yn(t){return function(){gn(this,t)}}function mn(t){return function(){bn(this,t)}}function _n(t,n){return function(){(n.apply(this,arguments)?gn:bn)(this,t)}}function xn(t,n){var e=dn(t+"");if(arguments.length<2){var r=pn(this.node()),i=-1,u=e.length;while(++i<u)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"===typeof n?_n:n?yn:mn)(e,n))}function wn(){this.textContent=""}function Mn(t){return function(){this.textContent=t}}function kn(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Sn(t){return arguments.length?this.each(null==t?wn:("function"===typeof t?kn:Mn)(t)):this.node().textContent}function Tn(){this.innerHTML=""}function Nn(t){return function(){this.innerHTML=t}}function An(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Cn(t){return arguments.length?this.each(null==t?Tn:("function"===typeof t?An:Nn)(t)):this.node().innerHTML}function En(){this.nextSibling&&this.parentNode.appendChild(this)}function Pn(){return this.each(En)}function Rn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zn(){return this.each(Rn)}function qn(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Xt&&n.documentElement.namespaceURI===Xt?n.createElement(t):n.createElementNS(e,t)}}function Dn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function In(t){var n=Zt(t);return(n.local?Dn:qn)(n)}function Un(t){var n="function"===typeof t?t:In(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))}function Ln(){return null}function Bn(t,n){var e="function"===typeof t?t:In(t),r=null==n?Ln:"function"===typeof n?n:mt(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))}function On(){var t=this.parentNode;t&&t.removeChild(this)}function jn(){return this.each(On)}function Fn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Yn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Hn(t){return this.select(t?Yn:Fn)}function Gn(t){return arguments.length?this.property("__data__",t):this.node().__data__}vn.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Xn={},Vn=null;if("undefined"!==typeof document){var Zn=document.documentElement;"onmouseenter"in Zn||(Xn={mouseenter:"mouseover",mouseleave:"mouseout"})}function $n(t,n,e){return t=Wn(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Wn(t,n,e){return function(r){var i=Vn;Vn=r;try{t.call(this,this.__data__,n,e)}finally{Vn=i}}}function Qn(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Kn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,u=n.length;r<u;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Jn(t,n,e){var r=Xn.hasOwnProperty(t.type)?$n:Wn;return function(i,u,o){var a,c=this.__on,f=r(n,u,o);if(c)for(var s=0,l=c.length;s<l;++s)if((a=c[s]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=f,a.capture=e),void(a.value=n);this.addEventListener(t.type,f,e),a={type:t.type,name:t.name,value:n,listener:f,capture:e},c?c.push(a):this.__on=[a]}}function te(t,n,e){var r,i,u=Qn(t+""),o=u.length;if(!(arguments.length<2)){for(a=n?Jn:Kn,null==e&&(e=!1),r=0;r<o;++r)this.each(a(u[r],n,e));return this}var a=this.node().__on;if(a)for(var c,f=0,s=a.length;f<s;++f)for(r=0,c=a[f];r<o;++r)if((i=u[r]).type===c.type&&i.name===c.name)return c.value}function ne(t,n,e,r){var i=Vn;t.sourceEvent=Vn,Vn=t;try{return n.apply(e,r)}finally{Vn=i}}function ee(t,n,e){var r=en(t),i=r.CustomEvent;"function"===typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function re(t,n){return function(){return ee(this,t,n)}}function ie(t,n){return function(){return ee(this,t,n.apply(this,arguments))}}function ue(t,n){return this.each(("function"===typeof n?ie:re)(t,n))}var oe=[null];function ae(t,n){this._groups=t,this._parents=n}function ce(){return new ae([[document.documentElement]],oe)}ae.prototype=ce.prototype={constructor:ae,select:_t,selectAll:Mt,filter:St,data:zt,enter:Nt,exit:qt,join:Dt,merge:It,order:Ut,sort:Lt,call:Ot,nodes:jt,node:Ft,size:Yt,empty:Ht,each:Gt,attr:nn,style:an,property:hn,classed:xn,text:Sn,html:Cn,raise:Pn,lower:zn,append:Un,insert:Bn,remove:jn,clone:Hn,datum:Gn,on:te,dispatch:ue};var fe=ce;function se(t){return"string"===typeof t?new ae([[document.querySelector(t)]],[document.documentElement]):new ae([[t]],oe)}function le(){Vn.stopImmediatePropagation()}function he(){Vn.preventDefault(),Vn.stopImmediatePropagation()}function de(t){var n=t.document.documentElement,e=se(t).on("dragstart.drag",he,!0);"onselectstart"in n?e.on("selectstart.drag",he,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function pe(t,n){var e=t.document.documentElement,r=se(t).on("dragstart.drag",null);n&&(r.on("click.drag",he,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function ve(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ge(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function be(){}var ye=.7,me=1/ye,_e="\\s*([+-]?\\d+)\\s*",xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",we="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Me=/^#([0-9a-f]{3,8})$/,ke=new RegExp("^rgb\\("+[_e,_e,_e]+"\\)$"),Se=new RegExp("^rgb\\("+[we,we,we]+"\\)$"),Te=new RegExp("^rgba\\("+[_e,_e,_e,xe]+"\\)$"),Ne=new RegExp("^rgba\\("+[we,we,we,xe]+"\\)$"),Ae=new RegExp("^hsl\\("+[xe,we,we]+"\\)$"),Ce=new RegExp("^hsla\\("+[xe,we,we,xe]+"\\)$"),Ee={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pe(){return this.rgb().formatHex()}function Re(){return He(this).formatHsl()}function ze(){return this.rgb().formatRgb()}function qe(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Me.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?De(n):3===e?new Be(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Ie(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Ie(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=ke.exec(t))?new Be(n[1],n[2],n[3],1):(n=Se.exec(t))?new Be(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Te.exec(t))?Ie(n[1],n[2],n[3],n[4]):(n=Ne.exec(t))?Ie(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ae.exec(t))?Ye(n[1],n[2]/100,n[3]/100,1):(n=Ce.exec(t))?Ye(n[1],n[2]/100,n[3]/100,n[4]):Ee.hasOwnProperty(t)?De(Ee[t]):"transparent"===t?new Be(NaN,NaN,NaN,0):null}function De(t){return new Be(t>>16&255,t>>8&255,255&t,1)}function Ie(t,n,e,r){return r<=0&&(t=n=e=NaN),new Be(t,n,e,r)}function Ue(t){return t instanceof be||(t=qe(t)),t?(t=t.rgb(),new Be(t.r,t.g,t.b,t.opacity)):new Be}function Le(t,n,e,r){return 1===arguments.length?Ue(t):new Be(t,n,e,null==r?1:r)}function Be(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Oe(){return"#"+Fe(this.r)+Fe(this.g)+Fe(this.b)}function je(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Fe(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Ye(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Xe(t,n,e,r)}function He(t){if(t instanceof Xe)return new Xe(t.h,t.s,t.l,t.opacity);if(t instanceof be||(t=qe(t)),!t)return new Xe;if(t instanceof Xe)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),u=Math.max(n,e,r),o=NaN,a=u-i,c=(u+i)/2;return a?(o=n===u?(e-r)/a+6*(e<r):e===u?(r-n)/a+2:(n-e)/a+4,a/=c<.5?u+i:2-u-i,o*=60):a=c>0&&c<1?0:o,new Xe(o,a,c,t.opacity)}function Ge(t,n,e,r){return 1===arguments.length?He(t):new Xe(t,n,e,null==r?1:r)}function Xe(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ve(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Ze(t,n,e,r,i){var u=t*t,o=u*t;return((1-3*t+3*u-o)*n+(4-6*u+3*o)*e+(1+3*t+3*u-3*o)*r+o*i)/6}function $e(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],u=t[r+1],o=r>0?t[r-1]:2*i-u,a=r<n-1?t[r+2]:2*u-i;return Ze((e-r/n)*n,o,i,u,a)}}function We(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],u=t[r%n],o=t[(r+1)%n],a=t[(r+2)%n];return Ze((e-r/n)*n,i,u,o,a)}}function Qe(t){return function(){return t}}function Ke(t,n){return function(e){return t+e*n}}function Je(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function tr(t,n){var e=n-t;return e?Ke(t,e>180||e<-180?e-360*Math.round(e/360):e):Qe(isNaN(t)?n:t)}function nr(t){return 1===(t=+t)?er:function(n,e){return e-n?Je(n,e,t):Qe(isNaN(n)?e:n)}}function er(t,n){var e=n-t;return e?Ke(t,e):Qe(isNaN(t)?n:t)}ve(be,qe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Pe,formatHex:Pe,formatHsl:Re,formatRgb:ze,toString:ze}),ve(Be,Le,ge(be,{brighter:function(t){return t=null==t?me:Math.pow(me,t),new Be(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ye:Math.pow(ye,t),new Be(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Oe,formatHex:Oe,formatRgb:je,toString:je})),ve(Xe,Ge,ge(be,{brighter:function(t){return t=null==t?me:Math.pow(me,t),new Xe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ye:Math.pow(ye,t),new Xe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Be(Ve(t>=240?t-240:t+120,i,r),Ve(t,i,r),Ve(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var rr=function t(n){var e=nr(n);function r(t,n){var r=e((t=Le(t)).r,(n=Le(n)).r),i=e(t.g,n.g),u=e(t.b,n.b),o=er(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=u(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function ir(t){return function(n){var e,r,i=n.length,u=new Array(i),o=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=Le(n[e]),u[e]=r.r||0,o[e]=r.g||0,a[e]=r.b||0;return u=t(u),o=t(o),a=t(a),r.opacity=1,function(t){return r.r=u(t),r.g=o(t),r.b=a(t),r+""}}}var ur=ir($e),or=ir(We);function ar(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(u){for(e=0;e<r;++e)i[e]=t[e]*(1-u)+n[e]*u;return i}}function cr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fr(t,n){return(cr(n)?ar:sr)(t,n)}function sr(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,u=new Array(i),o=new Array(r);for(e=0;e<i;++e)u[e]=mr(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=u[e](t);return o}}function lr(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function hr(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function dr(t,n){var e,r={},i={};for(e in null!==t&&"object"===typeof t||(t={}),null!==n&&"object"===typeof n||(n={}),n)e in t?r[e]=mr(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var pr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vr=new RegExp(pr.source,"g");function gr(t){return function(){return t}}function br(t){return function(n){return t(n)+""}}function yr(t,n){var e,r,i,u=pr.lastIndex=vr.lastIndex=0,o=-1,a=[],c=[];t+="",n+="";while((e=pr.exec(t))&&(r=vr.exec(n)))(i=r.index)>u&&(i=n.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:hr(e,r)})),u=vr.lastIndex;return u<n.length&&(i=n.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?c[0]?br(c[0].x):gr(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})}function mr(t,n){var e,r=typeof n;return null==n||"boolean"===r?Qe(n):("number"===r?hr:"string"===r?(e=qe(n))?(n=e,rr):yr:n instanceof qe?rr:n instanceof Date?lr:cr(n)?ar:Array.isArray(n)?sr:"function"!==typeof n.valueOf&&"function"!==typeof n.toString||isNaN(n)?dr:hr)(t,n)}function _r(){var t,n=Vn;while(t=n.sourceEvent)n=t;return n}function xr(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function wr(t,n,e){arguments.length<3&&(e=n,n=_r().changedTouches);for(var r,i=0,u=n?n.length:0;i<u;++i)if((r=n[i]).identifier===e)return xr(t,r);return null}function Mr(t){var n=_r();return n.changedTouches&&(n=n.changedTouches[0]),xr(t,n)}var kr,Sr,Tr=0,Nr=0,Ar=0,Cr=1e3,Er=0,Pr=0,Rr=0,zr="object"===typeof performance&&performance.now?performance:Date,qr="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Dr(){return Pr||(qr(Ir),Pr=zr.now()+Rr)}function Ir(){Pr=0}function Ur(){this._call=this._time=this._next=null}function Lr(t,n,e){var r=new Ur;return r.restart(t,n,e),r}function Br(){Dr(),++Tr;var t,n=kr;while(n)(t=Pr-n._time)>=0&&n._call.call(null,t),n=n._next;--Tr}function Or(){Pr=(Er=zr.now())+Rr,Tr=Nr=0;try{Br()}finally{Tr=0,Fr(),Pr=0}}function jr(){var t=zr.now(),n=t-Er;n>Cr&&(Rr-=n,Er=t)}function Fr(){var t,n,e=kr,r=1/0;while(e)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:kr=n);Sr=t,Yr(r)}function Yr(t){if(!Tr){Nr&&(Nr=clearTimeout(Nr));var n=t-Pr;n>24?(t<1/0&&(Nr=setTimeout(Or,t-zr.now()-Rr)),Ar&&(Ar=clearInterval(Ar))):(Ar||(Er=zr.now(),Ar=setInterval(jr,Cr)),Tr=1,qr(Or))}}function Hr(t,n,e){var r=new Ur;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r}Ur.prototype=Lr.prototype={constructor:Ur,restart:function(t,n,e){if("function"!==typeof t)throw new TypeError("callback is not a function");e=(null==e?Dr():+e)+(null==n?0:+n),this._next||Sr===this||(Sr?Sr._next=this:kr=this,Sr=this),this._call=t,this._time=e,Yr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yr())}};var Gr=bt("start","end","cancel","interrupt"),Xr=[],Vr=0,Zr=1,$r=2,Wr=3,Qr=4,Kr=5,Jr=6;function ti(t,n,e,r,i,u){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};ii(t,e,{name:n,index:r,group:i,on:Gr,tween:Xr,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Vr})}function ni(t,n){var e=ri(t,n);if(e.state>Vr)throw new Error("too late; already scheduled");return e}function ei(t,n){var e=ri(t,n);if(e.state>Wr)throw new Error("too late; already running");return e}function ri(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ii(t,n,e){var r,i=t.__transition;function u(t){e.state=Zr,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}function o(u){var f,s,l,h;if(e.state!==Zr)return c();for(f in i)if(h=i[f],h.name===e.name){if(h.state===Wr)return Hr(o);h.state===Qr?(h.state=Jr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<n&&(h.state=Jr,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(Hr((function(){e.state===Wr&&(e.state=Qr,e.timer.restart(a,e.delay,e.time),a(u))})),e.state=$r,e.on.call("start",t,t.__data__,e.index,e.group),e.state===$r){for(e.state=Wr,r=new Array(l=e.tween.length),f=0,s=-1;f<l;++f)(h=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function a(n){var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(c),e.state=Kr,1),u=-1,o=r.length;while(++u<o)r[u].call(t,i);e.state===Kr&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){for(var r in e.state=Jr,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Lr(u,0,e.time)}function ui(t,n){var e,r,i,u=t.__transition,o=!0;if(u){for(i in n=null==n?null:n+"",u)(e=u[i]).name===n?(r=e.state>$r&&e.state<Kr,e.state=Jr,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete u[i]):o=!1;o&&delete t.__transition}}function oi(t){return this.each((function(){ui(this,t)}))}var ai,ci,fi,si,li=180/Math.PI,hi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function di(t,n,e,r,i,u){var o,a,c;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,o=-o),{translateX:i,translateY:u,rotate:Math.atan2(n,t)*li,skewX:Math.atan(c)*li,scaleX:o,scaleY:a}}function pi(t){return"none"===t?hi:(ai||(ai=document.createElement("DIV"),ci=document.documentElement,fi=document.defaultView),ai.style.transform=t,t=fi.getComputedStyle(ci.appendChild(ai),null).getPropertyValue("transform"),ci.removeChild(ai),t=t.slice(7,-1).split(","),di(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function vi(t){return null==t?hi:(si||(si=document.createElementNS("http://www.w3.org/2000/svg","g")),si.setAttribute("transform",t),(t=si.transform.baseVal.consolidate())?(t=t.matrix,di(t.a,t.b,t.c,t.d,t.e,t.f)):hi)}function gi(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}function u(t,r,i,u,o,a){if(t!==i||r!==u){var c=o.push("translate(",null,n,null,e);a.push({i:c-4,x:hr(t,i)},{i:c-2,x:hr(r,u)})}else(i||u)&&o.push("translate("+i+n+u+e)}function o(t,n,e,u){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),u.push({i:e.push(i(e)+"rotate(",null,r)-2,x:hr(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}function a(t,n,e,u){t!==n?u.push({i:e.push(i(e)+"skewX(",null,r)-2,x:hr(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}function c(t,n,e,r,u,o){if(t!==e||n!==r){var a=u.push(i(u)+"scale(",null,",",null,")");o.push({i:a-4,x:hr(t,e)},{i:a-2,x:hr(n,r)})}else 1===e&&1===r||u.push(i(u)+"scale("+e+","+r+")")}return function(n,e){var r=[],i=[];return n=t(n),e=t(e),u(n.translateX,n.translateY,e.translateX,e.translateY,r,i),o(n.rotate,e.rotate,r,i),a(n.skewX,e.skewX,r,i),c(n.scaleX,n.scaleY,e.scaleX,e.scaleY,r,i),n=e=null,function(t){var n,e=-1,u=i.length;while(++e<u)r[(n=i[e]).i]=n.x(t);return r.join("")}}}var bi=gi(pi,"px, ","px)","deg)"),yi=gi(vi,", ",")",")");function mi(t,n){var e,r;return function(){var i=ei(this,t),u=i.tween;if(u!==e){r=e=u;for(var o=0,a=r.length;o<a;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function _i(t,n,e){var r,i;if("function"!==typeof e)throw new Error;return function(){var u=ei(this,t),o=u.tween;if(o!==r){i=(r=o).slice();for(var a={name:n,value:e},c=0,f=i.length;c<f;++c)if(i[c].name===n){i[c]=a;break}c===f&&i.push(a)}u.tween=i}}function xi(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=ri(this.node(),e).tween,u=0,o=i.length;u<o;++u)if((r=i[u]).name===t)return r.value;return null}return this.each((null==n?mi:_i)(e,t,n))}function wi(t,n,e){var r=t._id;return t.each((function(){var t=ei(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return ri(t,r).value[n]}}function Mi(t,n){var e;return("number"===typeof n?hr:n instanceof qe?rr:(e=qe(n))?(n=e,rr):yr)(t,n)}function ki(t){return function(){this.removeAttribute(t)}}function Si(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ti(t,n,e){var r,i,u=e+"";return function(){var o=this.getAttribute(t);return o===u?null:o===r?i:i=n(r=o,e)}}function Ni(t,n,e){var r,i,u=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===u?null:o===r?i:i=n(r=o,e)}}function Ai(t,n,e){var r,i,u;return function(){var o,a,c=e(this);if(null!=c)return o=this.getAttribute(t),a=c+"",o===a?null:o===r&&a===i?u:(i=a,u=n(r=o,c));this.removeAttribute(t)}}function Ci(t,n,e){var r,i,u;return function(){var o,a,c=e(this);if(null!=c)return o=this.getAttributeNS(t.space,t.local),a=c+"",o===a?null:o===r&&a===i?u:(i=a,u=n(r=o,c));this.removeAttributeNS(t.space,t.local)}}function Ei(t,n){var e=Zt(t),r="transform"===e?yi:Mi;return this.attrTween(t,"function"===typeof n?(e.local?Ci:Ai)(e,r,wi(this,"attr."+t,n)):null==n?(e.local?Si:ki)(e):(e.local?Ni:Ti)(e,r,n))}function Pi(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Ri(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function zi(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Ri(t,i)),e}return i._value=n,i}function qi(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Pi(t,i)),e}return i._value=n,i}function Di(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!==typeof n)throw new Error;var r=Zt(t);return this.tween(e,(r.local?zi:qi)(r,n))}function Ii(t,n){return function(){ni(this,t).delay=+n.apply(this,arguments)}}function Ui(t,n){return n=+n,function(){ni(this,t).delay=n}}function Li(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?Ii:Ui)(n,t)):ri(this.node(),n).delay}function Bi(t,n){return function(){ei(this,t).duration=+n.apply(this,arguments)}}function Oi(t,n){return n=+n,function(){ei(this,t).duration=n}}function ji(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?Bi:Oi)(n,t)):ri(this.node(),n).duration}function Fi(t,n){if("function"!==typeof n)throw new Error;return function(){ei(this,t).ease=n}}function Yi(t){var n=this._id;return arguments.length?this.each(Fi(n,t)):ri(this.node(),n).ease}function Hi(t){"function"!==typeof t&&(t=kt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var u,o=n[i],a=o.length,c=r[i]=[],f=0;f<a;++f)(u=o[f])&&t.call(u,u.__data__,f,o)&&c.push(u);return new mu(r,this._parents,this._name,this._id)}function Gi(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,u=Math.min(r,i),o=new Array(r),a=0;a<u;++a)for(var c,f=n[a],s=e[a],l=f.length,h=o[a]=new Array(l),d=0;d<l;++d)(c=f[d]||s[d])&&(h[d]=c);for(;a<r;++a)o[a]=n[a];return new mu(o,this._parents,this._name,this._id)}function Xi(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}function Vi(t,n,e){var r,i,u=Xi(n)?ni:ei;return function(){var o=u(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(n,e),o.on=i}}function Zi(t,n){var e=this._id;return arguments.length<2?ri(this.node(),e).on.on(t):this.each(Vi(e,t,n))}function $i(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Wi(){return this.on("end.remove",$i(this._id))}function Qi(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=mt(t));for(var r=this._groups,i=r.length,u=new Array(i),o=0;o<i;++o)for(var a,c,f=r[o],s=f.length,l=u[o]=new Array(s),h=0;h<s;++h)(a=f[h])&&(c=t.call(a,a.__data__,h,f))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,ti(l[h],n,e,h,l,ri(a,e)));return new mu(u,this._parents,n,e)}function Ki(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=wt(t));for(var r=this._groups,i=r.length,u=[],o=[],a=0;a<i;++a)for(var c,f=r[a],s=f.length,l=0;l<s;++l)if(c=f[l]){for(var h,d=t.call(c,c.__data__,l,f),p=ri(c,e),v=0,g=d.length;v<g;++v)(h=d[v])&&ti(h,n,e,v,d,p);u.push(d),o.push(c)}return new mu(u,o,n,e)}var Ji=fe.prototype.constructor;function tu(){return new Ji(this._groups,this._parents)}function nu(t,n){var e,r,i;return function(){var u=cn(this,t),o=(this.style.removeProperty(t),cn(this,t));return u===o?null:u===e&&o===r?i:i=n(e=u,r=o)}}function eu(t){return function(){this.style.removeProperty(t)}}function ru(t,n,e){var r,i,u=e+"";return function(){var o=cn(this,t);return o===u?null:o===r?i:i=n(r=o,e)}}function iu(t,n,e){var r,i,u;return function(){var o=cn(this,t),a=e(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=cn(this,t)),o===c?null:o===r&&c===i?u:(i=c,u=n(r=o,a))}}function uu(t,n){var e,r,i,u,o="style."+n,a="end."+o;return function(){var c=ei(this,t),f=c.on,s=null==c.value[o]?u||(u=eu(n)):void 0;f===e&&i===s||(r=(e=f).copy()).on(a,i=s),c.on=r}}function ou(t,n,e){var r="transform"===(t+="")?bi:Mi;return null==n?this.styleTween(t,nu(t,r)).on("end.style."+t,eu(t)):"function"===typeof n?this.styleTween(t,iu(t,r,wi(this,"style."+t,n))).each(uu(this._id,t)):this.styleTween(t,ru(t,r,n),e).on("end.style."+t,null)}function au(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function cu(t,n,e){var r,i;function u(){var u=n.apply(this,arguments);return u!==i&&(r=(i=u)&&au(t,u,e)),r}return u._value=n,u}function fu(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!==typeof n)throw new Error;return this.tween(r,cu(t,n,null==e?"":e))}function su(t){return function(){this.textContent=t}}function lu(t){return function(){var n=t(this);this.textContent=null==n?"":n}}function hu(t){return this.tween("text","function"===typeof t?lu(wi(this,"text",t)):su(null==t?"":t+""))}function du(t){return function(n){this.textContent=t.call(this,n)}}function pu(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&du(r)),n}return r._value=t,r}function vu(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;return this.tween(n,pu(t))}function gu(){for(var t=this._name,n=this._id,e=xu(),r=this._groups,i=r.length,u=0;u<i;++u)for(var o,a=r[u],c=a.length,f=0;f<c;++f)if(o=a[f]){var s=ri(o,n);ti(o,t,e,f,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new mu(r,this._parents,t,e)}function bu(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(u,o){var a={value:o},c={value:function(){0===--i&&u()}};e.each((function(){var e=ei(this,r),i=e.on;i!==t&&(n=(t=i).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),e.on=n}))}))}var yu=0;function mu(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function _u(t){return fe().transition(t)}function xu(){return++yu}var wu=fe.prototype;function Mu(t){return t*t*t}function ku(t){return--t*t*t+1}function Su(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}mu.prototype=_u.prototype={constructor:mu,select:Qi,selectAll:Ki,filter:Hi,merge:Gi,selection:tu,transition:gu,call:wu.call,nodes:wu.nodes,node:wu.node,size:wu.size,empty:wu.empty,each:wu.each,on:Zi,attr:Ei,attrTween:Di,style:ou,styleTween:fu,text:hu,textTween:vu,remove:Wi,tween:xi,delay:Li,duration:ji,ease:Yi,end:bu};var Tu={time:null,delay:0,duration:250,ease:Su};function Nu(t,n){var e;while(!(e=t.__transition)||!(e=e[n]))if(!(t=t.parentNode))return Tu.time=Dr(),Tu;return e}function Au(t){var n,e;t instanceof mu?(n=t._id,t=t._name):(n=xu(),(e=Tu).time=Dr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,u=0;u<i;++u)for(var o,a=r[u],c=a.length,f=0;f<c;++f)(o=a[f])&&ti(o,t,n,f,a,e||Nu(o,n));return new mu(r,this._parents,t,n)}fe.prototype.interrupt=oi,fe.prototype.transition=Au;var Cu=[null];function Eu(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>Zr&&e.name===n)return new mu([[t]],Cu,n,+r);return null}function Pu(t){return function(){return t}}function Ru(t,n,e){this.target=t,this.type=n,this.selection=e}function zu(){Vn.stopImmediatePropagation()}function qu(){Vn.preventDefault(),Vn.stopImmediatePropagation()}var Du={name:"drag"},Iu={name:"space"},Uu={name:"handle"},Lu={name:"center"};function Bu(t){return[+t[0],+t[1]]}function Ou(t){return[Bu(t[0]),Bu(t[1])]}function ju(t){return function(n){return wr(n,Vn.touches,t)}}var Fu={name:"x",handles:["w","e"].map(Wu),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Yu={name:"y",handles:["n","s"].map(Wu),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Hu={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Wu),input:function(t){return null==t?null:Ou(t)},output:function(t){return t}},Gu={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xu={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Vu={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Zu={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},$u={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Wu(t){return{type:t}}function Qu(){return!Vn.ctrlKey&&!Vn.button}function Ku(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ju(){return navigator.maxTouchPoints||"ontouchstart"in this}function to(t){while(!t.__brush)if(!(t=t.parentNode))return;return t.__brush}function no(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function eo(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function ro(){return oo(Fu)}function io(){return oo(Yu)}function uo(){return oo(Hu)}function oo(t){var n,e=Ku,r=Qu,i=Ju,u=!0,o=bt("start","brush","end"),a=6;function c(n){var e=n.property("__brush",v).selectAll(".overlay").data([Wu("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Gu.overlay).merge(e).each((function(){var t=to(this).extent;se(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([Wu("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Gu.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Gu[t.type]})),n.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){var t=se(this),n=to(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-a/2:n[0][0]-a/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-a/2:n[0][1]-a/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+a:a})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+a:a}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(t,n,e){var r=t.__brush.emitter;return!r||e&&r.clean?new l(t,n,e):r}function l(t,n,e){this.that=t,this.args=n,this.state=t.__brush,this.active=0,this.clean=e}function h(){if((!n||Vn.touches)&&r.apply(this,arguments)){var e,i,o,a,c,l,h,d,p,v,g,b=this,y=Vn.target.__data__.type,m="selection"===(u&&Vn.metaKey?y="overlay":y)?Du:u&&Vn.altKey?Lu:Uu,_=t===Yu?null:Zu[y],x=t===Fu?null:$u[y],w=to(b),M=w.extent,k=w.selection,S=M[0][0],T=M[0][1],N=M[1][0],A=M[1][1],C=0,E=0,P=_&&x&&u&&Vn.shiftKey,R=Vn.touches?ju(Vn.changedTouches[0].identifier):Mr,z=R(b),q=z,D=s(b,arguments,!0).beforestart();"overlay"===y?(k&&(p=!0),w.selection=k=[[e=t===Yu?S:z[0],o=t===Fu?T:z[1]],[c=t===Yu?N:e,h=t===Fu?A:o]]):(e=k[0][0],o=k[0][1],c=k[1][0],h=k[1][1]),i=e,a=o,l=c,d=h;var I=se(b).attr("pointer-events","none"),U=I.selectAll(".overlay").attr("cursor",Gu[y]);if(Vn.touches)D.moved=B,D.ended=j;else{var L=se(Vn.view).on("mousemove.brush",B,!0).on("mouseup.brush",j,!0);u&&L.on("keydown.brush",F,!0).on("keyup.brush",Y,!0),de(Vn.view)}zu(),ui(b),f.call(b),D.start()}function B(){var t=R(b);!P||v||g||(Math.abs(t[0]-q[0])>Math.abs(t[1]-q[1])?g=!0:v=!0),q=t,p=!0,qu(),O()}function O(){var t;switch(C=q[0]-z[0],E=q[1]-z[1],m){case Iu:case Du:_&&(C=Math.max(S-e,Math.min(N-c,C)),i=e+C,l=c+C),x&&(E=Math.max(T-o,Math.min(A-h,E)),a=o+E,d=h+E);break;case Uu:_<0?(C=Math.max(S-e,Math.min(N-e,C)),i=e+C,l=c):_>0&&(C=Math.max(S-c,Math.min(N-c,C)),i=e,l=c+C),x<0?(E=Math.max(T-o,Math.min(A-o,E)),a=o+E,d=h):x>0&&(E=Math.max(T-h,Math.min(A-h,E)),a=o,d=h+E);break;case Lu:_&&(i=Math.max(S,Math.min(N,e-C*_)),l=Math.max(S,Math.min(N,c+C*_))),x&&(a=Math.max(T,Math.min(A,o-E*x)),d=Math.max(T,Math.min(A,h+E*x)));break}l<i&&(_*=-1,t=e,e=c,c=t,t=i,i=l,l=t,y in Xu&&U.attr("cursor",Gu[y=Xu[y]])),d<a&&(x*=-1,t=o,o=h,h=t,t=a,a=d,d=t,y in Vu&&U.attr("cursor",Gu[y=Vu[y]])),w.selection&&(k=w.selection),v&&(i=k[0][0],l=k[1][0]),g&&(a=k[0][1],d=k[1][1]),k[0][0]===i&&k[0][1]===a&&k[1][0]===l&&k[1][1]===d||(w.selection=[[i,a],[l,d]],f.call(b),D.brush())}function j(){if(zu(),Vn.touches){if(Vn.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else pe(Vn.view,p),L.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);I.attr("pointer-events","all"),U.attr("cursor",Gu.overlay),w.selection&&(k=w.selection),no(k)&&(w.selection=null,f.call(b)),D.end()}function F(){switch(Vn.keyCode){case 16:P=_&&x;break;case 18:m===Uu&&(_&&(c=l-C*_,e=i+C*_),x&&(h=d-E*x,o=a+E*x),m=Lu,O());break;case 32:m!==Uu&&m!==Lu||(_<0?c=l-C:_>0&&(e=i-C),x<0?h=d-E:x>0&&(o=a-E),m=Iu,U.attr("cursor",Gu.selection),O());break;default:return}qu()}function Y(){switch(Vn.keyCode){case 16:P&&(v=g=P=!1,O());break;case 18:m===Lu&&(_<0?c=l:_>0&&(e=i),x<0?h=d:x>0&&(o=a),m=Uu,O());break;case 32:m===Iu&&(Vn.altKey?(_&&(c=l-C*_,e=i+C*_),x&&(h=d-E*x,o=a+E*x),m=Lu):(_<0?c=l:_>0&&(e=i),x<0?h=d:x>0&&(o=a),m=Uu),U.attr("cursor",Gu[y]),O());break;default:return}qu()}}function d(){s(this,arguments).moved()}function p(){s(this,arguments).ended()}function v(){var n=this.__brush||{selection:null};return n.extent=Ou(e.apply(this,arguments)),n.dim=t,n}return c.move=function(n,e){n.selection?n.on("start.brush",(function(){s(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){s(this,arguments).end()})).tween("brush",(function(){var n=this,r=n.__brush,i=s(n,arguments),u=r.selection,o=t.input("function"===typeof e?e.apply(this,arguments):e,r.extent),a=mr(u,o);function c(t){r.selection=1===t&&null===o?null:a(t),f.call(n),i.brush()}return null!==u&&null!==o?c:c(1)})):n.each((function(){var n=this,r=arguments,i=n.__brush,u=t.input("function"===typeof e?e.apply(n,r):e,i.extent),o=s(n,r).beforestart();ui(n),i.selection=null===u?null:u,f.call(n),o.start().brush().end()}))},c.clear=function(t){c.move(t,null)},l.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){ne(new Ru(c,n,t.output(this.state.selection)),o.apply,o,[n,this.that,this.args])}},c.extent=function(t){return arguments.length?(e="function"===typeof t?t:Pu(Ou(t)),c):e},c.filter=function(t){return arguments.length?(r="function"===typeof t?t:Pu(!!t),c):r},c.touchable=function(t){return arguments.length?(i="function"===typeof t?t:Pu(!!t),c):i},c.handleSize=function(t){return arguments.length?(a=+t,c):a},c.keyModifiers=function(t){return arguments.length?(u=!!t,c):u},c.on=function(){var t=o.on.apply(o,arguments);return t===o?c:t},c}var ao=Math.cos,co=Math.sin,fo=Math.PI,so=fo/2,lo=2*fo,ho=Math.max;function po(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}function vo(){var t=0,n=null,e=null,r=null;function i(i){var u,o,a,c,f,s,l=i.length,h=[],d=k(l),p=[],v=[],g=v.groups=new Array(l),b=new Array(l*l);u=0,f=-1;while(++f<l){o=0,s=-1;while(++s<l)o+=i[f][s];h.push(o),p.push(k(l)),u+=o}n&&d.sort((function(t,e){return n(h[t],h[e])})),e&&p.forEach((function(t,n){t.sort((function(t,r){return e(i[n][t],i[n][r])}))})),u=ho(0,lo-t*l)/u,c=u?t:lo/l,o=0,f=-1;while(++f<l){a=o,s=-1;while(++s<l){var y=d[f],m=p[y][s],_=i[y][m],x=o,w=o+=_*u;b[m*l+y]={index:y,subindex:m,startAngle:x,endAngle:w,value:_}}g[y]={index:y,startAngle:a,endAngle:o,value:h[y]},o+=c}f=-1;while(++f<l){s=f-1;while(++s<l){var M=b[s*l+f],S=b[f*l+s];(M.value||S.value)&&v.push(M.value<S.value?{source:S,target:M}:{source:M,target:S})}}return r?v.sort(r):v}return i.padAngle=function(n){return arguments.length?(t=ho(0,n),i):t},i.sortGroups=function(t){return arguments.length?(n=t,i):n},i.sortSubgroups=function(t){return arguments.length?(e=t,i):e},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=po(t))._=t,i):r&&r._},i}var go=Array.prototype.slice;function bo(t){return function(){return t}}var yo=Math.PI,mo=2*yo,_o=1e-6,xo=mo-_o;function wo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Mo(){return new wo}wo.prototype=Mo.prototype={constructor:wo,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,u){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+u)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var u=this._x1,o=this._y1,a=e-t,c=r-n,f=u-t,s=o-n,l=f*f+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>_o)if(Math.abs(s*a-c*f)>_o&&i){var h=e-u,d=r-o,p=a*a+c*c,v=h*h+d*d,g=Math.sqrt(p),b=Math.sqrt(l),y=i*Math.tan((yo-Math.acos((p+l-v)/(2*g*b)))/2),m=y/b,_=y/g;Math.abs(m-1)>_o&&(this._+="L"+(t+m*f)+","+(n+m*s)),this._+="A"+i+","+i+",0,0,"+ +(s*h>f*d)+","+(this._x1=t+_*a)+","+(this._y1=n+_*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,u){t=+t,n=+n,e=+e,u=!!u;var o=e*Math.cos(r),a=e*Math.sin(r),c=t+o,f=n+a,s=1^u,l=u?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+f:(Math.abs(this._x1-c)>_o||Math.abs(this._y1-f)>_o)&&(this._+="L"+c+","+f),e&&(l<0&&(l=l%mo+mo),l>xo?this._+="A"+e+","+e+",0,1,"+s+","+(t-o)+","+(n-a)+"A"+e+","+e+",0,1,"+s+","+(this._x1=c)+","+(this._y1=f):l>_o&&(this._+="A"+e+","+e+",0,"+ +(l>=yo)+","+s+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var ko=Mo;function So(t){return t.source}function To(t){return t.target}function No(t){return t.radius}function Ao(t){return t.startAngle}function Co(t){return t.endAngle}function Eo(){var t=So,n=To,e=No,r=Ao,i=Co,u=null;function o(){var o,a=go.call(arguments),c=t.apply(this,a),f=n.apply(this,a),s=+e.apply(this,(a[0]=c,a)),l=r.apply(this,a)-so,h=i.apply(this,a)-so,d=s*ao(l),p=s*co(l),v=+e.apply(this,(a[0]=f,a)),g=r.apply(this,a)-so,b=i.apply(this,a)-so;if(u||(u=o=ko()),u.moveTo(d,p),u.arc(0,0,s,l,h),l===g&&h===b||(u.quadraticCurveTo(0,0,v*ao(g),v*co(g)),u.arc(0,0,v,g,b)),u.quadraticCurveTo(0,0,d,p),u.closePath(),o)return u=null,o+""||null}return o.radius=function(t){return arguments.length?(e="function"===typeof t?t:bo(+t),o):e},o.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:bo(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:bo(+t),o):i},o.source=function(n){return arguments.length?(t=n,o):t},o.target=function(t){return arguments.length?(n=t,o):n},o.context=function(t){return arguments.length?(u=null==t?null:t,o):u},o}var Po="$";function Ro(){}function zo(t,n){var e=new Ro;if(t instanceof Ro)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,u=t.length;if(null==n)while(++i<u)e.set(i,t[i]);else while(++i<u)e.set(n(r=t[i],i,t),r)}else if(t)for(var o in t)e.set(o,t[o]);return e}Ro.prototype=zo.prototype={constructor:Ro,has:function(t){return Po+t in this},get:function(t){return this[Po+t]},set:function(t,n){return this[Po+t]=n,this},remove:function(t){var n=Po+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Po&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Po&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Po&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Po&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Po&&++t;return t},empty:function(){for(var t in this)if(t[0]===Po)return!1;return!0},each:function(t){for(var n in this)n[0]===Po&&t(this[n],n.slice(1),this)}};var qo=zo;function Do(){var t,n,e,r=[],i=[];function u(e,i,o,a){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;var c,f,s,l=-1,h=e.length,d=r[i++],p=qo(),v=o();while(++l<h)(s=p.get(c=d(f=e[l])+""))?s.push(f):p.set(c,[f]);return p.each((function(t,n){a(v,n,u(t,i,o,a))})),v}function o(t,e){if(++e>r.length)return t;var u,a=i[e-1];return null!=n&&e>=r.length?u=t.entries():(u=[],t.each((function(t,n){u.push({key:n,values:o(t,e)})}))),null!=a?u.sort((function(t,n){return a(t.key,n.key)})):u}return e={object:function(t){return u(t,0,Io,Uo)},map:function(t){return u(t,0,Lo,Bo)},entries:function(t){return o(u(t,0,Lo,Bo),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}}function Io(){return{}}function Uo(t,n,e){t[n]=e}function Lo(){return qo()}function Bo(t,n,e){t.set(n,e)}function Oo(){}var jo=qo.prototype;function Fo(t,n){var e=new Oo;if(t instanceof Oo)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)while(++r<i)e.add(t[r]);else while(++r<i)e.add(n(t[r],r,t))}return e}Oo.prototype=Fo.prototype={constructor:Oo,has:jo.has,add:function(t){return t+="",this[Po+t]=t,this},remove:jo.remove,clear:jo.clear,values:jo.keys,size:jo.size,empty:jo.empty,each:jo.each};var Yo=Fo;function Ho(t){var n=[];for(var e in t)n.push(e);return n}function Go(t){var n=[];for(var e in t)n.push(t[e]);return n}function Xo(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n}var Vo=Math.PI/180,Zo=180/Math.PI,$o=18,Wo=.96422,Qo=1,Ko=.82521,Jo=4/29,ta=6/29,na=3*ta*ta,ea=ta*ta*ta;function ra(t){if(t instanceof oa)return new oa(t.l,t.a,t.b,t.opacity);if(t instanceof pa)return va(t);t instanceof Be||(t=Ue(t));var n,e,r=sa(t.r),i=sa(t.g),u=sa(t.b),o=aa((.2225045*r+.7168786*i+.0606169*u)/Qo);return r===i&&i===u?n=e=o:(n=aa((.4360747*r+.3850649*i+.1430804*u)/Wo),e=aa((.0139322*r+.0971045*i+.7141733*u)/Ko)),new oa(116*o-16,500*(n-o),200*(o-e),t.opacity)}function ia(t,n){return new oa(t,0,0,null==n?1:n)}function ua(t,n,e,r){return 1===arguments.length?ra(t):new oa(t,n,e,null==r?1:r)}function oa(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function aa(t){return t>ea?Math.pow(t,1/3):t/na+Jo}function ca(t){return t>ta?t*t*t:na*(t-Jo)}function fa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function sa(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function la(t){if(t instanceof pa)return new pa(t.h,t.c,t.l,t.opacity);if(t instanceof oa||(t=ra(t)),0===t.a&&0===t.b)return new pa(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Zo;return new pa(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ha(t,n,e,r){return 1===arguments.length?la(t):new pa(e,n,t,null==r?1:r)}function da(t,n,e,r){return 1===arguments.length?la(t):new pa(t,n,e,null==r?1:r)}function pa(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function va(t){if(isNaN(t.h))return new oa(t.l,0,0,t.opacity);var n=t.h*Vo;return new oa(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}ve(oa,ua,ge(be,{brighter:function(t){return new oa(this.l+$o*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new oa(this.l-$o*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=Wo*ca(n),t=Qo*ca(t),e=Ko*ca(e),new Be(fa(3.1338561*n-1.6168667*t-.4906146*e),fa(-.9787684*n+1.9161415*t+.033454*e),fa(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),ve(pa,da,ge(be,{brighter:function(t){return new pa(this.h,this.c,this.l+$o*(null==t?1:t),this.opacity)},darker:function(t){return new pa(this.h,this.c,this.l-$o*(null==t?1:t),this.opacity)},rgb:function(){return va(this).rgb()}}));var ga=-.14861,ba=1.78277,ya=-.29227,ma=-.90649,_a=1.97294,xa=_a*ma,wa=_a*ba,Ma=ba*ya-ma*ga;function ka(t){if(t instanceof Ta)return new Ta(t.h,t.s,t.l,t.opacity);t instanceof Be||(t=Ue(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Ma*r+xa*n-wa*e)/(Ma+xa-wa),u=r-i,o=(_a*(e-i)-ya*u)/ma,a=Math.sqrt(o*o+u*u)/(_a*i*(1-i)),c=a?Math.atan2(o,u)*Zo-120:NaN;return new Ta(c<0?c+360:c,a,i,t.opacity)}function Sa(t,n,e,r){return 1===arguments.length?ka(t):new Ta(t,n,e,null==r?1:r)}function Ta(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ve(Ta,Sa,ge(be,{brighter:function(t){return t=null==t?me:Math.pow(me,t),new Ta(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ye:Math.pow(ye,t),new Ta(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Vo,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Be(255*(n+e*(ga*r+ba*i)),255*(n+e*(ya*r+ma*i)),255*(n+e*(_a*r)),this.opacity)}}));var Na=Array.prototype,Aa=Na.slice;function Ca(t,n){return t-n}function Ea(t){var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];while(++n<e)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}function Pa(t){return function(){return t}}function Ra(t,n){var e,r=-1,i=n.length;while(++r<i)if(e=za(t,n[r]))return e;return 0}function za(t,n){for(var e=n[0],r=n[1],i=-1,u=0,o=t.length,a=o-1;u<o;a=u++){var c=t[u],f=c[0],s=c[1],l=t[a],h=l[0],d=l[1];if(qa(c,l,n))return 0;s>r!==d>r&&e<(h-f)*(r-s)/(d-s)+f&&(i=-i)}return i}function qa(t,n,e){var r;return Da(t,n,e)&&Ia(t[r=+(t[0]===n[0])],e[r],n[r])}function Da(t,n,e){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])}function Ia(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}function Ua(){}var La=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ba(){var t=1,n=1,e=P,r=c;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(Ca);else{var r=y(t),i=r[0],o=r[1];n=E(i,o,n),n=k(Math.floor(i/n)*n,Math.floor(o/n)*n,n)}return n.map((function(n){return u(t,n)}))}function u(t,n){var e=[],i=[];return o(t,n,(function(u){r(u,t,n),Ea(u)>0?e.push([u]):i.push(u)})),i.forEach((function(t){for(var n,r=0,i=e.length;r<i;++r)if(-1!==Ra((n=e[r])[0],t))return void n.push(t)})),{type:"MultiPolygon",value:n,coordinates:e}}function o(e,r,i){var u,o,c,f,s,l,h=new Array,d=new Array;u=o=-1,f=e[0]>=r,La[f<<1].forEach(p);while(++u<t-1)c=f,f=e[u+1]>=r,La[c|f<<1].forEach(p);La[f<<0].forEach(p);while(++o<n-1){u=-1,f=e[o*t+t]>=r,s=e[o*t]>=r,La[f<<1|s<<2].forEach(p);while(++u<t-1)c=f,f=e[o*t+t+u+1]>=r,l=s,s=e[o*t+u+1]>=r,La[c|f<<1|s<<2|l<<3].forEach(p);La[f|s<<3].forEach(p)}u=-1,s=e[o*t]>=r,La[s<<2].forEach(p);while(++u<t-1)l=s,s=e[o*t+u+1]>=r,La[s<<2|l<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+u,t[0][1]+o],c=[t[1][0]+u,t[1][1]+o],f=a(r),s=a(c);(n=d[f])?(e=h[s])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(c),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(c),d[n.end=s]=n):(n=h[s])?(e=d[f])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(c),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=f]=n):h[f]=d[s]={start:f,end:s,ring:[r,c]}}La[s<<3].forEach(p)}function a(n){return 2*n[0]+n[1]*(t+1)*4}function c(e,r,i){e.forEach((function(e){var u,o=e[0],a=e[1],c=0|o,f=0|a,s=r[f*t+c];o>0&&o<t&&c===o&&(u=r[f*t+c-1],e[0]=o+(i-u)/(s-u)-.5),a>0&&a<n&&f===a&&(u=r[(f-1)*t+c],e[1]=a+(i-u)/(s-u)-.5)}))}return i.contour=u,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),u=Math.ceil(e[1]);if(!(r>0)||!(u>0))throw new Error("invalid size");return t=r,n=u,i},i.thresholds=function(t){return arguments.length?(e="function"===typeof t?t:Array.isArray(t)?Pa(Aa.call(t)):Pa(t),i):e},i.smooth=function(t){return arguments.length?(r=t?c:Ua,i):r===c},i}function Oa(t,n,e){for(var r=t.width,i=t.height,u=1+(e<<1),o=0;o<i;++o)for(var a=0,c=0;a<r+e;++a)a<r&&(c+=t.data[a+o*r]),a>=e&&(a>=u&&(c-=t.data[a-u+o*r]),n.data[a-e+o*r]=c/Math.min(a+1,r-1+u-a,u))}function ja(t,n,e){for(var r=t.width,i=t.height,u=1+(e<<1),o=0;o<r;++o)for(var a=0,c=0;a<i+e;++a)a<i&&(c+=t.data[o+a*r]),a>=e&&(a>=u&&(c-=t.data[o+(a-u)*r]),n.data[o+(a-e)*r]=c/Math.min(a+1,i-1+u-a,u))}function Fa(t){return t[0]}function Ya(t){return t[1]}function Ha(){return 1}function Ga(){var t=Fa,n=Ya,e=Ha,r=960,i=500,u=20,o=2,a=3*u,c=r+2*a>>o,f=i+2*a>>o,s=Pa(20);function l(r){var i=new Float32Array(c*f),l=new Float32Array(c*f);r.forEach((function(r,u,s){var l=+t(r,u,s)+a>>o,h=+n(r,u,s)+a>>o,d=+e(r,u,s);l>=0&&l<c&&h>=0&&h<f&&(i[l+h*c]+=d)})),Oa({width:c,height:f,data:i},{width:c,height:f,data:l},u>>o),ja({width:c,height:f,data:l},{width:c,height:f,data:i},u>>o),Oa({width:c,height:f,data:i},{width:c,height:f,data:l},u>>o),ja({width:c,height:f,data:l},{width:c,height:f,data:i},u>>o),Oa({width:c,height:f,data:i},{width:c,height:f,data:l},u>>o),ja({width:c,height:f,data:l},{width:c,height:f,data:i},u>>o);var d=s(i);if(!Array.isArray(d)){var p=I(i);d=E(0,p,d),d=k(0,Math.floor(p/d)*d,d),d.shift()}return Ba().thresholds(d).size([c,f])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*o),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(v)}function v(t){t[0]=t[0]*Math.pow(2,o)-a,t[1]=t[1]*Math.pow(2,o)-a}function g(){return a=3*u,c=r+2*a>>o,f=i+2*a>>o,l}return l.x=function(n){return arguments.length?(t="function"===typeof n?n:Pa(+n),l):t},l.y=function(t){return arguments.length?(n="function"===typeof t?t:Pa(+t),l):n},l.weight=function(t){return arguments.length?(e="function"===typeof t?t:Pa(+t),l):e},l.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0)&&!(n>=0))throw new Error("invalid size");return r=n,i=e,g()},l.cellSize=function(t){if(!arguments.length)return 1<<o;if(!((t=+t)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(t)/Math.LN2),g()},l.thresholds=function(t){return arguments.length?(s="function"===typeof t?t:Array.isArray(t)?Pa(Aa.call(t)):Pa(t),l):s},l.bandwidth=function(t){if(!arguments.length)return Math.sqrt(u*(u+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return u=Math.round((Math.sqrt(4*t*t+1)-1)/2),g()},l}function Xa(t){return function(){return t}}function Va(t,n,e,r,i,u,o,a,c,f){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=u,this.y=o,this.dx=a,this.dy=c,this._=f}function Za(){return!Vn.ctrlKey&&!Vn.button}function $a(){return this.parentNode}function Wa(t){return null==t?{x:Vn.x,y:Vn.y}:t}function Qa(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ka(){var t,n,e,r,i=Za,u=$a,o=Wa,a=Qa,c={},f=bt("start","drag","end"),s=0,l=0;function h(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",g).on("touchmove.drag",b).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var o=m("mouse",u.apply(this,arguments),Mr,this,arguments);o&&(se(Vn.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),de(Vn.view),le(),e=!1,t=Vn.clientX,n=Vn.clientY,o("start"))}}function p(){if(he(),!e){var r=Vn.clientX-t,i=Vn.clientY-n;e=r*r+i*i>l}c.mouse("drag")}function v(){se(Vn.view).on("mousemove.drag mouseup.drag",null),pe(Vn.view,e),he(),c.mouse("end")}function g(){if(i.apply(this,arguments)){var t,n,e=Vn.changedTouches,r=u.apply(this,arguments),o=e.length;for(t=0;t<o;++t)(n=m(e[t].identifier,r,wr,this,arguments))&&(le(),n("start"))}}function b(){var t,n,e=Vn.changedTouches,r=e.length;for(t=0;t<r;++t)(n=c[e[t].identifier])&&(he(),n("drag"))}function y(){var t,n,e=Vn.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=c[e[t].identifier])&&(le(),n("end"))}function m(t,n,e,r,i){var u,a,l,d=e(n,t),p=f.copy();if(ne(new Va(h,"beforestart",u,t,s,d[0],d[1],0,0,p),(function(){return null!=(Vn.subject=u=o.apply(r,i))&&(a=u.x-d[0]||0,l=u.y-d[1]||0,!0)})))return function o(f){var v,g=d;switch(f){case"start":c[t]=o,v=s++;break;case"end":delete c[t],--s;case"drag":d=e(n,t),v=s;break}ne(new Va(h,f,u,t,v,d[0]+a,d[1]+l,d[0]-g[0],d[1]-g[1],p),p.apply,p,[f,r,i])}}return h.filter=function(t){return arguments.length?(i="function"===typeof t?t:Xa(!!t),h):i},h.container=function(t){return arguments.length?(u="function"===typeof t?t:Xa(t),h):u},h.subject=function(t){return arguments.length?(o="function"===typeof t?t:Xa(t),h):o},h.touchable=function(t){return arguments.length?(a="function"===typeof t?t:Xa(!!t),h):a},h.on=function(){var t=f.on.apply(f,arguments);return t===f?h:t},h.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,h):Math.sqrt(l)},h}Va.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ja={},tc={},nc=34,ec=10,rc=13;function ic(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function uc(t,n){var e=ic(t);return function(r,i){return n(e(r),i,t)}}function oc(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function ac(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function cc(t){return t<0?"-"+ac(-t,6):t>9999?"+"+ac(t,6):ac(t,4)}function fc(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":cc(t.getUTCFullYear(),4)+"-"+ac(t.getUTCMonth()+1,2)+"-"+ac(t.getUTCDate(),2)+(i?"T"+ac(n,2)+":"+ac(e,2)+":"+ac(r,2)+"."+ac(i,3)+"Z":r?"T"+ac(n,2)+":"+ac(e,2)+":"+ac(r,2)+"Z":e||n?"T"+ac(n,2)+":"+ac(e,2)+"Z":"")}function sc(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var e,r,u=i(t,(function(t,i){if(e)return e(t,i-1);r=t,e=n?uc(t,n):ic(t)}));return u.columns=r||[],u}function i(t,n){var r,i=[],u=t.length,o=0,a=0,c=u<=0,f=!1;function s(){if(c)return tc;if(f)return f=!1,Ja;var n,r,i=o;if(t.charCodeAt(i)===nc){while(o++<u&&t.charCodeAt(o)!==nc||t.charCodeAt(++o)===nc);return(n=o)>=u?c=!0:(r=t.charCodeAt(o++))===ec?f=!0:r===rc&&(f=!0,t.charCodeAt(o)===ec&&++o),t.slice(i+1,n-1).replace(/""/g,'"')}while(o<u){if((r=t.charCodeAt(n=o++))===ec)f=!0;else if(r===rc)f=!0,t.charCodeAt(o)===ec&&++o;else if(r!==e)continue;return t.slice(i,n)}return c=!0,t.slice(i,u)}t.charCodeAt(u-1)===ec&&--u,t.charCodeAt(u-1)===rc&&--u;while((r=s())!==tc){var l=[];while(r!==Ja&&r!==tc)l.push(r),r=s();n&&null==(l=n(l,a++))||i.push(l)}return i}function u(n,e){return n.map((function(n){return e.map((function(t){return s(n[t])})).join(t)}))}function o(n,e){return null==e&&(e=oc(n)),[e.map(s).join(t)].concat(u(n,e)).join("\n")}function a(t,n){return null==n&&(n=oc(t)),u(t,n).join("\n")}function c(t){return t.map(f).join("\n")}function f(n){return n.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?fc(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:c,formatRow:f,formatValue:s}}var lc=sc(","),hc=lc.parse,dc=lc.parseRows,pc=lc.format,vc=lc.formatBody,gc=lc.formatRows,bc=lc.formatRow,yc=lc.formatValue,mc=sc("\t"),_c=mc.parse,xc=mc.parseRows,wc=mc.format,Mc=mc.formatBody,kc=mc.formatRows,Sc=mc.formatRow,Tc=mc.formatValue;function Nc(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Ac&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t}var Ac=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Cc(t){return+t}function Ec(t){return t*t}function Pc(t){return t*(2-t)}function Rc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var zc=3,qc=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(zc),Dc=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(zc),Ic=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(zc),Uc=Math.PI,Lc=Uc/2;function Bc(t){return 1===+t?1:1-Math.cos(t*Lc)}function Oc(t){return Math.sin(t*Lc)}function jc(t){return(1-Math.cos(Uc*t))/2}function Fc(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Yc(t){return Fc(1-+t)}function Hc(t){return 1-Fc(t)}function Gc(t){return((t*=2)<=1?Fc(1-t):2-Fc(t-1))/2}function Xc(t){return 1-Math.sqrt(1-t*t)}function Vc(t){return Math.sqrt(1- --t*t)}function Zc(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var $c=4/11,Wc=6/11,Qc=8/11,Kc=3/4,Jc=9/11,tf=10/11,nf=15/16,ef=21/22,rf=63/64,uf=1/$c/$c;function of(t){return 1-af(1-t)}function af(t){return(t=+t)<$c?uf*t*t:t<Qc?uf*(t-=Wc)*t+Kc:t<tf?uf*(t-=Jc)*t+nf:uf*(t-=ef)*t+rf}function cf(t){return((t*=2)<=1?1-af(1-t):af(t-1)+1)/2}var ff=1.70158,sf=function t(n){function e(t){return(t=+t)*t*(n*(t-1)+t)}return n=+n,e.overshoot=t,e}(ff),lf=function t(n){function e(t){return--t*t*((t+1)*n+t)+1}return n=+n,e.overshoot=t,e}(ff),hf=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(ff),df=2*Math.PI,pf=1,vf=.3,gf=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=df);function i(t){return n*Fc(- --t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*df)},i.period=function(e){return t(n,e)},i}(pf,vf),bf=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=df);function i(t){return 1-n*Fc(t=+t)*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*df)},i.period=function(e){return t(n,e)},i}(pf,vf),yf=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=df);function i(t){return((t=2*t-1)<0?n*Fc(-t)*Math.sin((r-t)/e):2-n*Fc(t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*df)},i.period=function(e){return t(n,e)},i}(pf,vf);function mf(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function _f(t,n){return fetch(t,n).then(mf)}function xf(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function wf(t,n){return fetch(t,n).then(xf)}function Mf(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function kf(t,n){return fetch(t,n).then(Mf)}function Sf(t){return function(n,e,r){return 2===arguments.length&&"function"===typeof e&&(r=e,e=void 0),kf(n,e).then((function(n){return t(n,r)}))}}function Tf(t,n,e,r){3===arguments.length&&"function"===typeof e&&(r=e,e=void 0);var i=sc(t);return kf(n,e).then((function(t){return i.parse(t,r)}))}var Nf=Sf(hc),Af=Sf(_c);function Cf(t,n){return new Promise((function(e,r){var i=new Image;for(var u in n)i[u]=n[u];i.onerror=r,i.onload=function(){e(i)},i.src=t}))}function Ef(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Pf(t,n){return fetch(t,n).then(Ef)}function Rf(t){return function(n,e){return kf(n,e).then((function(n){return(new DOMParser).parseFromString(n,t)}))}}var zf=Rf("application/xml"),qf=Rf("text/html"),Df=Rf("image/svg+xml");function If(t,n){var e;function r(){var r,i,u=e.length,o=0,a=0;for(r=0;r<u;++r)i=e[r],o+=i.x,a+=i.y;for(o=o/u-t,a=a/u-n,r=0;r<u;++r)i=e[r],i.x-=o,i.y-=a}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r}function Uf(t){return function(){return t}}function Lf(){return 1e-6*(Math.random()-.5)}function Bf(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Of(this.cover(n,e),n,e,t)}function Of(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,u,o,a,c,f,s,l,h,d=t._root,p={data:r},v=t._x0,g=t._y0,b=t._x1,y=t._y1;if(!d)return t._root=p,t;while(d.length)if((f=n>=(u=(v+b)/2))?v=u:b=u,(s=e>=(o=(g+y)/2))?g=o:y=o,i=d,!(d=d[l=s<<1|f]))return i[l]=p,t;if(a=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===a&&e===c)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(f=n>=(u=(v+b)/2))?v=u:b=u,(s=e>=(o=(g+y)/2))?g=o:y=o}while((l=s<<1|f)===(h=(c>=o)<<1|a>=u));return i[h]=d,i[l]=p,t}function jf(t){var n,e,r,i,u=t.length,o=new Array(u),a=new Array(u),c=1/0,f=1/0,s=-1/0,l=-1/0;for(e=0;e<u;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(o[e]=r,a[e]=i,r<c&&(c=r),r>s&&(s=r),i<f&&(f=i),i>l&&(l=i));if(c>s||f>l)return this;for(this.cover(c,f).cover(s,l),e=0;e<u;++e)Of(this,o[e],a[e],t[e]);return this}function Ff(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,u=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,u=(r=Math.floor(n))+1;else{var o,a,c=i-e,f=this._root;while(e>t||t>=i||r>n||n>=u)switch(a=(n<r)<<1|t<e,o=new Array(4),o[a]=f,f=o,c*=2,a){case 0:i=e+c,u=r+c;break;case 1:e=i-c,u=r+c;break;case 2:i=e+c,r=u-c;break;case 3:e=i-c,r=u-c;break}this._root&&this._root.length&&(this._root=f)}return this._x0=e,this._y0=r,this._x1=i,this._y1=u,this}function Yf(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t}function Hf(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Gf(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Xf(t,n,e){var r,i,u,o,a,c,f,s=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;v&&p.push(new Gf(v,s,l,h,d)),null==e?e=1/0:(s=t-e,l=n-e,h=t+e,d=n+e,e*=e);while(c=p.pop())if(!(!(v=c.node)||(i=c.x0)>h||(u=c.y0)>d||(o=c.x1)<s||(a=c.y1)<l))if(v.length){var g=(i+o)/2,b=(u+a)/2;p.push(new Gf(v[3],g,b,o,a),new Gf(v[2],i,b,g,a),new Gf(v[1],g,u,o,b),new Gf(v[0],i,u,g,b)),(f=(n>=b)<<1|t>=g)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-f],p[p.length-1-f]=c)}else{var y=t-+this._x.call(null,v.data),m=n-+this._y.call(null,v.data),_=y*y+m*m;if(_<e){var x=Math.sqrt(e=_);s=t-x,l=n-x,h=t+x,d=n+x,r=v.data}}return r}function Vf(t){if(isNaN(u=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var n,e,r,i,u,o,a,c,f,s,l,h,d=this._root,p=this._x0,v=this._y0,g=this._x1,b=this._y1;if(!d)return this;if(d.length)while(1){if((f=u>=(a=(p+g)/2))?p=a:g=a,(s=o>=(c=(v+b)/2))?v=c:b=c,n=d,!(d=d[l=s<<1|f]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}while(d.data!==t)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)}function Zf(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function $f(){return this._root}function Wf(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t}function Qf(t){var n,e,r,i,u,o,a=[],c=this._root;c&&a.push(new Gf(c,this._x0,this._y0,this._x1,this._y1));while(n=a.pop())if(!t(c=n.node,r=n.x0,i=n.y0,u=n.x1,o=n.y1)&&c.length){var f=(r+u)/2,s=(i+o)/2;(e=c[3])&&a.push(new Gf(e,f,s,u,o)),(e=c[2])&&a.push(new Gf(e,r,s,f,o)),(e=c[1])&&a.push(new Gf(e,f,i,u,s)),(e=c[0])&&a.push(new Gf(e,r,i,f,s))}return this}function Kf(t){var n,e=[],r=[];this._root&&e.push(new Gf(this._root,this._x0,this._y0,this._x1,this._y1));while(n=e.pop()){var i=n.node;if(i.length){var u,o=n.x0,a=n.y0,c=n.x1,f=n.y1,s=(o+c)/2,l=(a+f)/2;(u=i[0])&&e.push(new Gf(u,o,a,s,l)),(u=i[1])&&e.push(new Gf(u,s,a,c,l)),(u=i[2])&&e.push(new Gf(u,o,l,s,f)),(u=i[3])&&e.push(new Gf(u,s,l,c,f))}r.push(n)}while(n=r.pop())t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function Jf(t){return t[0]}function ts(t){return arguments.length?(this._x=t,this):this._x}function ns(t){return t[1]}function es(t){return arguments.length?(this._y=t,this):this._y}function rs(t,n,e){var r=new is(null==n?Jf:n,null==e?ns:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function is(t,n,e,r,i,u){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=u,this._root=void 0}function us(t){var n={data:t.data},e=n;while(t=t.next)e=e.next={data:t.data};return n}var os=rs.prototype=is.prototype;function as(t){return t.x+t.vx}function cs(t){return t.y+t.vy}function fs(t){var n,e,r=1,i=1;function u(){for(var t,u,a,c,f,s,l,h=n.length,d=0;d<i;++d)for(u=rs(n,as,cs).visitAfter(o),t=0;t<h;++t)a=n[t],s=e[a.index],l=s*s,c=a.x+a.vx,f=a.y+a.vy,u.visit(p);function p(t,n,e,i,u){var o=t.data,h=t.r,d=s+h;if(!o)return n>c+d||i<c-d||e>f+d||u<f-d;if(o.index>a.index){var p=c-o.x-o.vx,v=f-o.y-o.vy,g=p*p+v*v;g<d*d&&(0===p&&(p=Lf(),g+=p*p),0===v&&(v=Lf(),g+=v*v),g=(d-(g=Math.sqrt(g)))/g*r,a.vx+=(p*=g)*(d=(h*=h)/(l+h)),a.vy+=(v*=g)*d,o.vx-=p*(d=1-d),o.vy-=v*d)}}}function o(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function a(){if(n){var r,i,u=n.length;for(e=new Array(u),r=0;r<u;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!==typeof t&&(t=Uf(null==t?1:+t)),u.initialize=function(t){n=t,a()},u.iterations=function(t){return arguments.length?(i=+t,u):i},u.strength=function(t){return arguments.length?(r=+t,u):r},u.radius=function(n){return arguments.length?(t="function"===typeof n?n:Uf(+n),a(),u):t},u}function ss(t){return t.index}function ls(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function hs(t){var n,e,r,i,u,o=ss,a=s,c=Uf(30),f=1;function s(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function l(r){for(var i=0,o=t.length;i<f;++i)for(var a,c,s,l,h,d,p,v=0;v<o;++v)a=t[v],c=a.source,s=a.target,l=s.x+s.vx-c.x-c.vx||Lf(),h=s.y+s.vy-c.y-c.vy||Lf(),d=Math.sqrt(l*l+h*h),d=(d-e[v])/d*r*n[v],l*=d,h*=d,s.vx-=l*(p=u[v]),s.vy-=h*p,c.vx+=l*(p=1-p),c.vy+=h*p}function h(){if(r){var a,c,f=r.length,s=t.length,l=qo(r,o);for(a=0,i=new Array(f);a<s;++a)c=t[a],c.index=a,"object"!==typeof c.source&&(c.source=ls(l,c.source)),"object"!==typeof c.target&&(c.target=ls(l,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(a=0,u=new Array(s);a<s;++a)c=t[a],u[a]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);n=new Array(s),d(),e=new Array(s),p()}}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+a(t[e],e,t)}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}return null==t&&(t=[]),l.initialize=function(t){r=t,h()},l.links=function(n){return arguments.length?(t=n,h(),l):t},l.id=function(t){return arguments.length?(o=t,l):o},l.iterations=function(t){return arguments.length?(f=+t,l):f},l.strength=function(t){return arguments.length?(a="function"===typeof t?t:Uf(+t),d(),l):a},l.distance=function(t){return arguments.length?(c="function"===typeof t?t:Uf(+t),p(),l):c},l}function ds(t){return t.x}function ps(t){return t.y}os.copy=function(){var t,n,e=new is(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=us(r),e;t=[{source:r,target:e._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=us(n));return e},os.add=Bf,os.addAll=jf,os.cover=Ff,os.data=Yf,os.extent=Hf,os.find=Xf,os.remove=Vf,os.removeAll=Zf,os.root=$f,os.size=Wf,os.visit=Qf,os.visitAfter=Kf,os.x=ts,os.y=es;var vs=10,gs=Math.PI*(3-Math.sqrt(5));function bs(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),u=0,o=.6,a=qo(),c=Lr(s),f=bt("tick","end");function s(){l(),f.call("tick",n),e<r&&(c.stop(),f.call("end",n))}function l(r){var c,f,s=t.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(e+=(u-e)*i,a.each((function(t){t(e)})),c=0;c<s;++c)f=t[c],null==f.fx?f.x+=f.vx*=o:(f.x=f.fx,f.vx=0),null==f.fy?f.y+=f.vy*=o:(f.y=f.fy,f.vy=0);return n}function h(){for(var n,e=0,r=t.length;e<r;++e){if(n=t[e],n.index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=vs*Math.sqrt(e),u=e*gs;n.x=i*Math.cos(u),n.y=i*Math.sin(u)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:l,restart:function(){return c.restart(s),n},stop:function(){return c.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),a.each(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(u=+t,n):u},velocityDecay:function(t){return arguments.length?(o=1-t,n):1-o},force:function(t,e){return arguments.length>1?(null==e?a.remove(t):a.set(t,d(e)),n):a.get(t)},find:function(n,e,r){var i,u,o,a,c,f=0,s=t.length;for(null==r?r=1/0:r*=r,f=0;f<s;++f)a=t[f],i=n-a.x,u=e-a.y,o=i*i+u*u,o<r&&(c=a,r=o);return c},on:function(t,e){return arguments.length>1?(f.on(t,e),n):f.on(t)}}}function ys(){var t,n,e,r,i=Uf(-30),u=1,o=1/0,a=.81;function c(r){var i,u=t.length,o=rs(t,ds,ps).visitAfter(s);for(e=r,i=0;i<u;++i)n=t[i],o.visit(l)}function f(){if(t){var n,e,u=t.length;for(r=new Array(u),n=0;n<u;++n)e=t[n],r[e.index]=+i(e,n,t)}}function s(t){var n,e,i,u,o,a=0,c=0;if(t.length){for(i=u=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(a+=n.value,c+=e,i+=e*n.x,u+=e*n.y);t.x=i/c,t.y=u/c}else{n=t,n.x=n.data.x,n.y=n.data.y;do{a+=r[n.data.index]}while(n=n.next)}t.value=a}function l(t,i,c,f){if(!t.value)return!0;var s=t.x-n.x,l=t.y-n.y,h=f-i,d=s*s+l*l;if(h*h/a<d)return d<o&&(0===s&&(s=Lf(),d+=s*s),0===l&&(l=Lf(),d+=l*l),d<u&&(d=Math.sqrt(u*d)),n.vx+=s*t.value*e/d,n.vy+=l*t.value*e/d),!0;if(!(t.length||d>=o)){(t.data!==n||t.next)&&(0===s&&(s=Lf(),d+=s*s),0===l&&(l=Lf(),d+=l*l),d<u&&(d=Math.sqrt(u*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=s*h,n.vy+=l*h)}while(t=t.next)}}return c.initialize=function(n){t=n,f()},c.strength=function(t){return arguments.length?(i="function"===typeof t?t:Uf(+t),f(),c):i},c.distanceMin=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c.distanceMax=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.theta=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c}function ms(t,n,e){var r,i,u,o=Uf(.1);function a(t){for(var o=0,a=r.length;o<a;++o){var c=r[o],f=c.x-n||1e-6,s=c.y-e||1e-6,l=Math.sqrt(f*f+s*s),h=(u[o]-l)*i[o]*t/l;c.vx+=f*h,c.vy+=s*h}}function c(){if(r){var n,e=r.length;for(i=new Array(e),u=new Array(e),n=0;n<e;++n)u[n]=+t(r[n],n,r),i[n]=isNaN(u[n])?0:+o(r[n],n,r)}}return"function"!==typeof t&&(t=Uf(+t)),null==n&&(n=0),null==e&&(e=0),a.initialize=function(t){r=t,c()},a.strength=function(t){return arguments.length?(o="function"===typeof t?t:Uf(+t),c(),a):o},a.radius=function(n){return arguments.length?(t="function"===typeof n?n:Uf(+n),c(),a):t},a.x=function(t){return arguments.length?(n=+t,a):n},a.y=function(t){return arguments.length?(e=+t,a):e},a}function _s(t){var n,e,r,i=Uf(.1);function u(t){for(var i,u=0,o=n.length;u<o;++u)i=n[u],i.vx+=(r[u]-i.x)*e[u]*t}function o(){if(n){var u,o=n.length;for(e=new Array(o),r=new Array(o),u=0;u<o;++u)e[u]=isNaN(r[u]=+t(n[u],u,n))?0:+i(n[u],u,n)}}return"function"!==typeof t&&(t=Uf(null==t?0:+t)),u.initialize=function(t){n=t,o()},u.strength=function(t){return arguments.length?(i="function"===typeof t?t:Uf(+t),o(),u):i},u.x=function(n){return arguments.length?(t="function"===typeof n?n:Uf(+n),o(),u):t},u}function xs(t){var n,e,r,i=Uf(.1);function u(t){for(var i,u=0,o=n.length;u<o;++u)i=n[u],i.vy+=(r[u]-i.y)*e[u]*t}function o(){if(n){var u,o=n.length;for(e=new Array(o),r=new Array(o),u=0;u<o;++u)e[u]=isNaN(r[u]=+t(n[u],u,n))?0:+i(n[u],u,n)}}return"function"!==typeof t&&(t=Uf(null==t?0:+t)),u.initialize=function(t){n=t,o()},u.strength=function(t){return arguments.length?(i="function"===typeof t?t:Uf(+t),o(),u):i},u.y=function(n){return arguments.length?(t="function"===typeof n?n:Uf(+n),o(),u):t},u}function ws(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ms(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function ks(t){return t=Ms(Math.abs(t)),t?t[1]:NaN}function Ss(t,n){return function(e,r){var i=e.length,u=[],o=0,a=t[0],c=0;while(i>0&&a>0){if(c+a+1>r&&(a=Math.max(1,r-c)),u.push(e.substring(i-=a,i+a)),(c+=a+1)>r)break;a=t[o=(o+1)%t.length]}return u.reverse().join(n)}}function Ts(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}var Ns,As=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cs(t){if(!(n=As.exec(t)))throw new Error("invalid format: "+t);var n;return new Es({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Es(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ps(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(n+1):t}function Rs(t,n){var e=Ms(t,n);if(!e)return t+"";var r=e[0],i=e[1],u=i-(Ns=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return u===o?r:u>o?r+new Array(u-o+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+Ms(t,Math.max(0,n+u-1))[0]}function zs(t,n){var e=Ms(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Cs.prototype=Es.prototype,Es.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var qs={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:ws,e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return zs(100*t,n)},r:zs,s:Rs,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ds(t){return t}var Is,Us,Ls,Bs=Array.prototype.map,Os=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function js(t){var n=void 0===t.grouping||void 0===t.thousands?Ds:Ss(Bs.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Ds:Ts(Bs.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",a=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){t=Cs(t);var f=t.fill,s=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,g=t.precision,b=t.trim,y=t.type;"n"===y?(v=!0,y="g"):qs[y]||(void 0===g&&(g=12),b=!0,y="g"),(d||"0"===f&&"="===s)&&(d=!0,f="0",s="=");var m="$"===h?e:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===h?r:/[%p]/.test(y)?o:"",x=qs[y],w=/[defgprs%]/.test(y);function M(t){var e,r,o,h=m,M=_;if("c"===y)M=x(t)+M,t="";else{t=+t;var k=t<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),g),b&&(t=Ps(t)),k&&0===+t&&"+"!==l&&(k=!1),h=(k?"("===l?l:a:"-"===l||"("===l?"":l)+h,M=("s"===y?Os[8+Ns/3]:"")+M+(k&&"("===l?")":""),w){e=-1,r=t.length;while(++e<r)if(o=t.charCodeAt(e),48>o||o>57){M=(46===o?i+t.slice(e+1):t.slice(e))+M,t=t.slice(0,e);break}}}v&&!d&&(t=n(t,1/0));var S=h.length+t.length+M.length,T=S<p?new Array(p-S+1).join(f):"";switch(v&&d&&(t=n(T+t,T.length?p-M.length:1/0),T=""),s){case"<":t=h+t+M+T;break;case"=":t=h+T+t+M;break;case"^":t=T.slice(0,S=T.length>>1)+h+t+M+T.slice(S);break;default:t=T+h+t+M;break}return u(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return t+""},M}function s(t,n){var e=f((t=Cs(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ks(n)/3))),i=Math.pow(10,-r),u=Os[8+r/3];return function(t){return e(i*t)+u}}return{format:f,formatPrefix:s}}function Fs(t){return Is=js(t),Us=Is.format,Ls=Is.formatPrefix,Is}function Ys(t){return Math.max(0,-ks(Math.abs(t)))}function Hs(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ks(n)/3)))-ks(Math.abs(t)))}function Gs(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ks(n)-ks(t))+1}function Xs(){return new Vs}function Vs(){this.reset()}Fs({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Vs.prototype={constructor:Vs,reset:function(){this.s=this.t=0},add:function(t){$s(Zs,t,this.t),$s(this,Zs.s,this.s),this.s?this.t+=Zs.t:this.s=Zs.t},valueOf:function(){return this.s}};var Zs=new Vs;function $s(t,n,e){var r=t.s=n+e,i=r-n,u=r-i;t.t=n-u+(e-i)}var Ws=1e-6,Qs=1e-12,Ks=Math.PI,Js=Ks/2,tl=Ks/4,nl=2*Ks,el=180/Ks,rl=Ks/180,il=Math.abs,ul=Math.atan,ol=Math.atan2,al=Math.cos,cl=Math.ceil,fl=Math.exp,sl=(Math.floor,Math.log),ll=Math.pow,hl=Math.sin,dl=Math.sign||function(t){return t>0?1:t<0?-1:0},pl=Math.sqrt,vl=Math.tan;function gl(t){return t>1?0:t<-1?Ks:Math.acos(t)}function bl(t){return t>1?Js:t<-1?-Js:Math.asin(t)}function yl(t){return(t=hl(t/2))*t}function ml(){}function _l(t,n){t&&wl.hasOwnProperty(t.type)&&wl[t.type](t,n)}var xl={Feature:function(t,n){_l(t.geometry,n)},FeatureCollection:function(t,n){var e=t.features,r=-1,i=e.length;while(++r<i)_l(e[r].geometry,n)}},wl={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ml(t.coordinates,n,0)},MultiLineString:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)Ml(e[r],n,0)},Polygon:function(t,n){kl(t.coordinates,n)},MultiPolygon:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)kl(e[r],n)},GeometryCollection:function(t,n){var e=t.geometries,r=-1,i=e.length;while(++r<i)_l(e[r],n)}};function Ml(t,n,e){var r,i=-1,u=t.length-e;n.lineStart();while(++i<u)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function kl(t,n){var e=-1,r=t.length;n.polygonStart();while(++e<r)Ml(t[e],n,1);n.polygonEnd()}function Sl(t,n){t&&xl.hasOwnProperty(t.type)?xl[t.type](t,n):_l(t,n)}var Tl,Nl,Al,Cl,El,Pl=Xs(),Rl=Xs(),zl={point:ml,lineStart:ml,lineEnd:ml,polygonStart:function(){Pl.reset(),zl.lineStart=ql,zl.lineEnd=Dl},polygonEnd:function(){var t=+Pl;Rl.add(t<0?nl+t:t),this.lineStart=this.lineEnd=this.point=ml},sphere:function(){Rl.add(nl)}};function ql(){zl.point=Il}function Dl(){Ul(Tl,Nl)}function Il(t,n){zl.point=Ul,Tl=t,Nl=n,t*=rl,n*=rl,Al=t,Cl=al(n=n/2+tl),El=hl(n)}function Ul(t,n){t*=rl,n*=rl,n=n/2+tl;var e=t-Al,r=e>=0?1:-1,i=r*e,u=al(n),o=hl(n),a=El*o,c=Cl*u+a*al(i),f=a*r*hl(i);Pl.add(ol(f,c)),Al=t,Cl=u,El=o}function Ll(t){return Rl.reset(),Sl(t,zl),2*Rl}function Bl(t){return[ol(t[1],t[0]),bl(t[2])]}function Ol(t){var n=t[0],e=t[1],r=al(e);return[r*al(n),r*hl(n),hl(e)]}function jl(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Fl(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Yl(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Hl(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Gl(t){var n=pl(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Xl,Vl,Zl,$l,Wl,Ql,Kl,Jl,th,nh,eh,rh,ih,uh,oh,ah,ch,fh,sh,lh,hh,dh,ph,vh,gh,bh,yh=Xs(),mh={point:_h,lineStart:wh,lineEnd:Mh,polygonStart:function(){mh.point=kh,mh.lineStart=Sh,mh.lineEnd=Th,yh.reset(),zl.polygonStart()},polygonEnd:function(){zl.polygonEnd(),mh.point=_h,mh.lineStart=wh,mh.lineEnd=Mh,Pl<0?(Xl=-(Zl=180),Vl=-($l=90)):yh>Ws?$l=90:yh<-Ws&&(Vl=-90),nh[0]=Xl,nh[1]=Zl},sphere:function(){Xl=-(Zl=180),Vl=-($l=90)}};function _h(t,n){th.push(nh=[Xl=t,Zl=t]),n<Vl&&(Vl=n),n>$l&&($l=n)}function xh(t,n){var e=Ol([t*rl,n*rl]);if(Jl){var r=Fl(Jl,e),i=[r[1],-r[0],0],u=Fl(i,r);Gl(u),u=Bl(u);var o,a=t-Wl,c=a>0?1:-1,f=u[0]*el*c,s=il(a)>180;s^(c*Wl<f&&f<c*t)?(o=u[1]*el,o>$l&&($l=o)):(f=(f+360)%360-180,s^(c*Wl<f&&f<c*t)?(o=-u[1]*el,o<Vl&&(Vl=o)):(n<Vl&&(Vl=n),n>$l&&($l=n))),s?t<Wl?Nh(Xl,t)>Nh(Xl,Zl)&&(Zl=t):Nh(t,Zl)>Nh(Xl,Zl)&&(Xl=t):Zl>=Xl?(t<Xl&&(Xl=t),t>Zl&&(Zl=t)):t>Wl?Nh(Xl,t)>Nh(Xl,Zl)&&(Zl=t):Nh(t,Zl)>Nh(Xl,Zl)&&(Xl=t)}else th.push(nh=[Xl=t,Zl=t]);n<Vl&&(Vl=n),n>$l&&($l=n),Jl=e,Wl=t}function wh(){mh.point=xh}function Mh(){nh[0]=Xl,nh[1]=Zl,mh.point=_h,Jl=null}function kh(t,n){if(Jl){var e=t-Wl;yh.add(il(e)>180?e+(e>0?360:-360):e)}else Ql=t,Kl=n;zl.point(t,n),xh(t,n)}function Sh(){zl.lineStart()}function Th(){kh(Ql,Kl),zl.lineEnd(),il(yh)>Ws&&(Xl=-(Zl=180)),nh[0]=Xl,nh[1]=Zl,Jl=null}function Nh(t,n){return(n-=t)<0?n+360:n}function Ah(t,n){return t[0]-n[0]}function Ch(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function Eh(t){var n,e,r,i,u,o,a;if($l=Zl=-(Xl=Vl=1/0),th=[],Sl(t,mh),e=th.length){for(th.sort(Ah),n=1,r=th[0],u=[r];n<e;++n)i=th[n],Ch(r,i[0])||Ch(r,i[1])?(Nh(r[0],i[1])>Nh(r[0],r[1])&&(r[1]=i[1]),Nh(i[0],r[1])>Nh(r[0],r[1])&&(r[0]=i[0])):u.push(r=i);for(o=-1/0,e=u.length-1,n=0,r=u[e];n<=e;r=i,++n)i=u[n],(a=Nh(r[1],i[0]))>o&&(o=a,Xl=i[0],Zl=r[1])}return th=nh=null,Xl===1/0||Vl===1/0?[[NaN,NaN],[NaN,NaN]]:[[Xl,Vl],[Zl,$l]]}var Ph={sphere:ml,point:Rh,lineStart:qh,lineEnd:Uh,polygonStart:function(){Ph.lineStart=Lh,Ph.lineEnd=Bh},polygonEnd:function(){Ph.lineStart=qh,Ph.lineEnd=Uh}};function Rh(t,n){t*=rl,n*=rl;var e=al(n);zh(e*al(t),e*hl(t),hl(n))}function zh(t,n,e){++eh,ih+=(t-ih)/eh,uh+=(n-uh)/eh,oh+=(e-oh)/eh}function qh(){Ph.point=Dh}function Dh(t,n){t*=rl,n*=rl;var e=al(n);vh=e*al(t),gh=e*hl(t),bh=hl(n),Ph.point=Ih,zh(vh,gh,bh)}function Ih(t,n){t*=rl,n*=rl;var e=al(n),r=e*al(t),i=e*hl(t),u=hl(n),o=ol(pl((o=gh*u-bh*i)*o+(o=bh*r-vh*u)*o+(o=vh*i-gh*r)*o),vh*r+gh*i+bh*u);rh+=o,ah+=o*(vh+(vh=r)),ch+=o*(gh+(gh=i)),fh+=o*(bh+(bh=u)),zh(vh,gh,bh)}function Uh(){Ph.point=Rh}function Lh(){Ph.point=Oh}function Bh(){jh(dh,ph),Ph.point=Rh}function Oh(t,n){dh=t,ph=n,t*=rl,n*=rl,Ph.point=jh;var e=al(n);vh=e*al(t),gh=e*hl(t),bh=hl(n),zh(vh,gh,bh)}function jh(t,n){t*=rl,n*=rl;var e=al(n),r=e*al(t),i=e*hl(t),u=hl(n),o=gh*u-bh*i,a=bh*r-vh*u,c=vh*i-gh*r,f=pl(o*o+a*a+c*c),s=bl(f),l=f&&-s/f;sh+=l*o,lh+=l*a,hh+=l*c,rh+=s,ah+=s*(vh+(vh=r)),ch+=s*(gh+(gh=i)),fh+=s*(bh+(bh=u)),zh(vh,gh,bh)}function Fh(t){eh=rh=ih=uh=oh=ah=ch=fh=sh=lh=hh=0,Sl(t,Ph);var n=sh,e=lh,r=hh,i=n*n+e*e+r*r;return i<Qs&&(n=ah,e=ch,r=fh,rh<Ws&&(n=ih,e=uh,r=oh),i=n*n+e*e+r*r,i<Qs)?[NaN,NaN]:[ol(e,n)*el,bl(r/pl(i))*el]}function Yh(t){return function(){return t}}function Hh(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])}),e}function Gh(t,n){return[il(t)>Ks?t+Math.round(-t/nl)*nl:t,n]}function Xh(t,n,e){return(t%=nl)?n||e?Hh(Zh(t),$h(n,e)):Zh(t):n||e?$h(n,e):Gh}function Vh(t){return function(n,e){return n+=t,[n>Ks?n-nl:n<-Ks?n+nl:n,e]}}function Zh(t){var n=Vh(t);return n.invert=Vh(-t),n}function $h(t,n){var e=al(t),r=hl(t),i=al(n),u=hl(n);function o(t,n){var o=al(n),a=al(t)*o,c=hl(t)*o,f=hl(n),s=f*e+a*r;return[ol(c*i-s*u,a*e-f*r),bl(s*i+c*u)]}return o.invert=function(t,n){var o=al(n),a=al(t)*o,c=hl(t)*o,f=hl(n),s=f*i-c*u;return[ol(c*i+f*u,a*e+s*r),bl(s*e-a*r)]},o}function Wh(t){function n(n){return n=t(n[0]*rl,n[1]*rl),n[0]*=el,n[1]*=el,n}return t=Xh(t[0]*rl,t[1]*rl,t.length>2?t[2]*rl:0),n.invert=function(n){return n=t.invert(n[0]*rl,n[1]*rl),n[0]*=el,n[1]*=el,n},n}function Qh(t,n,e,r,i,u){if(e){var o=al(n),a=hl(n),c=r*e;null==i?(i=n+r*nl,u=n-c/2):(i=Kh(o,i),u=Kh(o,u),(r>0?i<u:i>u)&&(i+=r*nl));for(var f,s=i;r>0?s>u:s<u;s-=c)f=Bl([o,-a*al(s),-a*hl(s)]),t.point(f[0],f[1])}}function Kh(t,n){n=Ol(n),n[0]-=t,Gl(n);var e=gl(-n[1]);return((-n[2]<0?-e:e)+nl-Ws)%nl}function Jh(){var t,n,e=Yh([0,0]),r=Yh(90),i=Yh(6),u={point:o};function o(e,r){t.push(e=n(e,r)),e[0]*=el,e[1]*=el}function a(){var o=e.apply(this,arguments),a=r.apply(this,arguments)*rl,c=i.apply(this,arguments)*rl;return t=[],n=Xh(-o[0]*rl,-o[1]*rl,0).invert,Qh(u,a,c,1),o={type:"Polygon",coordinates:[t]},t=n=null,o}return a.center=function(t){return arguments.length?(e="function"===typeof t?t:Yh([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"===typeof t?t:Yh(+t),a):r},a.precision=function(t){return arguments.length?(i="function"===typeof t?t:Yh(+t),a):i},a}function td(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:ml,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function nd(t,n){return il(t[0]-n[0])<Ws&&il(t[1]-n[1])<Ws}function ed(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function rd(t,n,e,r,i){var u,o,a=[],c=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],o=t[n];if(nd(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),u=0;u<n;++u)i.point((r=t[u])[0],r[1]);return void i.lineEnd()}o[0]+=2*Ws}a.push(e=new ed(r,t,null,!0)),c.push(e.o=new ed(r,null,e,!1)),a.push(e=new ed(o,t,null,!1)),c.push(e.o=new ed(o,null,e,!0))}})),a.length){for(c.sort(n),id(a),id(c),u=0,o=c.length;u<o;++u)c[u].e=e=!e;var f,s,l=a[0];while(1){var h=l,d=!0;while(h.v)if((h=h.n)===l)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(u=0,o=f.length;u<o;++u)i.point((s=f[u])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(f=h.p.z,u=f.length-1;u>=0;--u)i.point((s=f[u])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,f=h.z,d=!d}while(!h.v);i.lineEnd()}}}function id(t){if(n=t.length){var n,e,r=0,i=t[0];while(++r<n)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}Gh.invert=Gh;var ud=Xs();function od(t){return il(t[0])<=Ks?t[0]:dl(t[0])*((il(t[0])+Ks)%nl-Ks)}function ad(t,n){var e=od(n),r=n[1],i=hl(r),u=[hl(e),-al(e),0],o=0,a=0;ud.reset(),1===i?r=Js+Ws:-1===i&&(r=-Js-Ws);for(var c=0,f=t.length;c<f;++c)if(l=(s=t[c]).length)for(var s,l,h=s[l-1],d=od(h),p=h[1]/2+tl,v=hl(p),g=al(p),b=0;b<l;++b,d=m,v=x,g=w,h=y){var y=s[b],m=od(y),_=y[1]/2+tl,x=hl(_),w=al(_),M=m-d,k=M>=0?1:-1,S=k*M,T=S>Ks,N=v*x;if(ud.add(ol(N*k*hl(S),g*w+N*al(S))),o+=T?M+k*nl:M,T^d>=e^m>=e){var A=Fl(Ol(h),Ol(y));Gl(A);var C=Fl(u,A);Gl(C);var E=(T^M>=0?-1:1)*bl(C[2]);(r>E||r===E&&(A[0]||A[1]))&&(a+=T^M>=0?1:-1)}}return(o<-Ws||o<Ws&&ud<-Ws)^1&a}function cd(t,n,e,r){return function(i){var u,o,a,c=n(i),f=td(),s=n(f),l=!1,h={point:d,lineStart:v,lineEnd:g,polygonStart:function(){h.point=b,h.lineStart=y,h.lineEnd=m,o=[],u=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=g,o=B(o);var t=ad(u,r);o.length?(l||(i.polygonStart(),l=!0),rd(o,sd,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),o=u=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){c.point(t,n)}function v(){h.point=p,c.lineStart()}function g(){h.point=d,c.lineEnd()}function b(t,n){a.push([t,n]),s.point(t,n)}function y(){s.lineStart(),a=[]}function m(){b(a[0][0],a[0][1]),s.lineEnd();var t,n,e,r,c=s.clean(),h=f.result(),d=h.length;if(a.pop(),u.push(a),a=null,d)if(1&c){if(e=h[0],(n=e.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&h.push(h.pop().concat(h.shift())),o.push(h.filter(fd))}return h}}function fd(t){return t.length>1}function sd(t,n){return((t=t.x)[0]<0?t[1]-Js-Ws:Js-t[1])-((n=n.x)[0]<0?n[1]-Js-Ws:Js-n[1])}var ld=cd((function(){return!0}),hd,pd,[-Ks,-Js]);function hd(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(u,o){var a=u>0?Ks:-Ks,c=il(u-e);il(c-Ks)<Ws?(t.point(e,r=(r+o)/2>0?Js:-Js),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(u,r),n=0):i!==a&&c>=Ks&&(il(e-i)<Ws&&(e-=i*Ws),il(u-a)<Ws&&(u-=a*Ws),r=dd(e,r,u,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=u,r=o),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}function dd(t,n,e,r){var i,u,o=hl(t-e);return il(o)>Ws?ul((hl(n)*(u=al(r))*hl(e)-hl(r)*(i=al(n))*hl(t))/(i*u*o)):(n+r)/2}function pd(t,n,e,r){var i;if(null==t)i=e*Js,r.point(-Ks,i),r.point(0,i),r.point(Ks,i),r.point(Ks,0),r.point(Ks,-i),r.point(0,-i),r.point(-Ks,-i),r.point(-Ks,0),r.point(-Ks,i);else if(il(t[0]-n[0])>Ws){var u=t[0]<n[0]?Ks:-Ks;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(n[0],n[1])}function vd(t){var n=al(t),e=6*rl,r=n>0,i=il(n)>Ws;function u(n,r,i,u){Qh(u,t,e,i,n,r)}function o(t,e){return al(t)*al(e)>n}function a(t){var n,e,u,a,s;return{lineStart:function(){a=u=!1,s=1},point:function(l,h){var d,p=[l,h],v=o(l,h),g=r?v?0:f(l,h):v?f(l+(l<0?Ks:-Ks),h):0;if(!n&&(a=u=v)&&t.lineStart(),v!==u&&(d=c(n,p),(!d||nd(n,d)||nd(p,d))&&(p[2]=1)),v!==u)s=0,v?(t.lineStart(),d=c(p,n),t.point(d[0],d[1])):(d=c(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^v){var b;g&e||!(b=c(p,n,!0))||(s=0,r?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!v||n&&nd(n,p)||t.point(p[0],p[1]),n=p,u=v,e=g},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return s|(a&&u)<<1}}}function c(t,e,r){var i=Ol(t),u=Ol(e),o=[1,0,0],a=Fl(i,u),c=jl(a,a),f=a[0],s=c-f*f;if(!s)return!r&&t;var l=n*c/s,h=-n*f/s,d=Fl(o,a),p=Hl(o,l),v=Hl(a,h);Yl(p,v);var g=d,b=jl(p,g),y=jl(g,g),m=b*b-y*(jl(p,p)-1);if(!(m<0)){var _=pl(m),x=Hl(g,(-b-_)/y);if(Yl(x,p),x=Bl(x),!r)return x;var w,M=t[0],k=e[0],S=t[1],T=e[1];k<M&&(w=M,M=k,k=w);var N=k-M,A=il(N-Ks)<Ws,C=A||N<Ws;if(!A&&T<S&&(w=S,S=T,T=w),C?A?S+T>0^x[1]<(il(x[0]-M)<Ws?S:T):S<=x[1]&&x[1]<=T:N>Ks^(M<=x[0]&&x[0]<=k)){var E=Hl(g,(-b+_)/y);return Yl(E,p),[x,Bl(E)]}}}function f(n,e){var i=r?t:Ks-t,u=0;return n<-i?u|=1:n>i&&(u|=2),e<-i?u|=4:e>i&&(u|=8),u}return cd(o,a,u,r?[0,-t]:[-Ks,t-Ks])}function gd(t,n,e,r,i,u){var o,a=t[0],c=t[1],f=n[0],s=n[1],l=0,h=1,d=f-a,p=s-c;if(o=e-a,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>l&&(l=o)}if(o=i-a,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<h&&(h=o)}if(o=r-c,p||!(o>0)){if(o/=p,p<0){if(o<l)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>l&&(l=o)}if(o=u-c,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>l&&(l=o)}else if(p>0){if(o<l)return;o<h&&(h=o)}return l>0&&(t[0]=a+l*d,t[1]=c+l*p),h<1&&(n[0]=a+h*d,n[1]=c+h*p),!0}}}}}var bd=1e9,yd=-bd;function md(t,n,e,r){function i(i,u){return t<=i&&i<=e&&n<=u&&u<=r}function u(i,u,a,f){var s=0,l=0;if(null==i||(s=o(i,a))!==(l=o(u,a))||c(i,u)<0^a>0)do{f.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+a+4)%4)!==l);else f.point(u[0],u[1])}function o(r,i){return il(r[0]-t)<Ws?i>0?0:3:il(r[0]-e)<Ws?i>0?2:1:il(r[1]-n)<Ws?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=o(t,1),r=o(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(o){var c,f,s,l,h,d,p,v,g,b,y,m=o,_=td(),x={point:w,lineStart:T,lineEnd:N,polygonStart:k,polygonEnd:S};function w(t,n){i(t,n)&&m.point(t,n)}function M(){for(var n=0,e=0,i=f.length;e<i;++e)for(var u,o,a=f[e],c=1,s=a.length,l=a[0],h=l[0],d=l[1];c<s;++c)u=h,o=d,l=a[c],h=l[0],d=l[1],o<=r?d>r&&(h-u)*(r-o)>(d-o)*(t-u)&&++n:d<=r&&(h-u)*(r-o)<(d-o)*(t-u)&&--n;return n}function k(){m=_,c=[],f=[],y=!0}function S(){var t=M(),n=y&&t,e=(c=B(c)).length;(n||e)&&(o.polygonStart(),n&&(o.lineStart(),u(null,null,1,o),o.lineEnd()),e&&rd(c,a,t,u,o),o.polygonEnd()),m=o,c=f=s=null}function T(){x.point=A,f&&f.push(s=[]),b=!0,g=!1,p=v=NaN}function N(){c&&(A(l,h),d&&g&&_.rejoin(),c.push(_.result())),x.point=w,g&&m.lineEnd()}function A(u,o){var a=i(u,o);if(f&&s.push([u,o]),b)l=u,h=o,d=a,b=!1,a&&(m.lineStart(),m.point(u,o));else if(a&&g)m.point(u,o);else{var c=[p=Math.max(yd,Math.min(bd,p)),v=Math.max(yd,Math.min(bd,v))],_=[u=Math.max(yd,Math.min(bd,u)),o=Math.max(yd,Math.min(bd,o))];gd(c,_,t,n,e,r)?(g||(m.lineStart(),m.point(c[0],c[1])),m.point(_[0],_[1]),a||m.lineEnd(),y=!1):a&&(m.lineStart(),m.point(u,o),y=!1)}p=u,v=o,g=a}return x}}function _d(){var t,n,e,r=0,i=0,u=960,o=500;return e={stream:function(e){return t&&n===e?t:t=md(r,i,u,o)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],u=+a[1][0],o=+a[1][1],t=n=null,e):[[r,i],[u,o]]}}}var xd,wd,Md,kd=Xs(),Sd={sphere:ml,point:ml,lineStart:Td,lineEnd:ml,polygonStart:ml,polygonEnd:ml};function Td(){Sd.point=Ad,Sd.lineEnd=Nd}function Nd(){Sd.point=Sd.lineEnd=ml}function Ad(t,n){t*=rl,n*=rl,xd=t,wd=hl(n),Md=al(n),Sd.point=Cd}function Cd(t,n){t*=rl,n*=rl;var e=hl(n),r=al(n),i=il(t-xd),u=al(i),o=hl(i),a=r*o,c=Md*e-wd*r*u,f=wd*e+Md*r*u;kd.add(ol(pl(a*a+c*c),f)),xd=t,wd=e,Md=r}function Ed(t){return kd.reset(),Sl(t,Sd),+kd}var Pd=[null,null],Rd={type:"LineString",coordinates:Pd};function zd(t,n){return Pd[0]=t,Pd[1]=n,Ed(Rd)}var qd={Feature:function(t,n){return Id(t.geometry,n)},FeatureCollection:function(t,n){var e=t.features,r=-1,i=e.length;while(++r<i)if(Id(e[r].geometry,n))return!0;return!1}},Dd={Sphere:function(){return!0},Point:function(t,n){return Ud(t.coordinates,n)},MultiPoint:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)if(Ud(e[r],n))return!0;return!1},LineString:function(t,n){return Ld(t.coordinates,n)},MultiLineString:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)if(Ld(e[r],n))return!0;return!1},Polygon:function(t,n){return Bd(t.coordinates,n)},MultiPolygon:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)if(Bd(e[r],n))return!0;return!1},GeometryCollection:function(t,n){var e=t.geometries,r=-1,i=e.length;while(++r<i)if(Id(e[r],n))return!0;return!1}};function Id(t,n){return!(!t||!Dd.hasOwnProperty(t.type))&&Dd[t.type](t,n)}function Ud(t,n){return 0===zd(t,n)}function Ld(t,n){for(var e,r,i,u=0,o=t.length;u<o;u++){if(r=zd(t[u],n),0===r)return!0;if(u>0&&(i=zd(t[u],t[u-1]),i>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<Qs*i))return!0;e=r}return!1}function Bd(t,n){return!!ad(t.map(Od),jd(n))}function Od(t){return t=t.map(jd),t.pop(),t}function jd(t){return[t[0]*rl,t[1]*rl]}function Fd(t,n){return(t&&qd.hasOwnProperty(t.type)?qd[t.type]:Id)(t,n)}function Yd(t,n,e){var r=k(t,n-Ws,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function Hd(t,n,e){var r=k(t,n-Ws,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function Gd(){var t,n,e,r,i,u,o,a,c,f,s,l,h=10,d=h,p=90,v=360,g=2.5;function b(){return{type:"MultiLineString",coordinates:y()}}function y(){return k(cl(r/p)*p,e,p).map(s).concat(k(cl(a/v)*v,o,v).map(l)).concat(k(cl(n/h)*h,t,h).filter((function(t){return il(t%p)>Ws})).map(c)).concat(k(cl(u/d)*d,i,d).filter((function(t){return il(t%v)>Ws})).map(f))}return b.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},b.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(l(o).slice(1),s(e).reverse().slice(1),l(a).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.extentMajor(t).extentMinor(t):b.extentMinor()},b.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),b.precision(g)):[[r,a],[e,o]]},b.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],u=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),u>i&&(e=u,u=i,i=e),b.precision(g)):[[n,u],[t,i]]},b.step=function(t){return arguments.length?b.stepMajor(t).stepMinor(t):b.stepMinor()},b.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],b):[p,v]},b.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],b):[h,d]},b.precision=function(h){return arguments.length?(g=+h,c=Yd(u,i,90),f=Hd(n,t,g),s=Yd(a,o,90),l=Hd(r,e,g),b):g},b.extentMajor([[-180,-90+Ws],[180,90-Ws]]).extentMinor([[-180,-80-Ws],[180,80+Ws]])}function Xd(){return Gd()()}function Vd(t,n){var e=t[0]*rl,r=t[1]*rl,i=n[0]*rl,u=n[1]*rl,o=al(r),a=hl(r),c=al(u),f=hl(u),s=o*al(e),l=o*hl(e),h=c*al(i),d=c*hl(i),p=2*bl(pl(yl(u-r)+o*c*yl(i-e))),v=hl(p),g=p?function(t){var n=hl(t*=p)/v,e=hl(p-t)/v,r=e*s+n*h,i=e*l+n*d,u=e*a+n*f;return[ol(i,r)*el,ol(u,pl(r*r+i*i))*el]}:function(){return[e*el,r*el]};return g.distance=p,g}function Zd(t){return t}var $d,Wd,Qd,Kd,Jd=Xs(),tp=Xs(),np={point:ml,lineStart:ml,lineEnd:ml,polygonStart:function(){np.lineStart=ep,np.lineEnd=up},polygonEnd:function(){np.lineStart=np.lineEnd=np.point=ml,Jd.add(il(tp)),tp.reset()},result:function(){var t=Jd/2;return Jd.reset(),t}};function ep(){np.point=rp}function rp(t,n){np.point=ip,$d=Qd=t,Wd=Kd=n}function ip(t,n){tp.add(Kd*t-Qd*n),Qd=t,Kd=n}function up(){ip($d,Wd)}var op=np,ap=1/0,cp=ap,fp=-ap,sp=fp,lp={point:hp,lineStart:ml,lineEnd:ml,polygonStart:ml,polygonEnd:ml,result:function(){var t=[[ap,cp],[fp,sp]];return fp=sp=-(cp=ap=1/0),t}};function hp(t,n){t<ap&&(ap=t),t>fp&&(fp=t),n<cp&&(cp=n),n>sp&&(sp=n)}var dp,pp,vp,gp,bp=lp,yp=0,mp=0,_p=0,xp=0,wp=0,Mp=0,kp=0,Sp=0,Tp=0,Np={point:Ap,lineStart:Cp,lineEnd:Rp,polygonStart:function(){Np.lineStart=zp,Np.lineEnd=qp},polygonEnd:function(){Np.point=Ap,Np.lineStart=Cp,Np.lineEnd=Rp},result:function(){var t=Tp?[kp/Tp,Sp/Tp]:Mp?[xp/Mp,wp/Mp]:_p?[yp/_p,mp/_p]:[NaN,NaN];return yp=mp=_p=xp=wp=Mp=kp=Sp=Tp=0,t}};function Ap(t,n){yp+=t,mp+=n,++_p}function Cp(){Np.point=Ep}function Ep(t,n){Np.point=Pp,Ap(vp=t,gp=n)}function Pp(t,n){var e=t-vp,r=n-gp,i=pl(e*e+r*r);xp+=i*(vp+t)/2,wp+=i*(gp+n)/2,Mp+=i,Ap(vp=t,gp=n)}function Rp(){Np.point=Ap}function zp(){Np.point=Dp}function qp(){Ip(dp,pp)}function Dp(t,n){Np.point=Ip,Ap(dp=vp=t,pp=gp=n)}function Ip(t,n){var e=t-vp,r=n-gp,i=pl(e*e+r*r);xp+=i*(vp+t)/2,wp+=i*(gp+n)/2,Mp+=i,i=gp*t-vp*n,kp+=i*(vp+t),Sp+=i*(gp+n),Tp+=3*i,Ap(vp=t,gp=n)}var Up=Np;function Lp(t){this._context=t}Lp.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,nl);break}},result:ml};var Bp,Op,jp,Fp,Yp,Hp=Xs(),Gp={point:ml,lineStart:function(){Gp.point=Xp},lineEnd:function(){Bp&&Vp(Op,jp),Gp.point=ml},polygonStart:function(){Bp=!0},polygonEnd:function(){Bp=null},result:function(){var t=+Hp;return Hp.reset(),t}};function Xp(t,n){Gp.point=Vp,Op=Fp=t,jp=Yp=n}function Vp(t,n){Fp-=t,Yp-=n,Hp.add(pl(Fp*Fp+Yp*Yp)),Fp=t,Yp=n}var Zp=Gp;function $p(){this._string=[]}function Wp(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Qp(t,n){var e,r,i=4.5;function u(t){return t&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),Sl(t,e(r))),r.result()}return u.area=function(t){return Sl(t,e(op)),op.result()},u.measure=function(t){return Sl(t,e(Zp)),Zp.result()},u.bounds=function(t){return Sl(t,e(bp)),bp.result()},u.centroid=function(t){return Sl(t,e(Up)),Up.result()},u.projection=function(n){return arguments.length?(e=null==n?(t=null,Zd):(t=n).stream,u):t},u.context=function(t){return arguments.length?(r=null==t?(n=null,new $p):new Lp(n=t),"function"!==typeof i&&r.pointRadius(i),u):n},u.pointRadius=function(t){return arguments.length?(i="function"===typeof t?t:(r.pointRadius(+t),+t),u):i},u.projection(t).context(n)}function Kp(t){return{stream:Jp(t)}}function Jp(t){return function(n){var e=new tv;for(var r in t)e[r]=t[r];return e.stream=n,e}}function tv(){}function nv(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Sl(e,t.stream(bp)),n(bp.result()),null!=r&&t.clipExtent(r),t}function ev(t,n,e){return nv(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],u=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),o=+n[0][0]+(r-u*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-u*(e[1][1]+e[0][1]))/2;t.scale(150*u).translate([o,a])}),e)}function rv(t,n,e){return ev(t,[[0,0],n],e)}function iv(t,n,e){return nv(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),u=(r-i*(e[1][0]+e[0][0]))/2,o=-i*e[0][1];t.scale(150*i).translate([u,o])}),e)}function uv(t,n,e){return nv(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),u=-i*e[0][0],o=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([u,o])}),e)}$p.prototype={_radius:4.5,_circle:Wp(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=Wp(this._radius)),this._string.push("M",t,",",n,this._circle);break}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},tv.prototype={constructor:tv,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ov=16,av=al(30*rl);function cv(t,n){return+n?sv(t,n):fv(t)}function fv(t){return Jp({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function sv(t,n){function e(r,i,u,o,a,c,f,s,l,h,d,p,v,g){var b=f-r,y=s-i,m=b*b+y*y;if(m>4*n&&v--){var _=o+h,x=a+d,w=c+p,M=pl(_*_+x*x+w*w),k=bl(w/=M),S=il(il(w)-1)<Ws||il(u-l)<Ws?(u+l)/2:ol(x,_),T=t(S,k),N=T[0],A=T[1],C=N-r,E=A-i,P=y*C-b*E;(P*P/m>n||il((b*C+y*E)/m-.5)>.3||o*h+a*d+c*p<av)&&(e(r,i,u,o,a,c,N,A,S,_/=M,x/=M,w,v,g),g.point(N,A),e(N,A,S,_,x,w,f,s,l,h,d,p,v,g))}}return function(n){var r,i,u,o,a,c,f,s,l,h,d,p,v={point:g,lineStart:b,lineEnd:m,polygonStart:function(){n.polygonStart(),v.lineStart=_},polygonEnd:function(){n.polygonEnd(),v.lineStart=b}};function g(e,r){e=t(e,r),n.point(e[0],e[1])}function b(){s=NaN,v.point=y,n.lineStart()}function y(r,i){var u=Ol([r,i]),o=t(r,i);e(s,l,f,h,d,p,s=o[0],l=o[1],f=r,h=u[0],d=u[1],p=u[2],ov,n),n.point(s,l)}function m(){v.point=g,n.lineEnd()}function _(){b(),v.point=x,v.lineEnd=w}function x(t,n){y(r=t,n),i=s,u=l,o=h,a=d,c=p,v.point=y}function w(){e(s,l,f,h,d,p,i,u,r,o,a,c,ov,n),v.lineEnd=m,m()}return v}}var lv=Jp({point:function(t,n){this.stream.point(t*rl,n*rl)}});function hv(t){return Jp({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function dv(t,n,e,r,i){function u(u,o){return u*=r,o*=i,[n+t*u,e-t*o]}return u.invert=function(u,o){return[(u-n)/t*r,(e-o)/t*i]},u}function pv(t,n,e,r,i,u){var o=al(u),a=hl(u),c=o*t,f=a*t,s=o/t,l=a/t,h=(a*e-o*n)/t,d=(a*n+o*e)/t;function p(t,u){return t*=r,u*=i,[c*t-f*u+n,e-f*t-c*u]}return p.invert=function(t,n){return[r*(s*t-l*n+h),i*(d-l*t-s*n)]},p}function vv(t){return gv((function(){return t}))()}function gv(t){var n,e,r,i,u,o,a,c,f,s,l=150,h=480,d=250,p=0,v=0,g=0,b=0,y=0,m=0,_=1,x=1,w=null,M=ld,k=null,S=Zd,T=.5;function N(t){return c(t[0]*rl,t[1]*rl)}function A(t){return t=c.invert(t[0],t[1]),t&&[t[0]*el,t[1]*el]}function C(){var t=pv(l,0,0,_,x,m).apply(null,n(p,v)),r=(m?pv:dv)(l,h-t[0],d-t[1],_,x,m);return e=Xh(g,b,y),a=Hh(n,r),c=Hh(e,a),o=cv(a,T),E()}function E(){return f=s=null,N}return N.stream=function(t){return f&&s===t?f:f=lv(hv(e)(M(o(S(s=t)))))},N.preclip=function(t){return arguments.length?(M=t,w=void 0,E()):M},N.postclip=function(t){return arguments.length?(S=t,k=r=i=u=null,E()):S},N.clipAngle=function(t){return arguments.length?(M=+t?vd(w=t*rl):(w=null,ld),E()):w*el},N.clipExtent=function(t){return arguments.length?(S=null==t?(k=r=i=u=null,Zd):md(k=+t[0][0],r=+t[0][1],i=+t[1][0],u=+t[1][1]),E()):null==k?null:[[k,r],[i,u]]},N.scale=function(t){return arguments.length?(l=+t,C()):l},N.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],C()):[h,d]},N.center=function(t){return arguments.length?(p=t[0]%360*rl,v=t[1]%360*rl,C()):[p*el,v*el]},N.rotate=function(t){return arguments.length?(g=t[0]%360*rl,b=t[1]%360*rl,y=t.length>2?t[2]%360*rl:0,C()):[g*el,b*el,y*el]},N.angle=function(t){return arguments.length?(m=t%360*rl,C()):m*el},N.reflectX=function(t){return arguments.length?(_=t?-1:1,C()):_<0},N.reflectY=function(t){return arguments.length?(x=t?-1:1,C()):x<0},N.precision=function(t){return arguments.length?(o=cv(a,T=t*t),E()):pl(T)},N.fitExtent=function(t,n){return ev(N,t,n)},N.fitSize=function(t,n){return rv(N,t,n)},N.fitWidth=function(t,n){return iv(N,t,n)},N.fitHeight=function(t,n){return uv(N,t,n)},function(){return n=t.apply(this,arguments),N.invert=n.invert&&A,C()}}function bv(t){var n=0,e=Ks/3,r=gv(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*rl,e=t[1]*rl):[n*el,e*el]},i}function yv(t){var n=al(t);function e(t,e){return[t*n,hl(e)/n]}return e.invert=function(t,e){return[t/n,bl(e*n)]},e}function mv(t,n){var e=hl(t),r=(e+hl(n))/2;if(il(r)<Ws)return yv(t);var i=1+e*(2*r-e),u=pl(i)/r;function o(t,n){var e=pl(i-2*r*hl(n))/r;return[e*hl(t*=r),u-e*al(t)]}return o.invert=function(t,n){var e=u-n,o=ol(t,il(e))*dl(e);return e*r<0&&(o-=Ks*dl(t)*dl(e)),[o/r,bl((i-(t*t+e*e)*r*r)/(2*r))]},o}function _v(){return bv(mv).scale(155.424).center([0,33.6442])}function xv(){return _v().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function wv(t){var n=t.length;return{point:function(e,r){var i=-1;while(++i<n)t[i].point(e,r)},sphere:function(){var e=-1;while(++e<n)t[e].sphere()},lineStart:function(){var e=-1;while(++e<n)t[e].lineStart()},lineEnd:function(){var e=-1;while(++e<n)t[e].lineEnd()},polygonStart:function(){var e=-1;while(++e<n)t[e].polygonStart()},polygonEnd:function(){var e=-1;while(++e<n)t[e].polygonEnd()}}}function Mv(){var t,n,e,r,i,u,o=xv(),a=_v().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=_v().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,n){u=[t,n]}};function s(t){var n=t[0],o=t[1];return u=null,e.point(n,o),u||(r.point(n,o),u)||(i.point(n,o),u)}function l(){return t=n=null,s}return s.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:o).invert(t)},s.stream=function(e){return t&&n===e?t:t=wv([o.stream(n=e),a.stream(e),c.stream(e)])},s.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),c.precision(t),l()):o.precision()},s.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),c.scale(t),s.translate(o.translate())):o.scale()},s.translate=function(t){if(!arguments.length)return o.translate();var n=o.scale(),u=+t[0],s=+t[1];return e=o.translate(t).clipExtent([[u-.455*n,s-.238*n],[u+.455*n,s+.238*n]]).stream(f),r=a.translate([u-.307*n,s+.201*n]).clipExtent([[u-.425*n+Ws,s+.12*n+Ws],[u-.214*n-Ws,s+.234*n-Ws]]).stream(f),i=c.translate([u-.205*n,s+.212*n]).clipExtent([[u-.214*n+Ws,s+.166*n+Ws],[u-.115*n-Ws,s+.234*n-Ws]]).stream(f),l()},s.fitExtent=function(t,n){return ev(s,t,n)},s.fitSize=function(t,n){return rv(s,t,n)},s.fitWidth=function(t,n){return iv(s,t,n)},s.fitHeight=function(t,n){return uv(s,t,n)},s.scale(1070)}function kv(t){return function(n,e){var r=al(n),i=al(e),u=t(r*i);return[u*i*hl(n),u*hl(e)]}}function Sv(t){return function(n,e){var r=pl(n*n+e*e),i=t(r),u=hl(i),o=al(i);return[ol(n*u,r*o),bl(r&&e*u/r)]}}var Tv=kv((function(t){return pl(2/(1+t))}));function Nv(){return vv(Tv).scale(124.75).clipAngle(179.999)}Tv.invert=Sv((function(t){return 2*bl(t/2)}));var Av=kv((function(t){return(t=gl(t))&&t/hl(t)}));function Cv(){return vv(Av).scale(79.4188).clipAngle(179.999)}function Ev(t,n){return[t,sl(vl((Js+n)/2))]}function Pv(){return Rv(Ev).scale(961/nl)}function Rv(t){var n,e,r,i=vv(t),u=i.center,o=i.scale,a=i.translate,c=i.clipExtent,f=null;function s(){var u=Ks*o(),a=i(Wh(i.rotate()).invert([0,0]));return c(null==f?[[a[0]-u,a[1]-u],[a[0]+u,a[1]+u]]:t===Ev?[[Math.max(a[0]-u,f),n],[Math.min(a[0]+u,e),r]]:[[f,Math.max(a[1]-u,n)],[e,Math.min(a[1]+u,r)]])}return i.scale=function(t){return arguments.length?(o(t),s()):o()},i.translate=function(t){return arguments.length?(a(t),s()):a()},i.center=function(t){return arguments.length?(u(t),s()):u()},i.clipExtent=function(t){return arguments.length?(null==t?f=n=e=r=null:(f=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==f?null:[[f,n],[e,r]]},s()}function zv(t){return vl((Js+t)/2)}function qv(t,n){var e=al(t),r=t===n?hl(t):sl(e/al(n))/sl(zv(n)/zv(t)),i=e*ll(zv(t),r)/r;if(!r)return Ev;function u(t,n){i>0?n<-Js+Ws&&(n=-Js+Ws):n>Js-Ws&&(n=Js-Ws);var e=i/ll(zv(n),r);return[e*hl(r*t),i-e*al(r*t)]}return u.invert=function(t,n){var e=i-n,u=dl(r)*pl(t*t+e*e),o=ol(t,il(e))*dl(e);return e*r<0&&(o-=Ks*dl(t)*dl(e)),[o/r,2*ul(ll(i/u,1/r))-Js]},u}function Dv(){return bv(qv).scale(109.5).parallels([30,30])}function Iv(t,n){return[t,n]}function Uv(){return vv(Iv).scale(152.63)}function Lv(t,n){var e=al(t),r=t===n?hl(t):(e-al(n))/(n-t),i=e/r+t;if(il(r)<Ws)return Iv;function u(t,n){var e=i-n,u=r*t;return[e*hl(u),i-e*al(u)]}return u.invert=function(t,n){var e=i-n,u=ol(t,il(e))*dl(e);return e*r<0&&(u-=Ks*dl(t)*dl(e)),[u/r,i-dl(r)*pl(t*t+e*e)]},u}function Bv(){return bv(Lv).scale(131.154).center([0,13.9389])}Av.invert=Sv((function(t){return t})),Ev.invert=function(t,n){return[t,2*ul(fl(n))-Js]},Iv.invert=Iv;var Ov=1.340264,jv=-.081106,Fv=893e-6,Yv=.003796,Hv=pl(3)/2,Gv=12;function Xv(t,n){var e=bl(Hv*hl(n)),r=e*e,i=r*r*r;return[t*al(e)/(Hv*(Ov+3*jv*r+i*(7*Fv+9*Yv*r))),e*(Ov+jv*r+i*(Fv+Yv*r))]}function Vv(){return vv(Xv).scale(177.158)}function Zv(t,n){var e=al(n),r=al(t)*e;return[e*hl(t)/r,hl(n)/r]}function $v(){return vv(Zv).scale(144.049).clipAngle(60)}function Wv(){var t,n,e,r,i,u,o,a=1,c=0,f=0,s=1,l=1,h=0,d=null,p=1,v=1,g=Jp({point:function(t,n){var e=m([t,n]);this.stream.point(e[0],e[1])}}),b=Zd;function y(){return p=a*s,v=a*l,u=o=null,m}function m(e){var r=e[0]*p,i=e[1]*v;if(h){var u=i*t-r*n;r=r*t+i*n,i=u}return[r+c,i+f]}return m.invert=function(e){var r=e[0]-c,i=e[1]-f;if(h){var u=i*t+r*n;r=r*t-i*n,i=u}return[r/p,i/v]},m.stream=function(t){return u&&o===t?u:u=g(b(o=t))},m.postclip=function(t){return arguments.length?(b=t,d=e=r=i=null,y()):b},m.clipExtent=function(t){return arguments.length?(b=null==t?(d=e=r=i=null,Zd):md(d=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),y()):null==d?null:[[d,e],[r,i]]},m.scale=function(t){return arguments.length?(a=+t,y()):a},m.translate=function(t){return arguments.length?(c=+t[0],f=+t[1],y()):[c,f]},m.angle=function(e){return arguments.length?(h=e%360*rl,n=hl(h),t=al(h),y()):h*el},m.reflectX=function(t){return arguments.length?(s=t?-1:1,y()):s<0},m.reflectY=function(t){return arguments.length?(l=t?-1:1,y()):l<0},m.fitExtent=function(t,n){return ev(m,t,n)},m.fitSize=function(t,n){return rv(m,t,n)},m.fitWidth=function(t,n){return iv(m,t,n)},m.fitHeight=function(t,n){return uv(m,t,n)},m}function Qv(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function Kv(){return vv(Qv).scale(175.295)}function Jv(t,n){return[al(n)*hl(t),hl(n)]}function tg(){return vv(Jv).scale(249.5).clipAngle(90+Ws)}function ng(t,n){var e=al(n),r=1+al(t)*e;return[e*hl(t)/r,hl(n)/r]}function eg(){return vv(ng).scale(250).clipAngle(142)}function rg(t,n){return[sl(vl((Js+n)/2)),-t]}function ig(){var t=Rv(rg),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}function ug(t,n){return t.parent===n.parent?1:2}function og(t){return t.reduce(ag,0)/t.length}function ag(t,n){return t+n.x}function cg(t){return 1+t.reduce(fg,0)}function fg(t,n){return Math.max(t,n.y)}function sg(t){var n;while(n=t.children)t=n[0];return t}function lg(t){var n;while(n=t.children)t=n[n.length-1];return t}function hg(){var t=ug,n=1,e=1,r=!1;function i(i){var u,o=0;i.eachAfter((function(n){var e=n.children;e?(n.x=og(e),n.y=cg(e)):(n.x=u?o+=t(n,u):0,n.y=0,u=n)}));var a=sg(i),c=lg(i),f=a.x-t(a,c)/2,s=c.x+t(c,a)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-f)/(s-f)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}function dg(t){var n=0,e=t.children,r=e&&e.length;if(r)while(--r>=0)n+=e[r].value;else n=1;t.value=n}function pg(){return this.eachAfter(dg)}function vg(t){var n,e,r,i,u=this,o=[u];do{n=o.reverse(),o=[];while(u=n.pop())if(t(u),e=u.children,e)for(r=0,i=e.length;r<i;++r)o.push(e[r])}while(o.length);return this}function gg(t){var n,e,r=this,i=[r];while(r=i.pop())if(t(r),n=r.children,n)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this}function bg(t){var n,e,r,i=this,u=[i],o=[];while(i=u.pop())if(o.push(i),n=i.children,n)for(e=0,r=n.length;e<r;++e)u.push(n[e]);while(i=o.pop())t(i);return this}function yg(t){return this.eachAfter((function(n){var e=+t(n.data)||0,r=n.children,i=r&&r.length;while(--i>=0)e+=r[i].value;n.value=e}))}function mg(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))}function _g(t){var n=this,e=xg(n,t),r=[n];while(n!==e)n=n.parent,r.push(n);var i=r.length;while(t!==e)r.splice(i,0,t),t=t.parent;return r}function xg(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();while(t===n)i=t,t=e.pop(),n=r.pop();return i}function wg(){var t=this,n=[t];while(t=t.parent)n.push(t);return n}function Mg(){var t=[];return this.each((function(n){t.push(n)})),t}function kg(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t}function Sg(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n}function Tg(t,n){var e,r,i,u,o,a=new Pg(t),c=+t.value&&(a.value=t.value),f=[a];null==n&&(n=Ag);while(e=f.pop())if(c&&(e.value=+e.data.value),(i=n(e.data))&&(o=i.length))for(e.children=new Array(o),u=o-1;u>=0;--u)f.push(r=e.children[u]=new Pg(i[u])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(Eg)}function Ng(){return Tg(this).eachBefore(Cg)}function Ag(t){return t.children}function Cg(t){t.data=t.data.data}function Eg(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Pg(t){this.data=t,this.depth=this.height=0,this.parent=null}Xv.invert=function(t,n){for(var e,r,i,u=n,o=u*u,a=o*o*o,c=0;c<Gv;++c)if(r=u*(Ov+jv*o+a*(Fv+Yv*o))-n,i=Ov+3*jv*o+a*(7*Fv+9*Yv*o),u-=e=r/i,o=u*u,a=o*o*o,il(e)<Qs)break;return[Hv*t*(Ov+3*jv*o+a*(7*Fv+9*Yv*o))/al(u),bl(hl(u)/Hv)]},Zv.invert=Sv(ul),Qv.invert=function(t,n){var e,r=n,i=25;do{var u=r*r,o=u*u;r-=e=(r*(1.007226+u*(.015085+o*(.028874*u-.044475-.005916*o)))-n)/(1.007226+u*(.045255+o*(.259866*u-.311325-.005916*11*o)))}while(il(e)>Ws&&--i>0);return[t/(.8707+(u=r*r)*(u*(u*u*u*(.003971-.001529*u)-.013791)-.131979)),r]},Jv.invert=Sv(bl),ng.invert=Sv((function(t){return 2*ul(t)})),rg.invert=function(t,n){return[-n,2*ul(fl(t))-Js]},Pg.prototype=Tg.prototype={constructor:Pg,count:pg,each:vg,eachAfter:bg,eachBefore:gg,sum:yg,sort:mg,path:_g,ancestors:wg,descendants:Mg,leaves:kg,links:Sg,copy:Ng};var Rg=Array.prototype.slice;function zg(t){var n,e,r=t.length;while(r)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}function qg(t){var n,e,r=0,i=(t=zg(Rg.call(t))).length,u=[];while(r<i)n=t[r],e&&Ug(e,n)?++r:(e=Bg(u=Dg(u,n)),r=0);return e}function Dg(t,n){var e,r;if(Lg(n,t))return[n];for(e=0;e<t.length;++e)if(Ig(n,t[e])&&Lg(jg(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Ig(jg(t[e],t[r]),n)&&Ig(jg(t[e],n),t[r])&&Ig(jg(t[r],n),t[e])&&Lg(Fg(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Ig(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Ug(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Lg(t,n){for(var e=0;e<n.length;++e)if(!Ug(t,n[e]))return!1;return!0}function Bg(t){switch(t.length){case 1:return Og(t[0]);case 2:return jg(t[0],t[1]);case 3:return Fg(t[0],t[1],t[2])}}function Og(t){return{x:t.x,y:t.y,r:t.r}}function jg(t,n){var e=t.x,r=t.y,i=t.r,u=n.x,o=n.y,a=n.r,c=u-e,f=o-r,s=a-i,l=Math.sqrt(c*c+f*f);return{x:(e+u+c/l*s)/2,y:(r+o+f/l*s)/2,r:(l+i+a)/2}}function Fg(t,n,e){var r=t.x,i=t.y,u=t.r,o=n.x,a=n.y,c=n.r,f=e.x,s=e.y,l=e.r,h=r-o,d=r-f,p=i-a,v=i-s,g=c-u,b=l-u,y=r*r+i*i-u*u,m=y-o*o-a*a+c*c,_=y-f*f-s*s+l*l,x=d*p-h*v,w=(p*_-v*m)/(2*x)-r,M=(v*g-p*b)/x,k=(d*m-h*_)/(2*x)-i,S=(h*b-d*g)/x,T=M*M+S*S-1,N=2*(u+w*M+k*S),A=w*w+k*k-u*u,C=-(T?(N+Math.sqrt(N*N-4*T*A))/(2*T):A/N);return{x:r+w+M*C,y:i+k+S*C,r:C}}function Yg(t,n,e){var r,i,u,o,a=t.x-n.x,c=t.y-n.y,f=a*a+c*c;f?(i=n.r+e.r,i*=i,o=t.r+e.r,o*=o,i>o?(r=(f+o-i)/(2*f),u=Math.sqrt(Math.max(0,o/f-r*r)),e.x=t.x-r*a-u*c,e.y=t.y-r*c+u*a):(r=(f+i-o)/(2*f),u=Math.sqrt(Math.max(0,i/f-r*r)),e.x=n.x+r*a-u*c,e.y=n.y+r*c+u*a)):(e.x=n.x+e.r,e.y=n.y)}function Hg(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Gg(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,u=(n.y*e.r+e.y*n.r)/r;return i*i+u*u}function Xg(t){this._=t,this.next=null,this.previous=null}function Vg(t){if(!(i=t.length))return 0;var n,e,r,i,u,o,a,c,f,s,l;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;Yg(e,n,r=t[2]),n=new Xg(n),e=new Xg(e),r=new Xg(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(a=3;a<i;++a){Yg(n._,e._,r=t[a]),r=new Xg(r),c=e.next,f=n.previous,s=e._.r,l=n._.r;do{if(s<=l){if(Hg(c._,r._)){e=c,n.next=e,e.previous=n,--a;continue t}s+=c._.r,c=c.next}else{if(Hg(f._,r._)){n=f,n.next=e,e.previous=n,--a;continue t}l+=f._.r,f=f.previous}}while(c!==f.next);r.previous=n,r.next=e,n.next=e.previous=e=r,u=Gg(n);while((r=r.next)!==e)(o=Gg(r))<u&&(n=r,u=o);e=n.next}n=[e._],r=e;while((r=r.next)!==e)n.push(r._);for(r=qg(n),a=0;a<i;++a)n=t[a],n.x-=r.x,n.y-=r.y;return r.r}function Zg(t){return Vg(t),t}function $g(t){return null==t?null:Wg(t)}function Wg(t){if("function"!==typeof t)throw new Error;return t}function Qg(){return 0}function Kg(t){return function(){return t}}function Jg(t){return Math.sqrt(t.value)}function tb(){var t=null,n=1,e=1,r=Qg;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(nb(t)).eachAfter(eb(r,.5)).eachBefore(rb(1)):i.eachBefore(nb(Jg)).eachAfter(eb(Qg,1)).eachAfter(eb(r,i.r/Math.min(n,e))).eachBefore(rb(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=$g(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:Kg(+t),i):r},i}function nb(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function eb(t,n){return function(e){if(r=e.children){var r,i,u,o=r.length,a=t(e)*n||0;if(a)for(i=0;i<o;++i)r[i].r+=a;if(u=Vg(r),a)for(i=0;i<o;++i)r[i].r-=a;e.r=u+a}}}function rb(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function ib(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ub(t,n,e,r,i){var u,o=t.children,a=-1,c=o.length,f=t.value&&(r-n)/t.value;while(++a<c)u=o[a],u.y0=e,u.y1=i,u.x0=n,u.x1=n+=u.value*f}function ob(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(u(n,o)),r&&i.eachBefore(ib),i}function u(t,n){return function(r){r.children&&ub(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,u=r.y0,o=r.x1-e,a=r.y1-e;o<i&&(i=o=(i+o)/2),a<u&&(u=a=(u+a)/2),r.x0=i,r.y0=u,r.x1=o,r.y1=a}}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i}var ab="$",cb={depth:-1},fb={};function sb(t){return t.id}function lb(t){return t.parentId}function hb(){var t=sb,n=lb;function e(e){var r,i,u,o,a,c,f,s=e.length,l=new Array(s),h={};for(i=0;i<s;++i)r=e[i],a=l[i]=new Pg(r),null!=(c=t(r,i,e))&&(c+="")&&(f=ab+(a.id=c),h[f]=f in h?fb:a);for(i=0;i<s;++i)if(a=l[i],c=n(e[i],i,e),null!=c&&(c+="")){if(o=h[ab+c],!o)throw new Error("missing: "+c);if(o===fb)throw new Error("ambiguous: "+c);o.children?o.children.push(a):o.children=[a],a.parent=o}else{if(u)throw new Error("multiple roots");u=a}if(!u)throw new Error("no root");if(u.parent=cb,u.eachBefore((function(t){t.depth=t.parent.depth+1,--s})).eachBefore(Eg),u.parent=null,s>0)throw new Error("cycle");return u}return e.id=function(n){return arguments.length?(t=Wg(n),e):t},e.parentId=function(t){return arguments.length?(n=Wg(t),e):n},e}function db(t,n){return t.parent===n.parent?1:2}function pb(t){var n=t.children;return n?n[0]:t.t}function vb(t){var n=t.children;return n?n[n.length-1]:t.t}function gb(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function bb(t){var n,e=0,r=0,i=t.children,u=i.length;while(--u>=0)n=i[u],n.z+=e,n.m+=e,e+=n.s+(r+=n.c)}function yb(t,n,e){return t.a.parent===n.parent?t.a:e}function mb(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function _b(t){var n,e,r,i,u,o=new mb(t,0),a=[o];while(n=a.pop())if(r=n._.children)for(n.children=new Array(u=r.length),i=u-1;i>=0;--i)a.push(e=n.children[i]=new mb(r[i],i)),e.parent=n;return(o.parent=new mb(null,0)).children=[o],o}function xb(){var t=db,n=1,e=1,r=null;function i(i){var a=_b(i);if(a.eachAfter(u),a.parent.m=-a.z,a.eachBefore(o),r)i.eachBefore(c);else{var f=i,s=i,l=i;i.eachBefore((function(t){t.x<f.x&&(f=t),t.x>s.x&&(s=t),t.depth>l.depth&&(l=t)}));var h=f===s?1:t(f,s)/2,d=h-f.x,p=n/(s.x+h+d),v=e/(l.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*v}))}return i}function u(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){bb(n);var u=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-u):n.z=u}else i&&(n.z=i.z+t(n._,i._));n.parent.A=a(n,i,n.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(n,e,r){if(e){var i,u=n,o=n,a=e,c=u.parent.children[0],f=u.m,s=o.m,l=a.m,h=c.m;while(a=vb(a),u=pb(u),a&&u)c=pb(c),o=vb(o),o.a=n,i=a.z+l-u.z-f+t(a._,u._),i>0&&(gb(yb(a,n,r),n,i),f+=i,s+=i),l+=a.m,f+=u.m,h+=c.m,s+=o.m;a&&!vb(o)&&(o.t=a,o.m+=l-s),u&&!pb(c)&&(c.t=u,c.m+=f-h,r=n)}return r}function c(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}function wb(t,n,e,r,i){var u,o=t.children,a=-1,c=o.length,f=t.value&&(i-e)/t.value;while(++a<c)u=o[a],u.x0=n,u.x1=r,u.y0=e,u.y1=e+=u.value*f}mb.prototype=Object.create(Pg.prototype);var Mb=(1+Math.sqrt(5))/2;function kb(t,n,e,r,i,u){var o,a,c,f,s,l,h,d,p,v,g,b=[],y=n.children,m=0,_=0,x=y.length,w=n.value;while(m<x){c=i-e,f=u-r;do{s=y[_++].value}while(!s&&_<x);for(l=h=s,v=Math.max(f/c,c/f)/(w*t),g=s*s*v,p=Math.max(h/g,g/l);_<x;++_){if(s+=a=y[_].value,a<l&&(l=a),a>h&&(h=a),g=s*s*v,d=Math.max(h/g,g/l),d>p){s-=a;break}p=d}b.push(o={value:s,dice:c<f,children:y.slice(m,_)}),o.dice?ub(o,e,r,i,w?r+=f*s/w:u):wb(o,e,r,w?e+=c*s/w:i,u),w-=s,m=_}return b}var Sb=function t(n){function e(t,e,r,i,u){kb(n,t,e,r,i,u)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Mb);function Tb(){var t=Sb,n=!1,e=1,r=1,i=[0],u=Qg,o=Qg,a=Qg,c=Qg,f=Qg;function s(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(l),i=[0],n&&t.eachBefore(ib),t}function l(n){var e=i[n.depth],r=n.x0+e,s=n.y0+e,l=n.x1-e,h=n.y1-e;l<r&&(r=l=(r+l)/2),h<s&&(s=h=(s+h)/2),n.x0=r,n.y0=s,n.x1=l,n.y1=h,n.children&&(e=i[n.depth+1]=u(n)/2,r+=f(n)-e,s+=o(n)-e,l-=a(n)-e,h-=c(n)-e,l<r&&(r=l=(r+l)/2),h<s&&(s=h=(s+h)/2),t(n,r,s,l,h))}return s.round=function(t){return arguments.length?(n=!!t,s):n},s.size=function(t){return arguments.length?(e=+t[0],r=+t[1],s):[e,r]},s.tile=function(n){return arguments.length?(t=Wg(n),s):t},s.padding=function(t){return arguments.length?s.paddingInner(t).paddingOuter(t):s.paddingInner()},s.paddingInner=function(t){return arguments.length?(u="function"===typeof t?t:Kg(+t),s):u},s.paddingOuter=function(t){return arguments.length?s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):s.paddingTop()},s.paddingTop=function(t){return arguments.length?(o="function"===typeof t?t:Kg(+t),s):o},s.paddingRight=function(t){return arguments.length?(a="function"===typeof t?t:Kg(+t),s):a},s.paddingBottom=function(t){return arguments.length?(c="function"===typeof t?t:Kg(+t),s):c},s.paddingLeft=function(t){return arguments.length?(f="function"===typeof t?t:Kg(+t),s):f},s}function Nb(t,n,e,r,i){var u,o,a=t.children,c=a.length,f=new Array(c+1);for(f[0]=o=u=0;u<c;++u)f[u+1]=o+=a[u].value;function s(t,n,e,r,i,u,o){if(t>=n-1){var c=a[t];return c.x0=r,c.y0=i,c.x1=u,void(c.y1=o)}var l=f[t],h=e/2+l,d=t+1,p=n-1;while(d<p){var v=d+p>>>1;f[v]<h?d=v+1:p=v}h-f[d-1]<f[d]-h&&t+1<d&&--d;var g=f[d]-l,b=e-g;if(u-r>o-i){var y=(r*b+u*g)/e;s(t,d,g,r,i,y,o),s(d,n,b,y,i,u,o)}else{var m=(i*b+o*g)/e;s(t,d,g,r,i,u,m),s(d,n,b,r,m,u,o)}}s(0,c,t.value,n,e,r,i)}function Ab(t,n,e,r,i){(1&t.depth?wb:ub)(t,n,e,r,i)}var Cb=function t(n){function e(t,e,r,i,u){if((o=t._squarify)&&o.ratio===n){var o,a,c,f,s,l=-1,h=o.length,d=t.value;while(++l<h){for(a=o[l],c=a.children,f=a.value=0,s=c.length;f<s;++f)a.value+=c[f].value;a.dice?ub(a,e,r,i,r+=(u-r)*a.value/d):wb(a,e,r,e+=(i-e)*a.value/d,u),d-=a.value}}else t._squarify=o=kb(n,t,e,r,i,u),o.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Mb);function Eb(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function Pb(t,n){var e=tr(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}}function Rb(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var zb=Math.SQRT2,qb=2,Db=4,Ib=1e-12;function Ub(t){return((t=Math.exp(t))+1/t)/2}function Lb(t){return((t=Math.exp(t))-1/t)/2}function Bb(t){return((t=Math.exp(2*t))-1)/(t+1)}function Ob(t,n){var e,r,i=t[0],u=t[1],o=t[2],a=n[0],c=n[1],f=n[2],s=a-i,l=c-u,h=s*s+l*l;if(h<Ib)r=Math.log(f/o)/zb,e=function(t){return[i+t*s,u+t*l,o*Math.exp(zb*t*r)]};else{var d=Math.sqrt(h),p=(f*f-o*o+Db*h)/(2*o*qb*d),v=(f*f-o*o-Db*h)/(2*f*qb*d),g=Math.log(Math.sqrt(p*p+1)-p),b=Math.log(Math.sqrt(v*v+1)-v);r=(b-g)/zb,e=function(t){var n=t*r,e=Ub(g),a=o/(qb*d)*(e*Bb(zb*n+g)-Lb(g));return[i+a*s,u+a*l,o*e/Ub(zb*n+g)]}}return e.duration=1e3*r,e}function jb(t){return function(n,e){var r=t((n=Ge(n)).h,(e=Ge(e)).h),i=er(n.s,e.s),u=er(n.l,e.l),o=er(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=u(t),n.opacity=o(t),n+""}}}var Fb=jb(tr),Yb=jb(er);function Hb(t,n){var e=er((t=ua(t)).l,(n=ua(n)).l),r=er(t.a,n.a),i=er(t.b,n.b),u=er(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=u(n),t+""}}function Gb(t){return function(n,e){var r=t((n=da(n)).h,(e=da(e)).h),i=er(n.c,e.c),u=er(n.l,e.l),o=er(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=u(t),n.opacity=o(t),n+""}}}var Xb=Gb(tr),Vb=Gb(er);function Zb(t){return function n(e){function r(n,r){var i=t((n=Sa(n)).h,(r=Sa(r)).h),u=er(n.s,r.s),o=er(n.l,r.l),a=er(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=u(t),n.l=o(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}var $b=Zb(tr),Wb=Zb(er);function Qb(t,n){var e=0,r=n.length-1,i=n[0],u=new Array(r<0?0:r);while(e<r)u[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return u[n](t-n)}}function Kb(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}function Jb(t){var n,e=-1,r=t.length,i=t[r-1],u=0;while(++e<r)n=i,i=t[e],u+=n[1]*i[0]-n[0]*i[1];return u/2}function ty(t){var n,e,r=-1,i=t.length,u=0,o=0,a=t[i-1],c=0;while(++r<i)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],u+=(n[0]+a[0])*e,o+=(n[1]+a[1])*e;return c*=3,[u/c,o/c]}function ny(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function ey(t,n){return t[0]-n[0]||t[1]-n[1]}function ry(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){while(r>1&&ny(t[e[r-2]],t[e[r-1]],t[i])<=0)--r;e[r++]=i}return e.slice(0,r)}function iy(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(ey),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var u=ry(r),o=ry(i),a=o[0]===u[0],c=o[o.length-1]===u[u.length-1],f=[];for(n=u.length-1;n>=0;--n)f.push(t[r[u[n]][2]]);for(n=+a;n<o.length-c;++n)f.push(t[r[o[n]][2]]);return f}function uy(t,n){for(var e,r,i=t.length,u=t[i-1],o=n[0],a=n[1],c=u[0],f=u[1],s=!1,l=0;l<i;++l)u=t[l],e=u[0],r=u[1],r>a!==f>a&&o<(c-e)*(a-r)/(f-r)+e&&(s=!s),c=e,f=r;return s}function oy(t){var n,e,r=-1,i=t.length,u=t[i-1],o=u[0],a=u[1],c=0;while(++r<i)n=o,e=a,u=t[r],o=u[0],a=u[1],n-=o,e-=a,c+=Math.sqrt(n*n+e*e);return c}function ay(){return Math.random()}var cy=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(ay),fy=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var u;if(null!=r)u=r,r=null;else do{r=2*n()-1,u=2*n()-1,i=r*r+u*u}while(!i||i>1);return t+e*u*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(ay),sy=function t(n){function e(){var t=fy.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(ay),ly=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(ay),hy=function t(n){function e(t){var e=ly.source(n)(t);return function(){return e()/t}}return e.source=t,e}(ay),dy=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(ay);function py(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function vy(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t);break}return this}var gy=Array.prototype,by=gy.map,yy=gy.slice,my={name:"implicit"};function _y(){var t=qo(),n=[],e=[],r=my;function i(i){var u=i+"",o=t.get(u);if(!o){if(r!==my)return r;t.set(u,o=n.push(i))}return e[(o-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=qo();var r,u,o=-1,a=e.length;while(++o<a)t.has(u=(r=e[o])+"")||t.set(u,n.push(r));return i},i.range=function(t){return arguments.length?(e=yy.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return _y(n,e).unknown(r)},py.apply(i,arguments),i}function xy(){var t,n,e=_y().unknown(void 0),r=e.domain,i=e.range,u=[0,1],o=!1,a=0,c=0,f=.5;function s(){var e=r().length,s=u[1]<u[0],l=u[s-0],h=u[1-s];t=(h-l)/Math.max(1,e-a+2*c),o&&(t=Math.floor(t)),l+=(h-l-t*(e-a))*f,n=t*(1-a),o&&(l=Math.round(l),n=Math.round(n));var d=k(e).map((function(n){return l+t*n}));return i(s?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),s()):r()},e.range=function(t){return arguments.length?(u=[+t[0],+t[1]],s()):u.slice()},e.rangeRound=function(t){return u=[+t[0],+t[1]],o=!0,s()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(o=!!t,s()):o},e.padding=function(t){return arguments.length?(a=Math.min(1,c=+t),s()):a},e.paddingInner=function(t){return arguments.length?(a=Math.min(1,t),s()):a},e.paddingOuter=function(t){return arguments.length?(c=+t,s()):c},e.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),s()):f},e.copy=function(){return xy(r(),u).round(o).paddingInner(a).paddingOuter(c).align(f)},py.apply(s(),arguments)}function wy(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wy(n())},t}function My(){return wy(xy.apply(null,arguments).paddingInner(1))}function ky(t){return function(){return t}}function Sy(t){return+t}var Ty=[0,1];function Ny(t){return t}function Ay(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:ky(isNaN(n)?NaN:.5)}function Cy(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function Ey(t,n,e){var r=t[0],i=t[1],u=n[0],o=n[1];return i<r?(r=Ay(i,r),u=e(o,u)):(r=Ay(r,i),u=e(u,o)),function(t){return u(r(t))}}function Py(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),u=new Array(r),o=-1;t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());while(++o<r)i[o]=Ay(t[o],t[o+1]),u[o]=e(n[o],n[o+1]);return function(n){var e=s(t,n,1,r)-1;return u[e](i[e](n))}}function Ry(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zy(){var t,n,e,r,i,u,o=Ty,a=Ty,c=mr,f=Ny;function s(){return r=Math.min(o.length,a.length)>2?Py:Ey,i=u=null,l}function l(n){return isNaN(n=+n)?e:(i||(i=r(o.map(t),a,c)))(t(f(n)))}return l.invert=function(e){return f(n((u||(u=r(a,o.map(t),hr)))(e)))},l.domain=function(t){return arguments.length?(o=by.call(t,Sy),f===Ny||(f=Cy(o)),s()):o.slice()},l.range=function(t){return arguments.length?(a=yy.call(t),s()):a.slice()},l.rangeRound=function(t){return a=yy.call(t),c=Rb,s()},l.clamp=function(t){return arguments.length?(f=t?Cy(o):Ny,l):f!==Ny},l.interpolate=function(t){return arguments.length?(c=t,s()):c},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,s()}}function qy(t,n){return zy()(t,n)}function Dy(t,n,e,r){var i,u=E(t,n,e);switch(r=Cs(null==r?",f":r),r.type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=Hs(u,o))||(r.precision=i),Ls(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Gs(u,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Ys(u))||(r.precision=i-2*("%"===r.type));break}return Us(r)}function Iy(t){var n=t.domain;return t.ticks=function(t){var e=n();return A(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Dy(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),u=0,o=i.length-1,a=i[u],c=i[o];return c<a&&(r=a,a=c,c=r,r=u,u=o,o=r),r=C(a,c,e),r>0?(a=Math.floor(a/r)*r,c=Math.ceil(c/r)*r,r=C(a,c,e)):r<0&&(a=Math.ceil(a*r)/r,c=Math.floor(c*r)/r,r=C(a,c,e)),r>0?(i[u]=Math.floor(a/r)*r,i[o]=Math.ceil(c/r)*r,n(i)):r<0&&(i[u]=Math.ceil(a*r)/r,i[o]=Math.floor(c*r)/r,n(i)),t},t}function Uy(){var t=qy(Ny,Ny);return t.copy=function(){return Ry(t,Uy())},py.apply(t,arguments),Iy(t)}function Ly(t){var n;function e(t){return isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=by.call(n,Sy),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return Ly(t).unknown(n)},t=arguments.length?by.call(t,Sy):[0,1],Iy(e)}function By(t,n){t=t.slice();var e,r=0,i=t.length-1,u=t[r],o=t[i];return o<u&&(e=r,r=i,i=e,e=u,u=o,o=e),t[r]=n.floor(u),t[i]=n.ceil(o),t}function Oy(t){return Math.log(t)}function jy(t){return Math.exp(t)}function Fy(t){return-Math.log(-t)}function Yy(t){return-Math.exp(-t)}function Hy(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gy(t){return 10===t?Hy:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function Xy(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Vy(t){return function(n){return-t(-n)}}function Zy(t){var n,e,r=t(Oy,jy),i=r.domain,u=10;function o(){return n=Xy(u),e=Gy(u),i()[0]<0?(n=Vy(n),e=Vy(e),t(Fy,Yy)):t(Oy,jy),r}return r.base=function(t){return arguments.length?(u=+t,o()):u},r.domain=function(t){return arguments.length?(i(t),o()):i()},r.ticks=function(t){var r,o=i(),a=o[0],c=o[o.length-1];(r=c<a)&&(h=a,a=c,c=h);var f,s,l,h=n(a),d=n(c),p=null==t?10:+t,v=[];if(!(u%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,a>0){for(;h<d;++h)for(s=1,f=e(h);s<u;++s)if(l=f*s,!(l<a)){if(l>c)break;v.push(l)}}else for(;h<d;++h)for(s=u-1,f=e(h);s>=1;--s)if(l=f*s,!(l<a)){if(l>c)break;v.push(l)}}else v=A(h,d,Math.min(d-h,p)).map(e);return r?v.reverse():v},r.tickFormat=function(t,i){if(null==i&&(i=10===u?".0e":","),"function"!==typeof i&&(i=Us(i)),t===1/0)return i;null==t&&(t=10);var o=Math.max(1,u*t/r.ticks().length);return function(t){var r=t/e(Math.round(n(t)));return r*u<u-.5&&(r*=u),r<=o?i(t):""}},r.nice=function(){return i(By(i(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},r}function $y(){var t=Zy(zy()).domain([1,10]);return t.copy=function(){return Ry(t,$y()).base(t.base())},py.apply(t,arguments),t}function Wy(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Qy(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Ky(t){var n=1,e=t(Wy(n),Qy(n));return e.constant=function(e){return arguments.length?t(Wy(n=+e),Qy(n)):n},Iy(e)}function Jy(){var t=Ky(zy());return t.copy=function(){return Ry(t,Jy()).constant(t.constant())},py.apply(t,arguments)}function tm(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function nm(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function em(t){return t<0?-t*t:t*t}function rm(t){var n=t(Ny,Ny),e=1;function r(){return 1===e?t(Ny,Ny):.5===e?t(nm,em):t(tm(e),tm(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},Iy(n)}function im(){var t=rm(zy());return t.copy=function(){return Ry(t,im()).exponent(t.exponent())},py.apply(t,arguments),t}function um(){return im.apply(null,arguments).exponent(.5)}function om(){var t,n=[],e=[],r=[];function u(){var t=0,i=Math.max(1,e.length);r=new Array(i-1);while(++t<i)r[t-1]=z(n,t/i);return o}function o(n){return isNaN(n=+n)?t:e[s(r,n)]}return o.invertExtent=function(t){var i=e.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:n[0],i<r.length?r[i]:n[n.length-1]]},o.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var e,r=0,o=t.length;r<o;++r)e=t[r],null==e||isNaN(e=+e)||n.push(e);return n.sort(i),u()},o.range=function(t){return arguments.length?(e=yy.call(t),u()):e.slice()},o.unknown=function(n){return arguments.length?(t=n,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return om().domain(n).range(e).unknown(t)},py.apply(o,arguments)}function am(){var t,n=0,e=1,r=1,i=[.5],u=[0,1];function o(n){return n<=n?u[s(i,n,0,r)]:t}function a(){var t=-1;i=new Array(r);while(++t<r)i[t]=((t+1)*e-(t-r)*n)/(r+1);return o}return o.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],a()):[n,e]},o.range=function(t){return arguments.length?(r=(u=yy.call(t)).length-1,a()):u.slice()},o.invertExtent=function(t){var o=u.indexOf(t);return o<0?[NaN,NaN]:o<1?[n,i[0]]:o>=r?[i[r-1],e]:[i[o-1],i[o]]},o.unknown=function(n){return arguments.length?(t=n,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return am().domain([n,e]).range(u).unknown(t)},py.apply(Iy(o),arguments)}function cm(){var t,n=[.5],e=[0,1],r=1;function i(i){return i<=i?e[s(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=yy.call(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=yy.call(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return cm().domain(n).range(e).unknown(t)},py.apply(i,arguments)}var fm=new Date,sm=new Date;function lm(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,u){var o,a=[];if(e=i.ceil(e),u=null==u?1:Math.floor(u),!(e<r)||!(u>0))return a;do{a.push(o=new Date(+e)),n(e,u),t(e)}while(o<e&&e<r);return a},i.filter=function(e){return lm((function(n){if(n>=n)while(t(n),!e(n))n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)while(++r<=0)while(n(t,-1),!e(t));else while(--r>=0)while(n(t,1),!e(t));}))},e&&(i.count=function(n,r){return fm.setTime(+n),sm.setTime(+r),t(fm),t(sm),Math.floor(e(fm,sm))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t===0}:function(n){return i.count(0,n)%t===0}):i:null}),i}var hm=lm((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));hm.every=function(t){return isFinite(t=Math.floor(t))&&t>0?lm((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var dm=hm,pm=hm.range,vm=lm((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),gm=vm,bm=vm.range,ym=1e3,mm=6e4,_m=36e5,xm=864e5,wm=6048e5;function Mm(t){return lm((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*mm)/wm}))}var km=Mm(0),Sm=Mm(1),Tm=Mm(2),Nm=Mm(3),Am=Mm(4),Cm=Mm(5),Em=Mm(6),Pm=km.range,Rm=Sm.range,zm=Tm.range,qm=Nm.range,Dm=Am.range,Im=Cm.range,Um=Em.range,Lm=lm((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*mm)/xm}),(function(t){return t.getDate()-1})),Bm=Lm,Om=Lm.range,jm=lm((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ym-t.getMinutes()*mm)}),(function(t,n){t.setTime(+t+n*_m)}),(function(t,n){return(n-t)/_m}),(function(t){return t.getHours()})),Fm=jm,Ym=jm.range,Hm=lm((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ym)}),(function(t,n){t.setTime(+t+n*mm)}),(function(t,n){return(n-t)/mm}),(function(t){return t.getMinutes()})),Gm=Hm,Xm=Hm.range,Vm=lm((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+n*ym)}),(function(t,n){return(n-t)/ym}),(function(t){return t.getUTCSeconds()})),Zm=Vm,$m=Vm.range,Wm=lm((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));Wm.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?lm((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):Wm:null};var Qm=Wm,Km=Wm.range;function Jm(t){return lm((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/wm}))}var t_=Jm(0),n_=Jm(1),e_=Jm(2),r_=Jm(3),i_=Jm(4),u_=Jm(5),o_=Jm(6),a_=t_.range,c_=n_.range,f_=e_.range,s_=r_.range,l_=i_.range,h_=u_.range,d_=o_.range,p_=lm((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/xm}),(function(t){return t.getUTCDate()-1})),v_=p_,g_=p_.range,b_=lm((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));b_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?lm((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var y_=b_,m_=b_.range;function __(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function x_(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function w_(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function M_(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,u=t.days,o=t.shortDays,a=t.months,c=t.shortMonths,f=D_(i),s=I_(i),l=D_(u),h=I_(u),d=D_(o),p=I_(o),v=D_(a),g=I_(a),b=D_(c),y=I_(c),m={a:z,A:q,b:D,B:I,c:null,d:rx,e:rx,f:cx,g:mx,G:xx,H:ix,I:ux,j:ox,L:ax,m:fx,M:sx,p:U,q:L,Q:Hx,s:Gx,S:lx,u:hx,U:dx,V:vx,w:gx,W:bx,x:null,X:null,y:yx,Y:_x,Z:wx,"%":Yx},_={a:B,A:O,b:j,B:F,c:null,d:Mx,e:Mx,f:Ax,g:Bx,G:jx,H:kx,I:Sx,j:Tx,L:Nx,m:Cx,M:Ex,p:Y,q:H,Q:Hx,s:Gx,S:Px,u:Rx,U:zx,V:Dx,w:Ix,W:Ux,x:null,X:null,y:Lx,Y:Ox,Z:Fx,"%":Yx},x={a:T,A:N,b:A,B:C,c:E,d:V_,e:V_,f:J_,g:Y_,G:F_,H:$_,I:$_,j:Z_,L:K_,m:X_,M:W_,p:S,q:G_,Q:nx,s:ex,S:Q_,u:L_,U:B_,V:O_,w:U_,W:j_,x:P,X:R,y:Y_,Y:F_,Z:H_,"%":tx};function w(t,n){return function(e){var r,i,u,o=[],a=-1,c=0,f=t.length;e instanceof Date||(e=new Date(+e));while(++a<f)37===t.charCodeAt(a)&&(o.push(t.slice(c,a)),null!=(i=C_[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(u=n[r])&&(r=u(e,i)),o.push(r),c=a+1);return o.push(t.slice(c,a)),o.join("")}}function M(t,n){return function(e){var r,i,u=w_(1900,void 0,1),o=k(u,t,e+="",0);if(o!=e.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(1e3*u.s+("L"in u?u.L:0));if(n&&!("Z"in u)&&(u.Z=0),"p"in u&&(u.H=u.H%12+12*u.p),void 0===u.m&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(r=x_(w_(u.y,0,1)),i=r.getUTCDay(),r=i>4||0===i?n_.ceil(r):n_(r),r=v_.offset(r,7*(u.V-1)),u.y=r.getUTCFullYear(),u.m=r.getUTCMonth(),u.d=r.getUTCDate()+(u.w+6)%7):(r=__(w_(u.y,0,1)),i=r.getDay(),r=i>4||0===i?Sm.ceil(r):Sm(r),r=Bm.offset(r,7*(u.V-1)),u.y=r.getFullYear(),u.m=r.getMonth(),u.d=r.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),i="Z"in u?x_(w_(u.y,0,1)).getUTCDay():__(w_(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(i+5)%7:u.w+7*u.U-(i+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,x_(u)):__(u)}}function k(t,n,e,r){var i,u,o=0,a=n.length,c=e.length;while(o<a){if(r>=c)return-1;if(i=n.charCodeAt(o++),37===i){if(i=n.charAt(o++),u=x[i in C_?n.charAt(o++):i],!u||(r=u(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function S(t,n,e){var r=f.exec(n.slice(e));return r?(t.p=s[r[0].toLowerCase()],e+r[0].length):-1}function T(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1}function N(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1}function A(t,n,e){var r=b.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1}function C(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=g[r[0].toLowerCase()],e+r[0].length):-1}function E(t,e,r){return k(t,n,e,r)}function P(t,n,r){return k(t,e,n,r)}function R(t,n,e){return k(t,r,n,e)}function z(t){return o[t.getDay()]}function q(t){return u[t.getDay()]}function D(t){return c[t.getMonth()]}function I(t){return a[t.getMonth()]}function U(t){return i[+(t.getHours()>=12)]}function L(t){return 1+~~(t.getMonth()/3)}function B(t){return o[t.getUTCDay()]}function O(t){return u[t.getUTCDay()]}function j(t){return c[t.getUTCMonth()]}function F(t){return a[t.getUTCMonth()]}function Y(t){return i[+(t.getUTCHours()>=12)]}function H(t){return 1+~~(t.getUTCMonth()/3)}return m.x=w(e,m),m.X=w(r,m),m.c=w(n,m),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",m);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}var k_,S_,T_,N_,A_,C_={"-":"",_:" ",0:"0"},E_=/^\s*\d+/,P_=/^%/,R_=/[\\^$*+?|[\]().{}]/g;function z_(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",u=i.length;return r+(u<e?new Array(e-u+1).join(n)+i:i)}function q_(t){return t.replace(R_,"\\$&")}function D_(t){return new RegExp("^(?:"+t.map(q_).join("|")+")","i")}function I_(t){var n={},e=-1,r=t.length;while(++e<r)n[t[e].toLowerCase()]=e;return n}function U_(t,n,e){var r=E_.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function L_(t,n,e){var r=E_.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function B_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function O_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function j_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function F_(t,n,e){var r=E_.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Y_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function H_(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function G_(t,n,e){var r=E_.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function X_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function V_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Z_(t,n,e){var r=E_.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function $_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function W_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Q_(t,n,e){var r=E_.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function K_(t,n,e){var r=E_.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function J_(t,n,e){var r=E_.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function tx(t,n,e){var r=P_.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function nx(t,n,e){var r=E_.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function ex(t,n,e){var r=E_.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function rx(t,n){return z_(t.getDate(),n,2)}function ix(t,n){return z_(t.getHours(),n,2)}function ux(t,n){return z_(t.getHours()%12||12,n,2)}function ox(t,n){return z_(1+Bm.count(dm(t),t),n,3)}function ax(t,n){return z_(t.getMilliseconds(),n,3)}function cx(t,n){return ax(t,n)+"000"}function fx(t,n){return z_(t.getMonth()+1,n,2)}function sx(t,n){return z_(t.getMinutes(),n,2)}function lx(t,n){return z_(t.getSeconds(),n,2)}function hx(t){var n=t.getDay();return 0===n?7:n}function dx(t,n){return z_(km.count(dm(t)-1,t),n,2)}function px(t){var n=t.getDay();return n>=4||0===n?Am(t):Am.ceil(t)}function vx(t,n){return t=px(t),z_(Am.count(dm(t),t)+(4===dm(t).getDay()),n,2)}function gx(t){return t.getDay()}function bx(t,n){return z_(Sm.count(dm(t)-1,t),n,2)}function yx(t,n){return z_(t.getFullYear()%100,n,2)}function mx(t,n){return t=px(t),z_(t.getFullYear()%100,n,2)}function _x(t,n){return z_(t.getFullYear()%1e4,n,4)}function xx(t,n){var e=t.getDay();return t=e>=4||0===e?Am(t):Am.ceil(t),z_(t.getFullYear()%1e4,n,4)}function wx(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+z_(n/60|0,"0",2)+z_(n%60,"0",2)}function Mx(t,n){return z_(t.getUTCDate(),n,2)}function kx(t,n){return z_(t.getUTCHours(),n,2)}function Sx(t,n){return z_(t.getUTCHours()%12||12,n,2)}function Tx(t,n){return z_(1+v_.count(y_(t),t),n,3)}function Nx(t,n){return z_(t.getUTCMilliseconds(),n,3)}function Ax(t,n){return Nx(t,n)+"000"}function Cx(t,n){return z_(t.getUTCMonth()+1,n,2)}function Ex(t,n){return z_(t.getUTCMinutes(),n,2)}function Px(t,n){return z_(t.getUTCSeconds(),n,2)}function Rx(t){var n=t.getUTCDay();return 0===n?7:n}function zx(t,n){return z_(t_.count(y_(t)-1,t),n,2)}function qx(t){var n=t.getUTCDay();return n>=4||0===n?i_(t):i_.ceil(t)}function Dx(t,n){return t=qx(t),z_(i_.count(y_(t),t)+(4===y_(t).getUTCDay()),n,2)}function Ix(t){return t.getUTCDay()}function Ux(t,n){return z_(n_.count(y_(t)-1,t),n,2)}function Lx(t,n){return z_(t.getUTCFullYear()%100,n,2)}function Bx(t,n){return t=qx(t),z_(t.getUTCFullYear()%100,n,2)}function Ox(t,n){return z_(t.getUTCFullYear()%1e4,n,4)}function jx(t,n){var e=t.getUTCDay();return t=e>=4||0===e?i_(t):i_.ceil(t),z_(t.getUTCFullYear()%1e4,n,4)}function Fx(){return"+0000"}function Yx(){return"%"}function Hx(t){return+t}function Gx(t){return Math.floor(+t/1e3)}function Xx(t){return k_=M_(t),S_=k_.format,T_=k_.parse,N_=k_.utcFormat,A_=k_.utcParse,k_}Xx({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Vx=1e3,Zx=60*Vx,$x=60*Zx,Wx=24*$x,Qx=7*Wx,Kx=30*Wx,Jx=365*Wx;function tw(t){return new Date(t)}function nw(t){return t instanceof Date?+t:+new Date(+t)}function ew(t,n,e,r,i,o,a,c,f){var s=qy(Ny,Ny),l=s.invert,h=s.domain,d=f(".%L"),p=f(":%S"),v=f("%I:%M"),g=f("%I %p"),b=f("%a %d"),y=f("%b %d"),m=f("%B"),_=f("%Y"),x=[[a,1,Vx],[a,5,5*Vx],[a,15,15*Vx],[a,30,30*Vx],[o,1,Zx],[o,5,5*Zx],[o,15,15*Zx],[o,30,30*Zx],[i,1,$x],[i,3,3*$x],[i,6,6*$x],[i,12,12*$x],[r,1,Wx],[r,2,2*Wx],[e,1,Qx],[n,1,Kx],[n,3,3*Kx],[t,1,Jx]];function w(u){return(a(u)<u?d:o(u)<u?p:i(u)<u?v:r(u)<u?g:n(u)<u?e(u)<u?b:y:t(u)<u?m:_)(u)}function M(n,e,r,i){if(null==n&&(n=10),"number"===typeof n){var o=Math.abs(r-e)/n,a=u((function(t){return t[2]})).right(x,o);a===x.length?(i=E(e/Jx,r/Jx,n),n=t):a?(a=x[o/x[a-1][2]<x[a][2]/o?a-1:a],i=a[1],n=a[0]):(i=Math.max(E(e,r,n),1),n=c)}return null==i?n:n.every(i)}return s.invert=function(t){return new Date(l(t))},s.domain=function(t){return arguments.length?h(by.call(t,nw)):h().map(tw)},s.ticks=function(t,n){var e,r=h(),i=r[0],u=r[r.length-1],o=u<i;return o&&(e=i,i=u,u=e),e=M(t,i,u,n),e=e?e.range(i,u+1):[],o?e.reverse():e},s.tickFormat=function(t,n){return null==n?w:f(n)},s.nice=function(t,n){var e=h();return(t=M(t,e[0],e[e.length-1],n))?h(By(e,t)):s},s.copy=function(){return Ry(s,ew(t,n,e,r,i,o,a,c,f))},s}function rw(){return py.apply(ew(dm,gm,km,Bm,Fm,Gm,Zm,Qm,S_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var iw=lm((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),uw=iw,ow=iw.range,aw=lm((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+n*_m)}),(function(t,n){return(n-t)/_m}),(function(t){return t.getUTCHours()})),cw=aw,fw=aw.range,sw=lm((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*mm)}),(function(t,n){return(n-t)/mm}),(function(t){return t.getUTCMinutes()})),lw=sw,hw=sw.range;function dw(){return py.apply(ew(y_,uw,t_,v_,cw,lw,Zm,Qm,N_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pw(){var t,n,e,r,i,u=0,o=1,a=Ny,c=!1;function f(n){return isNaN(n=+n)?i:a(0===e?.5:(n=(r(n)-t)*e,c?Math.max(0,Math.min(1,n)):n))}return f.domain=function(i){return arguments.length?(t=r(u=+i[0]),n=r(o=+i[1]),e=t===n?0:1/(n-t),f):[u,o]},f.clamp=function(t){return arguments.length?(c=!!t,f):c},f.interpolator=function(t){return arguments.length?(a=t,f):a},f.unknown=function(t){return arguments.length?(i=t,f):i},function(i){return r=i,t=i(u),n=i(o),e=t===n?0:1/(n-t),f}}function vw(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gw(){var t=Iy(pw()(Ny));return t.copy=function(){return vw(t,gw())},vy.apply(t,arguments)}function bw(){var t=Zy(pw()).domain([1,10]);return t.copy=function(){return vw(t,bw()).base(t.base())},vy.apply(t,arguments)}function yw(){var t=Ky(pw());return t.copy=function(){return vw(t,yw()).constant(t.constant())},vy.apply(t,arguments)}function mw(){var t=rm(pw());return t.copy=function(){return vw(t,mw()).exponent(t.exponent())},vy.apply(t,arguments)}function _w(){return mw.apply(null,arguments).exponent(.5)}function xw(){var t=[],n=Ny;function e(e){if(!isNaN(e=+e))return n((s(t,e)-1)/(t.length-1))}return e.domain=function(n){if(!arguments.length)return t.slice();t=[];for(var r,u=0,o=n.length;u<o;++u)r=n[u],null==r||isNaN(r=+r)||t.push(r);return t.sort(i),e},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return xw(n).domain(t)},vy.apply(e,arguments)}function ww(){var t,n,e,r,i,u,o,a=0,c=.5,f=1,s=Ny,l=!1;function h(t){return isNaN(t=+t)?o:(t=.5+((t=+u(t))-n)*(t<n?r:i),s(l?Math.max(0,Math.min(1,t)):t))}return h.domain=function(o){return arguments.length?(t=u(a=+o[0]),n=u(c=+o[1]),e=u(f=+o[2]),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h):[a,c,f]},h.clamp=function(t){return arguments.length?(l=!!t,h):l},h.interpolator=function(t){return arguments.length?(s=t,h):s},h.unknown=function(t){return arguments.length?(o=t,h):o},function(o){return u=o,t=o(a),n=o(c),e=o(f),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h}}function Mw(){var t=Iy(ww()(Ny));return t.copy=function(){return vw(t,Mw())},vy.apply(t,arguments)}function kw(){var t=Zy(ww()).domain([.1,1,10]);return t.copy=function(){return vw(t,kw()).base(t.base())},vy.apply(t,arguments)}function Sw(){var t=Ky(ww());return t.copy=function(){return vw(t,Sw()).constant(t.constant())},vy.apply(t,arguments)}function Tw(){var t=rm(ww());return t.copy=function(){return vw(t,Tw()).exponent(t.exponent())},vy.apply(t,arguments)}function Nw(){return Tw.apply(null,arguments).exponent(.5)}function Aw(t){var n=t.length/6|0,e=new Array(n),r=0;while(r<n)e[r]="#"+t.slice(6*r,6*++r);return e}var Cw=Aw("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ew=Aw("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Pw=Aw("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Rw=Aw("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),zw=Aw("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),qw=Aw("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Dw=Aw("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Iw=Aw("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Uw=Aw("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Lw=Aw("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Bw(t){return ur(t[t.length-1])}var Ow=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Aw),jw=Bw(Ow),Fw=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Aw),Yw=Bw(Fw),Hw=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Aw),Gw=Bw(Hw),Xw=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Aw),Vw=Bw(Xw),Zw=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Aw),$w=Bw(Zw),Ww=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Aw),Qw=Bw(Ww),Kw=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Aw),Jw=Bw(Kw),tM=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Aw),nM=Bw(tM),eM=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Aw),rM=Bw(eM),iM=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Aw),uM=Bw(iM),oM=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Aw),aM=Bw(oM),cM=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Aw),fM=Bw(cM),sM=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Aw),lM=Bw(sM),hM=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Aw),dM=Bw(hM),pM=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Aw),vM=Bw(pM),gM=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Aw),bM=Bw(gM),yM=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Aw),mM=Bw(yM),_M=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Aw),xM=Bw(_M),wM=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Aw),MM=Bw(wM),kM=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Aw),SM=Bw(kM),TM=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Aw),NM=Bw(TM),AM=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Aw),CM=Bw(AM),EM=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Aw),PM=Bw(EM),RM=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Aw),zM=Bw(RM),qM=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Aw),DM=Bw(qM),IM=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Aw),UM=Bw(IM),LM=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Aw),BM=Bw(LM);function OM(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var jM=Wb(Sa(300,.5,0),Sa(-240,.5,1)),FM=Wb(Sa(-100,.75,.35),Sa(80,1.5,.8)),YM=Wb(Sa(260,.75,.35),Sa(80,1.5,.8)),HM=Sa();function GM(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return HM.h=360*t-100,HM.s=1.5-1.5*n,HM.l=.8-.9*n,HM+""}var XM=Le(),VM=Math.PI/3,ZM=2*Math.PI/3;function $M(t){var n;return t=(.5-t)*Math.PI,XM.r=255*(n=Math.sin(t))*n,XM.g=255*(n=Math.sin(t+VM))*n,XM.b=255*(n=Math.sin(t+ZM))*n,XM+""}function WM(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function QM(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var KM=QM(Aw("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),JM=QM(Aw("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),tk=QM(Aw("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),nk=QM(Aw("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ek(t){return se(In(t).call(document.documentElement))}var rk=0;function ik(){return new uk}function uk(){this._="@"+(++rk).toString(36)}function ok(t){return"string"===typeof t?new ae([document.querySelectorAll(t)],[document.documentElement]):new ae([null==t?[]:t],oe)}function ak(t,n){null==n&&(n=_r().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=xr(t,n[e]);return i}function ck(t){return function(){return t}}uk.prototype=ik.prototype={constructor:uk,get:function(t){var n=this._;while(!(n in t))if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var fk=Math.abs,sk=Math.atan2,lk=Math.cos,hk=Math.max,dk=Math.min,pk=Math.sin,vk=Math.sqrt,gk=1e-12,bk=Math.PI,yk=bk/2,mk=2*bk;function _k(t){return t>1?0:t<-1?bk:Math.acos(t)}function xk(t){return t>=1?yk:t<=-1?-yk:Math.asin(t)}function wk(t){return t.innerRadius}function Mk(t){return t.outerRadius}function kk(t){return t.startAngle}function Sk(t){return t.endAngle}function Tk(t){return t&&t.padAngle}function Nk(t,n,e,r,i,u,o,a){var c=e-t,f=r-n,s=o-i,l=a-u,h=l*c-s*f;if(!(h*h<gk))return h=(s*(n-u)-l*(t-i))/h,[t+h*c,n+h*f]}function Ak(t,n,e,r,i,u,o){var a=t-e,c=n-r,f=(o?u:-u)/vk(a*a+c*c),s=f*c,l=-f*a,h=t+s,d=n+l,p=e+s,v=r+l,g=(h+p)/2,b=(d+v)/2,y=p-h,m=v-d,_=y*y+m*m,x=i-u,w=h*v-p*d,M=(m<0?-1:1)*vk(hk(0,x*x*_-w*w)),k=(w*m-y*M)/_,S=(-w*y-m*M)/_,T=(w*m+y*M)/_,N=(-w*y+m*M)/_,A=k-g,C=S-b,E=T-g,P=N-b;return A*A+C*C>E*E+P*P&&(k=T,S=N),{cx:k,cy:S,x01:-s,y01:-l,x11:k*(i/x-1),y11:S*(i/x-1)}}function Ck(){var t=wk,n=Mk,e=ck(0),r=null,i=kk,u=Sk,o=Tk,a=null;function c(){var c,f,s=+t.apply(this,arguments),l=+n.apply(this,arguments),h=i.apply(this,arguments)-yk,d=u.apply(this,arguments)-yk,p=fk(d-h),v=d>h;if(a||(a=c=ko()),l<s&&(f=l,l=s,s=f),l>gk)if(p>mk-gk)a.moveTo(l*lk(h),l*pk(h)),a.arc(0,0,l,h,d,!v),s>gk&&(a.moveTo(s*lk(d),s*pk(d)),a.arc(0,0,s,d,h,v));else{var g,b,y=h,m=d,_=h,x=d,w=p,M=p,k=o.apply(this,arguments)/2,S=k>gk&&(r?+r.apply(this,arguments):vk(s*s+l*l)),T=dk(fk(l-s)/2,+e.apply(this,arguments)),N=T,A=T;if(S>gk){var C=xk(S/s*pk(k)),E=xk(S/l*pk(k));(w-=2*C)>gk?(C*=v?1:-1,_+=C,x-=C):(w=0,_=x=(h+d)/2),(M-=2*E)>gk?(E*=v?1:-1,y+=E,m-=E):(M=0,y=m=(h+d)/2)}var P=l*lk(y),R=l*pk(y),z=s*lk(x),q=s*pk(x);if(T>gk){var D,I=l*lk(m),U=l*pk(m),L=s*lk(_),B=s*pk(_);if(p<bk&&(D=Nk(P,R,L,B,I,U,z,q))){var O=P-D[0],j=R-D[1],F=I-D[0],Y=U-D[1],H=1/pk(_k((O*F+j*Y)/(vk(O*O+j*j)*vk(F*F+Y*Y)))/2),G=vk(D[0]*D[0]+D[1]*D[1]);N=dk(T,(s-G)/(H-1)),A=dk(T,(l-G)/(H+1))}}M>gk?A>gk?(g=Ak(L,B,P,R,l,A,v),b=Ak(I,U,z,q,l,A,v),a.moveTo(g.cx+g.x01,g.cy+g.y01),A<T?a.arc(g.cx,g.cy,A,sk(g.y01,g.x01),sk(b.y01,b.x01),!v):(a.arc(g.cx,g.cy,A,sk(g.y01,g.x01),sk(g.y11,g.x11),!v),a.arc(0,0,l,sk(g.cy+g.y11,g.cx+g.x11),sk(b.cy+b.y11,b.cx+b.x11),!v),a.arc(b.cx,b.cy,A,sk(b.y11,b.x11),sk(b.y01,b.x01),!v))):(a.moveTo(P,R),a.arc(0,0,l,y,m,!v)):a.moveTo(P,R),s>gk&&w>gk?N>gk?(g=Ak(z,q,I,U,s,-N,v),b=Ak(P,R,L,B,s,-N,v),a.lineTo(g.cx+g.x01,g.cy+g.y01),N<T?a.arc(g.cx,g.cy,N,sk(g.y01,g.x01),sk(b.y01,b.x01),!v):(a.arc(g.cx,g.cy,N,sk(g.y01,g.x01),sk(g.y11,g.x11),!v),a.arc(0,0,s,sk(g.cy+g.y11,g.cx+g.x11),sk(b.cy+b.y11,b.cx+b.x11),v),a.arc(b.cx,b.cy,N,sk(b.y11,b.x11),sk(b.y01,b.x01),!v))):a.arc(0,0,s,x,_,v):a.lineTo(z,q)}else a.moveTo(0,0);if(a.closePath(),c)return a=null,c+""||null}return c.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +u.apply(this,arguments))/2-bk/2;return[lk(r)*e,pk(r)*e]},c.innerRadius=function(n){return arguments.length?(t="function"===typeof n?n:ck(+n),c):t},c.outerRadius=function(t){return arguments.length?(n="function"===typeof t?t:ck(+t),c):n},c.cornerRadius=function(t){return arguments.length?(e="function"===typeof t?t:ck(+t),c):e},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:ck(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:ck(+t),c):i},c.endAngle=function(t){return arguments.length?(u="function"===typeof t?t:ck(+t),c):u},c.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:ck(+t),c):o},c.context=function(t){return arguments.length?(a=null==t?null:t,c):a},c}function Ek(t){this._context=t}function Pk(t){return new Ek(t)}function Rk(t){return t[0]}function zk(t){return t[1]}function qk(){var t=Rk,n=zk,e=ck(!0),r=null,i=Pk,u=null;function o(o){var a,c,f,s=o.length,l=!1;for(null==r&&(u=i(f=ko())),a=0;a<=s;++a)!(a<s&&e(c=o[a],a,o))===l&&((l=!l)?u.lineStart():u.lineEnd()),l&&u.point(+t(c,a,o),+n(c,a,o));if(f)return u=null,f+""||null}return o.x=function(n){return arguments.length?(t="function"===typeof n?n:ck(+n),o):t},o.y=function(t){return arguments.length?(n="function"===typeof t?t:ck(+t),o):n},o.defined=function(t){return arguments.length?(e="function"===typeof t?t:ck(!!t),o):e},o.curve=function(t){return arguments.length?(i=t,null!=r&&(u=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=u=null:u=i(r=t),o):r},o}function Dk(){var t=Rk,n=null,e=ck(0),r=zk,i=ck(!0),u=null,o=Pk,a=null;function c(c){var f,s,l,h,d,p=c.length,v=!1,g=new Array(p),b=new Array(p);for(null==u&&(a=o(d=ko())),f=0;f<=p;++f){if(!(f<p&&i(h=c[f],f,c))===v)if(v=!v)s=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),l=f-1;l>=s;--l)a.point(g[l],b[l]);a.lineEnd(),a.areaEnd()}v&&(g[f]=+t(h,f,c),b[f]=+e(h,f,c),a.point(n?+n(h,f,c):g[f],r?+r(h,f,c):b[f]))}if(d)return a=null,d+""||null}function f(){return qk().defined(i).curve(o).context(u)}return c.x=function(e){return arguments.length?(t="function"===typeof e?e:ck(+e),n=null,c):t},c.x0=function(n){return arguments.length?(t="function"===typeof n?n:ck(+n),c):t},c.x1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:ck(+t),c):n},c.y=function(t){return arguments.length?(e="function"===typeof t?t:ck(+t),r=null,c):e},c.y0=function(t){return arguments.length?(e="function"===typeof t?t:ck(+t),c):e},c.y1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:ck(+t),c):r},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(r)},c.lineX1=function(){return f().x(n).y(e)},c.defined=function(t){return arguments.length?(i="function"===typeof t?t:ck(!!t),c):i},c.curve=function(t){return arguments.length?(o=t,null!=u&&(a=o(u)),c):o},c.context=function(t){return arguments.length?(null==t?u=a=null:a=o(u=t),c):u},c}function Ik(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function Uk(t){return t}function Lk(){var t=Uk,n=Ik,e=null,r=ck(0),i=ck(mk),u=ck(0);function o(o){var a,c,f,s,l,h=o.length,d=0,p=new Array(h),v=new Array(h),g=+r.apply(this,arguments),b=Math.min(mk,Math.max(-mk,i.apply(this,arguments)-g)),y=Math.min(Math.abs(b)/h,u.apply(this,arguments)),m=y*(b<0?-1:1);for(a=0;a<h;++a)(l=v[p[a]=a]=+t(o[a],a,o))>0&&(d+=l);for(null!=n?p.sort((function(t,e){return n(v[t],v[e])})):null!=e&&p.sort((function(t,n){return e(o[t],o[n])})),a=0,f=d?(b-h*m)/d:0;a<h;++a,g=s)c=p[a],l=v[c],s=g+(l>0?l*f:0)+m,v[c]={data:o[c],index:a,value:l,startAngle:g,endAngle:s,padAngle:y};return v}return o.value=function(n){return arguments.length?(t="function"===typeof n?n:ck(+n),o):t},o.sortValues=function(t){return arguments.length?(n=t,e=null,o):n},o.sort=function(t){return arguments.length?(e=t,n=null,o):e},o.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:ck(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:ck(+t),o):i},o.padAngle=function(t){return arguments.length?(u="function"===typeof t?t:ck(+t),o):u},o}Ek.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};var Bk=jk(Pk);function Ok(t){this._curve=t}function jk(t){function n(n){return new Ok(t(n))}return n._curve=t,n}function Fk(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(jk(t)):n()._curve},t}function Yk(){return Fk(qk().curve(Bk))}function Hk(){var t=Dk().curve(Bk),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,u=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Fk(e())},delete t.lineX0,t.lineEndAngle=function(){return Fk(r())},delete t.lineX1,t.lineInnerRadius=function(){return Fk(i())},delete t.lineY0,t.lineOuterRadius=function(){return Fk(u())},delete t.lineY1,t.curve=function(t){return arguments.length?n(jk(t)):n()._curve},t}function Gk(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}Ok.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var Xk=Array.prototype.slice;function Vk(t){return t.source}function Zk(t){return t.target}function $k(t){var n=Vk,e=Zk,r=Rk,i=zk,u=null;function o(){var o,a=Xk.call(arguments),c=n.apply(this,a),f=e.apply(this,a);if(u||(u=o=ko()),t(u,+r.apply(this,(a[0]=c,a)),+i.apply(this,a),+r.apply(this,(a[0]=f,a)),+i.apply(this,a)),o)return u=null,o+""||null}return o.source=function(t){return arguments.length?(n=t,o):n},o.target=function(t){return arguments.length?(e=t,o):e},o.x=function(t){return arguments.length?(r="function"===typeof t?t:ck(+t),o):r},o.y=function(t){return arguments.length?(i="function"===typeof t?t:ck(+t),o):i},o.context=function(t){return arguments.length?(u=null==t?null:t,o):u},o}function Wk(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function Qk(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function Kk(t,n,e,r,i){var u=Gk(n,e),o=Gk(n,e=(e+i)/2),a=Gk(r,e),c=Gk(r,i);t.moveTo(u[0],u[1]),t.bezierCurveTo(o[0],o[1],a[0],a[1],c[0],c[1])}function Jk(){return $k(Wk)}function tS(){return $k(Qk)}function nS(){var t=$k(Kk);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var eS={draw:function(t,n){var e=Math.sqrt(n/bk);t.moveTo(e,0),t.arc(0,0,e,0,mk)}},rS={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},iS=Math.sqrt(1/3),uS=2*iS,oS={draw:function(t,n){var e=Math.sqrt(n/uS),r=e*iS;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},aS=.8908130915292852,cS=Math.sin(bk/10)/Math.sin(7*bk/10),fS=Math.sin(mk/10)*cS,sS=-Math.cos(mk/10)*cS,lS={draw:function(t,n){var e=Math.sqrt(n*aS),r=fS*e,i=sS*e;t.moveTo(0,-e),t.lineTo(r,i);for(var u=1;u<5;++u){var o=mk*u/5,a=Math.cos(o),c=Math.sin(o);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},hS={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},dS=Math.sqrt(3),pS={draw:function(t,n){var e=-Math.sqrt(n/(3*dS));t.moveTo(0,2*e),t.lineTo(-dS*e,-e),t.lineTo(dS*e,-e),t.closePath()}},vS=-.5,gS=Math.sqrt(3)/2,bS=1/Math.sqrt(12),yS=3*(bS/2+1),mS={draw:function(t,n){var e=Math.sqrt(n/yS),r=e/2,i=e*bS,u=r,o=e*bS+e,a=-u,c=o;t.moveTo(r,i),t.lineTo(u,o),t.lineTo(a,c),t.lineTo(vS*r-gS*i,gS*r+vS*i),t.lineTo(vS*u-gS*o,gS*u+vS*o),t.lineTo(vS*a-gS*c,gS*a+vS*c),t.lineTo(vS*r+gS*i,vS*i-gS*r),t.lineTo(vS*u+gS*o,vS*o-gS*u),t.lineTo(vS*a+gS*c,vS*c-gS*a),t.closePath()}},_S=[eS,rS,oS,hS,lS,pS,mS];function xS(){var t=ck(eS),n=ck(64),e=null;function r(){var r;if(e||(e=r=ko()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"===typeof n?n:ck(n),r):t},r.size=function(t){return arguments.length?(n="function"===typeof t?t:ck(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r}function wS(){}function MS(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function kS(t){this._context=t}function SS(t){return new kS(t)}function TS(t){this._context=t}function NS(t){return new TS(t)}function AS(t){this._context=t}function CS(t){return new AS(t)}function ES(t,n){this._basis=new kS(t),this._beta=n}kS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:MS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:MS(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},TS.prototype={areaStart:wS,areaEnd:wS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:MS(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},AS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:MS(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},ES.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0){var r,i=t[0],u=n[0],o=t[e]-i,a=n[e]-u,c=-1;while(++c<=e)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*o),this._beta*n[c]+(1-this._beta)*(u+r*a))}this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var PS=function t(n){function e(t){return 1===n?new kS(t):new ES(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function RS(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function zS(t,n){this._context=t,this._k=(1-n)/6}zS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:RS(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:RS(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var qS=function t(n){function e(t){return new zS(t,n)}return e.tension=function(n){return t(+n)},e}(0);function DS(t,n){this._context=t,this._k=(1-n)/6}DS.prototype={areaStart:wS,areaEnd:wS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:RS(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var IS=function t(n){function e(t){return new DS(t,n)}return e.tension=function(n){return t(+n)},e}(0);function US(t,n){this._context=t,this._k=(1-n)/6}US.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:RS(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var LS=function t(n){function e(t){return new US(t,n)}return e.tension=function(n){return t(+n)},e}(0);function BS(t,n,e){var r=t._x1,i=t._y1,u=t._x2,o=t._y2;if(t._l01_a>gk){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>gk){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);u=(u*f+t._x1*t._l23_2a-n*t._l12_2a)/s,o=(o*f+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,u,o,t._x2,t._y2)}function OS(t,n){this._context=t,this._alpha=n}OS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:BS(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var jS=function t(n){function e(t){return n?new OS(t,n):new zS(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function FS(t,n){this._context=t,this._alpha=n}FS.prototype={areaStart:wS,areaEnd:wS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:BS(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var YS=function t(n){function e(t){return n?new FS(t,n):new DS(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function HS(t,n){this._context=t,this._alpha=n}HS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:BS(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var GS=function t(n){function e(t){return n?new HS(t,n):new US(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function XS(t){this._context=t}function VS(t){return new XS(t)}function ZS(t){return t<0?-1:1}function $S(t,n,e){var r=t._x1-t._x0,i=n-t._x1,u=(t._y1-t._y0)/(r||i<0&&-0),o=(e-t._y1)/(i||r<0&&-0),a=(u*i+o*r)/(r+i);return(ZS(u)+ZS(o))*Math.min(Math.abs(u),Math.abs(o),.5*Math.abs(a))||0}function WS(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function QS(t,n,e){var r=t._x0,i=t._y0,u=t._x1,o=t._y1,a=(u-r)/3;t._context.bezierCurveTo(r+a,i+a*n,u-a,o-a*e,u,o)}function KS(t){this._context=t}function JS(t){this._context=new tT(t)}function tT(t){this._context=t}function nT(t){return new KS(t)}function eT(t){return new JS(t)}function rT(t){this._context=t}function iT(t){var n,e,r=t.length-1,i=new Array(r),u=new Array(r),o=new Array(r);for(i[0]=0,u[0]=2,o[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,u[n]=4,o[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,u[r-1]=7,o[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/u[n-1],u[n]-=e,o[n]-=e*o[n-1];for(i[r-1]=o[r-1]/u[r-1],n=r-2;n>=0;--n)i[n]=(o[n]-i[n+1])/u[n];for(u[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)u[n]=2*t[n+1]-i[n+1];return[i,u]}function uT(t){return new rT(t)}function oT(t,n){this._context=t,this._t=n}function aT(t){return new oT(t,.5)}function cT(t){return new oT(t,0)}function fT(t){return new oT(t,1)}function sT(t,n){if((i=t.length)>1)for(var e,r,i,u=1,o=t[n[0]],a=o.length;u<i;++u)for(r=o,o=t[n[u]],e=0;e<a;++e)o[e][1]+=o[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function lT(t){var n=t.length,e=new Array(n);while(--n>=0)e[n]=n;return e}function hT(t,n){return t[n]}function dT(){var t=ck([]),n=lT,e=sT,r=hT;function i(i){var u,o,a=t.apply(this,arguments),c=i.length,f=a.length,s=new Array(f);for(u=0;u<f;++u){for(var l,h=a[u],d=s[u]=new Array(c),p=0;p<c;++p)d[p]=l=[0,+r(i[p],h,p,i)],l.data=i[p];d.key=h}for(u=0,o=n(s);u<f;++u)s[o[u]].index=u;return e(s,o),s}return i.keys=function(n){return arguments.length?(t="function"===typeof n?n:ck(Xk.call(n)),i):t},i.value=function(t){return arguments.length?(r="function"===typeof t?t:ck(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?lT:"function"===typeof t?t:ck(Xk.call(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?sT:t,i):e},i}function pT(t,n){if((r=t.length)>0){for(var e,r,i,u=0,o=t[0].length;u<o;++u){for(i=e=0;e<r;++e)i+=t[e][u][1]||0;if(i)for(e=0;e<r;++e)t[e][u][1]/=i}sT(t,n)}}function vT(t,n){if((a=t.length)>0)for(var e,r,i,u,o,a,c=0,f=t[n[0]].length;c<f;++c)for(u=o=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>0?(r[0]=u,r[1]=u+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)}function gT(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],u=i.length;r<u;++r){for(var o=0,a=0;o<e;++o)a+=t[o][r][1]||0;i[r][1]+=i[r][0]=-a/2}sT(t,n)}}function bT(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,u=0,o=1;o<r;++o){for(var a=0,c=0,f=0;a<i;++a){for(var s=t[n[a]],l=s[o][1]||0,h=s[o-1][1]||0,d=(l-h)/2,p=0;p<a;++p){var v=t[n[p]],g=v[o][1]||0,b=v[o-1][1]||0;d+=g-b}c+=l,f+=d*l}e[o-1][1]+=e[o-1][0]=u,c&&(u-=f/c)}e[o-1][1]+=e[o-1][0]=u,sT(t,n)}}function yT(t){var n=t.map(mT);return lT(t).sort((function(t,e){return n[t]-n[e]}))}function mT(t){var n,e=-1,r=0,i=t.length,u=-1/0;while(++e<i)(n=+t[e][1])>u&&(u=n,r=e);return r}function _T(t){var n=t.map(xT);return lT(t).sort((function(t,e){return n[t]-n[e]}))}function xT(t){var n,e=0,r=-1,i=t.length;while(++r<i)(n=+t[r][1])&&(e+=n);return e}function wT(t){return _T(t).reverse()}function MT(t){var n,e,r=t.length,i=t.map(xT),u=yT(t),o=0,a=0,c=[],f=[];for(n=0;n<r;++n)e=u[n],o<a?(o+=i[e],c.push(e)):(a+=i[e],f.push(e));return f.reverse().concat(c)}function kT(t){return lT(t).reverse()}XS.prototype={areaStart:wS,areaEnd:wS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},KS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:QS(this,this._t0,WS(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,QS(this,WS(this,e=$S(this,t,n)),e);break;default:QS(this,this._t0,e=$S(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(JS.prototype=Object.create(KS.prototype)).point=function(t,n){KS.prototype.point.call(this,n,t)},tT.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,u){this._context.bezierCurveTo(n,t,r,e,u,i)}},rT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=iT(t),i=iT(n),u=0,o=1;o<e;++u,++o)this._context.bezierCurveTo(r[0][u],i[0][u],r[1][u],i[1][u],t[o],n[o]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},oT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}this._x=t,this._y=n}};var ST="%Y-%m-%dT%H:%M:%S.%LZ";function TT(t){return t.toISOString()}var NT=Date.prototype.toISOString?TT:N_(ST),AT=NT;function CT(t){var n=new Date(t);return isNaN(n)?null:n}var ET=+new Date("2000-01-01T00:00:00.000Z")?CT:A_(ST),PT=ET;function RT(t,n,e){var r=new Ur,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?Dr():+e,r.restart((function u(o){o+=i,r.restart(u,i+=n,e),t(o)}),n,e),r)}function zT(t){return function(){return t}}function qT(t){return t[0]}function DT(t){return t[1]}function IT(){this._=null}function UT(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function LT(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function BT(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function OT(t){while(t.L)t=t.L;return t}IT.prototype={constructor:IT,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){t=t.R;while(t.L)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=OT(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);n.L=n.R=null,n.U=e,n.C=!0,t=n;while(e&&e.C)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(LT(this,e),t=e,e=t.U),e.C=!1,r.C=!0,BT(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(BT(this,e),t=e,e=t.U),e.C=!1,r.C=!0,LT(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,u=t.L,o=t.R;if(e=u?o?OT(o):u:o,i?i.L===t?i.L=e:i.R=e:this._=e,u&&o?(r=e.C,e.C=t.C,e.L=u,u.U=e,e!==o?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=o,o.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if(n=i.R,n.C&&(n.C=!1,i.C=!0,LT(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,BT(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,LT(this,i),t=this._;break}}else if(n=i.L,n.C&&(n.C=!1,i.C=!0,BT(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,LT(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,BT(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var jT=IT;function FT(t,n,e,r){var i=[null,null],u=gN.push(i)-1;return i.left=t,i.right=n,e&&HT(i,t,n,e),r&&HT(i,n,t,r),pN[t.index].halfedges.push(u),pN[n.index].halfedges.push(u),i}function YT(t,n,e){var r=[n,e];return r.left=t,r}function HT(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function GT(t,n,e,r,i){var u,o=t[0],a=t[1],c=o[0],f=o[1],s=a[0],l=a[1],h=0,d=1,p=s-c,v=l-f;if(u=n-c,p||!(u>0)){if(u/=p,p<0){if(u<h)return;u<d&&(d=u)}else if(p>0){if(u>d)return;u>h&&(h=u)}if(u=r-c,p||!(u<0)){if(u/=p,p<0){if(u>d)return;u>h&&(h=u)}else if(p>0){if(u<h)return;u<d&&(d=u)}if(u=e-f,v||!(u>0)){if(u/=v,v<0){if(u<h)return;u<d&&(d=u)}else if(v>0){if(u>d)return;u>h&&(h=u)}if(u=i-f,v||!(u<0)){if(u/=v,v<0){if(u>d)return;u>h&&(h=u)}else if(v>0){if(u<h)return;u<d&&(d=u)}return!(h>0||d<1)||(h>0&&(t[0]=[c+h*p,f+h*v]),d<1&&(t[1]=[c+d*p,f+d*v]),!0)}}}}}function XT(t,n,e,r,i){var u=t[1];if(u)return!0;var o,a,c=t[0],f=t.left,s=t.right,l=f[0],h=f[1],d=s[0],p=s[1],v=(l+d)/2,g=(h+p)/2;if(p===h){if(v<n||v>=r)return;if(l>d){if(c){if(c[1]>=i)return}else c=[v,e];u=[v,i]}else{if(c){if(c[1]<e)return}else c=[v,i];u=[v,e]}}else if(o=(l-d)/(p-h),a=g-o*v,o<-1||o>1)if(l>d){if(c){if(c[1]>=i)return}else c=[(e-a)/o,e];u=[(i-a)/o,i]}else{if(c){if(c[1]<e)return}else c=[(i-a)/o,i];u=[(e-a)/o,e]}else if(h<p){if(c){if(c[0]>=r)return}else c=[n,o*n+a];u=[r,o*r+a]}else{if(c){if(c[0]<n)return}else c=[r,o*r+a];u=[n,o*n+a]}return t[0]=c,t[1]=u,!0}function VT(t,n,e,r){var i,u=gN.length;while(u--)XT(i=gN[u],t,n,e,r)&&GT(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>bN||Math.abs(i[0][1]-i[1][1])>bN)||delete gN[u]}function ZT(t){return pN[t.index]={site:t,halfedges:[]}}function $T(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function WT(t,n){return n[+(n.left!==t.site)]}function QT(t,n){return n[+(n.left===t.site)]}function KT(){for(var t,n,e,r,i=0,u=pN.length;i<u;++i)if((t=pN[i])&&(r=(n=t.halfedges).length)){var o=new Array(r),a=new Array(r);for(e=0;e<r;++e)o[e]=e,a[e]=$T(t,gN[n[e]]);for(o.sort((function(t,n){return a[n]-a[t]})),e=0;e<r;++e)a[e]=n[o[e]];for(e=0;e<r;++e)n[e]=a[e]}}function JT(t,n,e,r){var i,u,o,a,c,f,s,l,h,d,p,v,g=pN.length,b=!0;for(i=0;i<g;++i)if(u=pN[i]){o=u.site,c=u.halfedges,a=c.length;while(a--)gN[c[a]]||c.splice(a,1);a=0,f=c.length;while(a<f)d=QT(u,gN[c[a]]),p=d[0],v=d[1],s=WT(u,gN[c[++a%f]]),l=s[0],h=s[1],(Math.abs(p-l)>bN||Math.abs(v-h)>bN)&&(c.splice(a,0,gN.push(YT(o,d,Math.abs(p-t)<bN&&r-v>bN?[t,Math.abs(l-t)<bN?h:r]:Math.abs(v-r)<bN&&e-p>bN?[Math.abs(h-r)<bN?l:e,r]:Math.abs(p-e)<bN&&v-n>bN?[e,Math.abs(l-e)<bN?h:n]:Math.abs(v-n)<bN&&p-t>bN?[Math.abs(h-n)<bN?l:t,n]:null))-1),++f);f&&(b=!1)}if(b){var y,m,_,x=1/0;for(i=0,b=null;i<g;++i)(u=pN[i])&&(o=u.site,y=o[0]-t,m=o[1]-n,_=y*y+m*m,_<x&&(x=_,b=u));if(b){var w=[t,n],M=[t,r],k=[e,r],S=[e,n];b.halfedges.push(gN.push(YT(o=b.site,w,M))-1,gN.push(YT(o,M,k))-1,gN.push(YT(o,k,S))-1,gN.push(YT(o,S,w))-1)}}for(i=0;i<g;++i)(u=pN[i])&&(u.halfedges.length||delete pN[i])}var tN,nN=[];function eN(){UT(this),this.x=this.y=this.arc=this.site=this.cy=null}function rN(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,u=e.site;if(r!==u){var o=i[0],a=i[1],c=r[0]-o,f=r[1]-a,s=u[0]-o,l=u[1]-a,h=2*(c*l-f*s);if(!(h>=-yN)){var d=c*c+f*f,p=s*s+l*l,v=(l*d-f*p)/h,g=(c*p-s*d)/h,b=nN.pop()||new eN;b.arc=t,b.site=i,b.x=v+o,b.y=(b.cy=g+a)+Math.sqrt(v*v+g*g),t.circle=b;var y=null,m=vN._;while(m)if(b.y<m.y||b.y===m.y&&b.x<=m.x){if(!m.L){y=m.P;break}m=m.L}else{if(!m.R){y=m;break}m=m.R}vN.insert(y,b),y||(tN=b)}}}}function iN(t){var n=t.circle;n&&(n.P||(tN=n.N),vN.remove(n),nN.push(n),UT(n),t.circle=null)}var uN=[];function oN(){UT(this),this.edge=this.site=this.circle=null}function aN(t){var n=uN.pop()||new oN;return n.site=t,n}function cN(t){iN(t),dN.remove(t),uN.push(t),UT(t)}function fN(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],u=t.P,o=t.N,a=[t];cN(t);var c=u;while(c.circle&&Math.abs(e-c.circle.x)<bN&&Math.abs(r-c.circle.cy)<bN)u=c.P,a.unshift(c),cN(c),c=u;a.unshift(c),iN(c);var f=o;while(f.circle&&Math.abs(e-f.circle.x)<bN&&Math.abs(r-f.circle.cy)<bN)o=f.N,a.push(f),cN(f),f=o;a.push(f),iN(f);var s,l=a.length;for(s=1;s<l;++s)f=a[s],c=a[s-1],HT(f.edge,c.site,f.site,i);c=a[0],f=a[l-1],f.edge=FT(c.site,f.site,null,i),rN(c),rN(f)}function sN(t){var n,e,r,i,u=t[0],o=t[1],a=dN._;while(a)if(r=lN(a,o)-u,r>bN)a=a.L;else{if(i=u-hN(a,o),!(i>bN)){r>-bN?(n=a.P,e=a):i>-bN?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}ZT(t);var c=aN(t);if(dN.insert(n,c),n||e){if(n===e)return iN(n),e=aN(n.site),dN.insert(c,e),c.edge=e.edge=FT(n.site,c.site),rN(n),void rN(e);if(e){iN(n),iN(e);var f=n.site,s=f[0],l=f[1],h=t[0]-s,d=t[1]-l,p=e.site,v=p[0]-s,g=p[1]-l,b=2*(h*g-d*v),y=h*h+d*d,m=v*v+g*g,_=[(g*y-d*m)/b+s,(h*m-v*y)/b+l];HT(e.edge,f,p,_),c.edge=FT(f,t,null,_),e.edge=FT(t,p,null,_),rN(n),rN(e)}else c.edge=FT(n.site,c.site)}}function lN(t,n){var e=t.site,r=e[0],i=e[1],u=i-n;if(!u)return r;var o=t.P;if(!o)return-1/0;e=o.site;var a=e[0],c=e[1],f=c-n;if(!f)return a;var s=a-r,l=1/u-1/f,h=s/f;return l?(-h+Math.sqrt(h*h-2*l*(s*s/(-2*f)-c+f/2+i-u/2)))/l+r:(r+a)/2}function hN(t,n){var e=t.N;if(e)return lN(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var dN,pN,vN,gN,bN=1e-6,yN=1e-12;function mN(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function _N(t,n){return n[1]-t[1]||n[0]-t[0]}function xN(t,n){var e,r,i,u=t.sort(_N).pop();gN=[],pN=new Array(t.length),dN=new jT,vN=new jT;while(1)if(i=tN,u&&(!i||u[1]<i.y||u[1]===i.y&&u[0]<i.x))u[0]===e&&u[1]===r||(sN(u),e=u[0],r=u[1]),u=t.pop();else{if(!i)break;fN(i.arc)}if(KT(),n){var o=+n[0][0],a=+n[0][1],c=+n[1][0],f=+n[1][1];VT(o,a,c,f),JT(o,a,c,f)}this.edges=gN,this.cells=pN,dN=vN=gN=pN=null}function wN(){var t=qT,n=DT,e=null;function r(r){return new xN(r.map((function(e,i){var u=[Math.round(t(e,i,r)/bN)*bN,Math.round(n(e,i,r)/bN)*bN];return u.index=i,u.data=e,u})),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"===typeof n?n:zT(+n),r):t},r.y=function(t){return arguments.length?(n="function"===typeof t?t:zT(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r}function MN(t){return function(){return t}}function kN(t,n,e){this.target=t,this.type=n,this.transform=e}function SN(t,n,e){this.k=t,this.x=n,this.y=e}xN.prototype={constructor:xN,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return WT(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,r){if(u=(i=e.halfedges).length){var i,u,o,a=e.site,c=-1,f=n[i[u-1]],s=f.left===a?f.right:f.left;while(++c<u)o=s,f=n[i[c]],s=f.left===a?f.right:f.left,o&&s&&r<o.index&&r<s.index&&mN(a,o,s)<0&&t.push([a.data,o.data,s.data])}})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){var r,i,u=this,o=u._found||0,a=u.cells.length;while(!(i=u.cells[o]))if(++o>=a)return null;var c=t-i.site[0],f=n-i.site[1],s=c*c+f*f;do{i=u.cells[r=o],o=null,i.halfedges.forEach((function(e){var r=u.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var c=t-a[0],f=n-a[1],l=c*c+f*f;l<s&&(s=l,o=a.index)}}))}while(null!==o);return u._found=r,null==e||s<=e*e?i.site:null}},SN.prototype={constructor:SN,scale:function(t){return 1===t?this:new SN(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new SN(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var TN=new SN(1,0,0);function NN(t){while(!t.__zoom)if(!(t=t.parentNode))return TN;return t.__zoom}function AN(){Vn.stopImmediatePropagation()}function CN(){Vn.preventDefault(),Vn.stopImmediatePropagation()}function EN(){return!Vn.ctrlKey&&!Vn.button}function PN(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function RN(){return this.__zoom||TN}function zN(){return-Vn.deltaY*(1===Vn.deltaMode?.05:Vn.deltaMode?1:.002)}function qN(){return navigator.maxTouchPoints||"ontouchstart"in this}function DN(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],u=t.invertY(n[0][1])-e[0][1],o=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>u?(u+o)/2:Math.min(0,u)||Math.max(0,o))}function IN(){var t,n,e=EN,r=PN,i=DN,u=zN,o=qN,a=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,s=Ob,l=bt("start","zoom","end"),h=500,d=150,p=0;function v(t){t.property("__zoom",RN).on("wheel.zoom",w).on("mousedown.zoom",M).on("dblclick.zoom",k).filter(o).on("touchstart.zoom",S).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,n){return n=Math.max(a[0],Math.min(a[1],n)),n===t.k?t:new SN(n,t.x,t.y)}function b(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new SN(t.k,r,i)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function m(t,n,e){t.on("start.zoom",(function(){_(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,u=_(t,i),o=r.apply(t,i),a=null==e?y(o):"function"===typeof e?e.apply(t,i):e,c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),f=t.__zoom,l="function"===typeof n?n.apply(t,i):n,h=s(f.invert(a).concat(c/f.k),l.invert(a).concat(c/l.k));return function(t){if(1===t)t=l;else{var n=h(t),e=c/n[2];t=new SN(e,a[0]-n[0]*e,a[1]-n[1]*e)}u.zoom(null,t)}}))}function _(t,n,e){return!e&&t.__zooming||new x(t,n)}function x(t,n){this.that=t,this.args=n,this.active=0,this.extent=r.apply(t,n),this.taps=0}function w(){if(e.apply(this,arguments)){var t=_(this,arguments),n=this.__zoom,r=Math.max(a[0],Math.min(a[1],n.k*Math.pow(2,u.apply(this,arguments)))),o=Mr(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=n.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[o,n.invert(o)],ui(this),t.start()}CN(),t.wheel=setTimeout(f,d),t.zoom("mouse",i(b(g(n,r),t.mouse[0],t.mouse[1]),t.extent,c))}function f(){t.wheel=null,t.end()}}function M(){if(!n&&e.apply(this,arguments)){var t=_(this,arguments,!0),r=se(Vn.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",s,!0),u=Mr(this),o=Vn.clientX,a=Vn.clientY;de(Vn.view),AN(),t.mouse=[u,this.__zoom.invert(u)],ui(this),t.start()}function f(){if(CN(),!t.moved){var n=Vn.clientX-o,e=Vn.clientY-a;t.moved=n*n+e*e>p}t.zoom("mouse",i(b(t.that.__zoom,t.mouse[0]=Mr(t.that),t.mouse[1]),t.extent,c))}function s(){r.on("mousemove.zoom mouseup.zoom",null),pe(Vn.view,t.moved),CN(),t.end()}}function k(){if(e.apply(this,arguments)){var t=this.__zoom,n=Mr(this),u=t.invert(n),o=t.k*(Vn.shiftKey?.5:2),a=i(b(g(t,o),n,u),r.apply(this,arguments),c);CN(),f>0?se(this).transition().duration(f).call(m,a,n):se(this).call(v.transform,a)}}function S(){if(e.apply(this,arguments)){var n,r,i,u,o=Vn.touches,a=o.length,c=_(this,arguments,Vn.changedTouches.length===a);for(AN(),r=0;r<a;++r)i=o[r],u=wr(this,o,i.identifier),u=[u,this.__zoom.invert(u),i.identifier],c.touch0?c.touch1||c.touch0[2]===u[2]||(c.touch1=u,c.taps=0):(c.touch0=u,n=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(c.taps<2&&(t=setTimeout((function(){t=null}),h)),ui(this),c.start())}}function T(){if(this.__zooming){var n,e,r,u,o=_(this,arguments),a=Vn.changedTouches,f=a.length;for(CN(),t&&(t=clearTimeout(t)),o.taps=0,n=0;n<f;++n)e=a[n],r=wr(this,a,e.identifier),o.touch0&&o.touch0[2]===e.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===e.identifier&&(o.touch1[0]=r);if(e=o.that.__zoom,o.touch1){var s=o.touch0[0],l=o.touch0[1],h=o.touch1[0],d=o.touch1[1],p=(p=h[0]-s[0])*p+(p=h[1]-s[1])*p,v=(v=d[0]-l[0])*v+(v=d[1]-l[1])*v;e=g(e,Math.sqrt(p/v)),r=[(s[0]+h[0])/2,(s[1]+h[1])/2],u=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],u=o.touch0[1]}o.zoom("touch",i(b(e,r,u),o.extent,c))}}function N(){if(this.__zooming){var t,e,r=_(this,arguments),i=Vn.changedTouches,u=i.length;for(AN(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),t=0;t<u;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var o=se(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return v.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",RN),t!==r?m(t,n,e):r.interrupt().each((function(){_(this,arguments).start().zoom(null,"function"===typeof n?n.apply(this,arguments):n).end()}))},v.scaleBy=function(t,n,e){v.scaleTo(t,(function(){var t=this.__zoom.k,e="function"===typeof n?n.apply(this,arguments):n;return t*e}),e)},v.scaleTo=function(t,n,e){v.transform(t,(function(){var t=r.apply(this,arguments),u=this.__zoom,o=null==e?y(t):"function"===typeof e?e.apply(this,arguments):e,a=u.invert(o),f="function"===typeof n?n.apply(this,arguments):n;return i(b(g(u,f),o,a),t,c)}),e)},v.translateBy=function(t,n,e){v.transform(t,(function(){return i(this.__zoom.translate("function"===typeof n?n.apply(this,arguments):n,"function"===typeof e?e.apply(this,arguments):e),r.apply(this,arguments),c)}))},v.translateTo=function(t,n,e,u){v.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==u?y(t):"function"===typeof u?u.apply(this,arguments):u;return i(TN.translate(a[0],a[1]).scale(o.k).translate("function"===typeof n?-n.apply(this,arguments):-n,"function"===typeof e?-e.apply(this,arguments):-e),t,c)}),u)},x.prototype={start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){ne(new kN(v,t,this.that.__zoom),l.apply,l,[t,this.that,this.args])}},v.wheelDelta=function(t){return arguments.length?(u="function"===typeof t?t:MN(+t),v):u},v.filter=function(t){return arguments.length?(e="function"===typeof t?t:MN(!!t),v):e},v.touchable=function(t){return arguments.length?(o="function"===typeof t?t:MN(!!t),v):o},v.extent=function(t){return arguments.length?(r="function"===typeof t?t:MN([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):r},v.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],v):[a[0],a[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(i=t,v):i},v.duration=function(t){return arguments.length?(f=+t,v):f},v.interpolate=function(t){return arguments.length?(s=t,v):s},v.on=function(){var t=l.on.apply(l,arguments);return t===l?v:t},v.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,v):Math.sqrt(p)},v}NN.prototype=SN.prototype}}]);
//# sourceMappingURL=report-legacy.f4b307ee.js.map